!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define("fedops-logger",[],b):"object"==typeof exports?exports["fedops-logger"]=b():a["fedops-logger"]=b()}("undefined"!=typeof self?self:this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};if(b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b.p="undefined"!=typeof window&&window.__STATICS_BASE_URL__||b.p,"undefined"!=typeof document){var d=document.getElementById("fedops-logger-angular.stylable.bundle.css");d||(d=document.createElement("style"),d.id="fedops-logger-angular.stylable.bundle.css",document.head.appendChild(d)),d.textContent=""}return b(b.s=29)}([function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=c(2),i=d(h),j=function(a){function b(a,c){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,{src:72,evid:a,session_id:c,_:(new Date).getTime()}))}return g(b,a),b}(i["default"]);b["default"]=j},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(8),f=d(e);b["default"]={getNavigation:function(){return window&&window.performance?window.performance.navigation:{}},getResources:function(){var a=[];try{return window&&window.performance&&window.performance.getEntriesByType&&window.performance.getEntriesByType("resource")||a}catch(b){return a}},getTiming:function(){return window&&window.performance?window.performance.timing:{}},now:function(){return window&&window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},mark:function(a){f["default"].isFedopsDev()&&window&&window.performance&&window.performance.mark&&window.performance.mark(a)},measure:function(a,b,c){f["default"].isFedopsDev()&&window&&window.performance&&window.performance.measure&&window.performance.measure(a,b,c)}}},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;d(this,a),this.data=b}return e(a,[{key:"isActive",value:function(){return!0}},{key:"export",value:function(){return this.data}}]),a}();b["default"]=f},function(a,b,c){"use strict";function d(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c+"="+encodeURIComponent(a[c]));return b.join("&")}function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]={mapToQuery:d,generateGuid:e}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(16),h=d(g),i=c(17),j=d(i),k=c(5),l=d(k),m=c(9),n=d(m),o=c(1),p=d(o),q=c(18),r=d(q),s=function(){function a(b,c,d,f){var g=f.sessionId,i=f.errorHandlerToggle,j=f.disableAutoLoadFinish;e(this,a),this.appName=b,this.appVersion=c,this.reporter=d,this.params={sessionId:g},this.errorHandlerToggle=i,this.disableAutoLoadFinish=j,this.dataSource=new h["default"]({appName:b}),i&&window.fedopsLoggerErrorHandler.subscribeListener(b,this.reportError.bind(this))}return f(a,[{key:"reportNetworkAnalysis",value:function(){var a=this,b=p["default"].getResources();setTimeout(function(){try{var c=new r["default"](a.sessionId),d=c.performNetworkAnalysis(b);if(!d)return;var e=a.dataSource.clone().addItem(c).addItem(d);a._report(e)}catch(f){console.error("[fedops] Failed to report resource metrics",f)}},1e3)}},{key:"reportError",value:function(a,b,c){var d=void 0;d=this._appLoadedCalled?Object.keys(this._outgoingInteractions)[0]:"[APP LOAD]";var e=this.dataSource.clone().addItem({interactionName:d}).addItem({errorType:b}).addItem({errorInfo:c}).addItem(new n["default"](this.sessionId));d&&this._report(e)}},{key:"_report",value:function(a){return this.reporter.report(a.mergeItems())}},{key:"getAppName",value:function(){return this.appName}},{key:"getAppVersion",value:function(){return this.appVersion}},{key:"getReporter",value:function(){return this.reporter}},{key:"getParam",value:function(a){return this.params[a]}},{key:"_isDisableAutoLoadFinish",value:function(){return this.disableAutoLoadFinish}},{key:"appLoadingPhase",value:function(a){var b=this.dataSource.clone().addItem({name:a}).addItem(new j["default"](this.sessionId)).addItem(new l["default"]);return this._report(b)}},{key:"sessionId",get:function(){return this.getParam("sessionId")}}]),a}();b["default"]=s},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(6),j=d(i),k=c(2),l=d(k),m=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,{duration:Math.floor(j["default"].appLoadTime(a))}));return c.appName=a,c}return g(b,a),h(b,[{key:"setFirstRequestDuration",value:function(){return this.data.frd=Math.floor(j["default"].firstRequestDuration(this.appName)),this}}]),b}(l["default"]);b["default"]=m},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return h["default"].getStartLoadTime(a)||0}function f(){return j["default"].now()}Object.defineProperty(b,"__esModule",{value:!0});var g=c(7),h=d(g),i=c(1),j=d(i);b["default"]={appLoadTime:function(a){return f()-e(a)},loadStarted:function(a){h["default"].setStartLoadTime(a,j["default"].now())},firstRequestDuration:function(a){return e(a)}}},function(a,b,c){"use strict";function d(a){return window.fedops.apps[a]}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]={init:function(a){window.fedops.apps[a]=window.fedops.apps[a]||{}},getStartLoadTime:function(a){var b=d(a);return b?b.startLoadTime:null},setStartLoadTime:function(a,b){return d(a).startLoadTime=b}}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=function(){return"undefined"!=typeof window&&window.location};b["default"]={getHost:function(){return d()&&window.location.host},isFedopsDev:function(){var a=(d()||{}).search||"";return a.indexOf("fedops=dev")>-1}}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0}),b.EVID=void 0;var h=c(0),i=d(h),j=b.EVID=17,k=function(a){function b(a){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,j,a))}return g(b,a),b}(i["default"]);b["default"]=k},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=b.baseUrl,d=void 0===c?null:c,e=b.appId,f=void 0===e?null:e,h=b.isWidgetLogger,i=void 0===h?!1:h,j=b.errorHandlerToggle,k=void 0===j?!1:j,l=b.disableAutoLoadFinish,m=void 0===l?!1:l,n=b.swallowExceptions,o=void 0===n?!1:n,p=b.interactionTimeout,q=void 0===p?null:p,r=b.timeoutHook,s=void 0===r?null:r,t=b.startHook,u=void 0===t?null:t,v=b.endHook,w=void 0===v?null:v,x=b.networkAnalysis,y=void 0===x?!1:x,z="undefined"!=typeof window?"1.0.0-SNAPSHOT":null;return(new g["default"]).setAppName(a).setAppVersion(z).setBaseUrl(d).setAppId(f).setErrorHandlerToggle(k).setSwallowExceptions(o).setWidgetLogger(i).setInteractionTimeout(q).setTimeoutHook(s).setStartHook(u).setEndHook(w).setDisableAutoLoadFinish(m).setNetworkAnalysis(y).build()}Object.defineProperty(b,"__esModule",{value:!0}),b.create=e;var f=c(11),g=d(f)},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(){var a="undefined"!=typeof window&&window.fedops&&window.fedops.sessionId;return a=a||l["default"].getItem(u.SESSION_ID_STORAGE_KEY),a=a||j["default"].generateGuid(),l["default"].setItem(u.SESSION_ID_STORAGE_KEY,a),a}function g(a){v=a}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();b.setFactory=g;var i=c(3),j=d(i),k=c(12),l=d(k),m=c(13),n=d(m),o=c(15),p=d(o),q=c(22),r=d(q),s=c(24),t=d(s),u=c(26),v=n["default"],w=function(){function a(){e(this,a)}return h(a,[{key:"setAppName",value:function(a){return this.appName=a,this}},{key:"setAppVersion",value:function(a){return this.appVersion=a,this}},{key:"setErrorHandlerToggle",value:function(a){return this.errorHandlerToggle=a,this}},{key:"setSwallowExceptions",value:function(a){return this.swallowExceptions=a,this}},{key:"setAppId",value:function(a){return this.appId=a,this}},{key:"setBaseUrl",value:function(a){return this.baseUrl=a,this}},{key:"setWidgetLogger",value:function(a){return this.isWidgetLogger=a,this}},{key:"setInteractionTimeout",value:function(a){return this.interactionTimeout=a,this}},{key:"setTimeoutHook",value:function(a){return this.timeoutHook=a,this}},{key:"setStartHook",value:function(a){return this.startHook=a,this}},{key:"setEndHook",value:function(a){return this.endHook=a,this}},{key:"setDisableAutoLoadFinish",value:function(a){return this.disableAutoLoadFinish=a,this}},{key:"setNetworkAnalysis",value:function(){return this}},{key:"build",value:function(){if(!this.appName)return null;this.appVersion||(this.appVersion=u.DEFAULT_APP_VERSION);var a=new v(this.baseUrl||u.BI_BASE_URL),b=this.errorHandlerToggle,c=this.swallowExceptions,d=this.interactionTimeout,e=this.timeoutHook,g=this.startHook,h=this.endHook,i=this.disableAutoLoadFinish;b&&(window.fedopsLoggerErrorHandler=window.fedopsLoggerErrorHandler||new t["default"]({swallowExceptions:c}));var j=null;return j=this.isWidgetLogger?new r["default"](this.appName,this.appVersion,a,{sessionId:f(),errorHandlerToggle:b,swallowExceptions:c,disableAutoLoadFinish:i}):new p["default"](this.appName,this.appVersion,a,{sessionId:f(),errorHandlerToggle:b,swallowExceptions:c,disableAutoLoadFinish:i,interactionTimeout:d,timeoutHook:e,startHook:g,endHook:h})}}]),a}();b["default"]=w},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b["default"]={getItem:function(a){try{return window.localStorage.getItem(a)}catch(b){}},setItem:function(a,b){try{return window.localStorage.setItem(a,b)}catch(c){}}}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(14),h=d(g),i=c(3),j=d(i),k=function(){function a(b){e(this,a),this.baseUrl=b}return f(a,[{key:"getBaseUrl",value:function(){return this.baseUrl}},{key:"report",value:function(a){return a?h["default"].fetch(this.baseUrl+"?"+j["default"].mapToQuery(a)):null}}]),a}();b["default"]=k},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b["default"]={fetch:function(a){return(new window.Image).src=a}}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(4),j=d(i),k=c(19),l=d(k),m=c(5),n=d(m),o=c(20),p=d(o),q=c(21),r=d(q),s=c(9),t=d(s),u=c(1),v=d(u),w=function(a,b){return a?a(b):void 0},x=function(a){function b(a,c,d,g){var h=g.sessionId,i=g.errorHandlerToggle,j=g.disableAutoLoadFinish,k=g.interactionTimeout,l=g.timeoutHook,m=g.startHook,n=g.endHook;e(this,b);var o=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,{sessionId:h,errorHandlerToggle:i,disableAutoLoadFinish:j}));return o._outgoingInteractions={},o.interactionTimeout=k,o.timeoutHook=l,o.startHook=m,o.endHook=n,o}return g(b,a),h(b,[{key:"appLoaded",value:function(){if(!this._appLoadedCalled){window&&window.fedops&&"function"==typeof window.fedops.clearLoadTimeout&&window.fedops.clearLoadTimeout();var a=this.dataSource.clone().addItem(new l["default"](this.sessionId)).addItem(new n["default"](this.appName).setFirstRequestDuration());return this._appLoadedCalled=!0,v["default"].mark("[fedops] app-loaded"),v["default"].measure("[fedops] app-loaded","navigationStart","[fedops] app-loaded"),this.reportNetworkAnalysis(),this._report(a)}}},{key:"interactionStarted",value:function(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=c.interactionTimeout,e=c.startHook,f=c.timeoutHook;v["default"].mark(a+" started");var g=function(){return d||b.interactionTimeout?setTimeout(function(){var c=b.dataSource.clone().addItem({interactionName:a}).addItem({errorType:"timeout"}).addItem(new t["default"](b.sessionId));b._report(c),w(f||b.timeoutHook,{name:a,timeout:d||b.interactionTimeout})},d||b.interactionTimeout):void 0},h=this.dataSource.clone().addItem({name:a}).addItem(new p["default"](this.sessionId));this._outgoingInteractions[a]={timestamp:v["default"].now(),timeout:d||this.interactionTimeout},this._report(h),w(e||this.startHook,{name:a});var i=g();return{timeoutId:i}}},{key:"interactionEnded",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=b.timeoutId,d=b.endHook;v["default"].mark(a+" ended"),v["default"].measure(a+" duration",a+" started",a+" ended"),c&&clearTimeout(c);var e=this._outgoingInteractions[a]?Math.floor(v["default"].now()-this._outgoingInteractions[a].timestamp):"";w(d||this.endHook,{name:a,duration:e,timeout:this._outgoingInteractions[a]&&this._outgoingInteractions[a].timeout});var f=this.dataSource.clone().addItem({name:a}).addItem({duration:e}).addItem(new r["default"](this.sessionId));delete this._outgoingInteractions[a],this._report(f)}},{key:"isDisableAutoLoadFinish",value:function(){return this._isDisableAutoLoadFinish()}}]),b}(j["default"]);b["default"]=x},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(2),h=d(g),i=function(){function a(){var b=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e(this,a),this.items=[],c&&("undefined"==typeof c.length?[c]:c).forEach(function(a){return b.addItem(a)})}return f(a,[{key:"clone",value:function(){return new a(this.items.slice())}},{key:"addItem",value:function(a){return this.items.push(a instanceof h["default"]?a:new h["default"](a)),this}},{key:"mergeItems",value:function(){for(var a={},b=0;b<this.items.length;b++){var c=this.items[b];if(!c.isActive()){a=null;break}var d=c["export"]();for(var e in d)d.hasOwnProperty(e)&&(a[e]=d[e])}return a}}]),a}();b["default"]=i},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=c(0),i=d(h),j=function(a){function b(a){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,13,a))}return g(b,a),b}(i["default"]);b["default"]=j},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function h(a,b){var c=D[b];return a.filter(function(a){return b===a.initiatorType&&(c?c(a):!0)})}function i(a){return a.reduce(function(a,b){return a+b.transferSize},0)}function j(a){if(0===a.length)return 0;var b=a.reduce(function(a,b){return E(b)>=E(a)?b:a});return E(b)}function k(a){if(0===a.length)return 0;var b={startTime:1/0,responseEnd:0};return a.forEach(function(a){b.startTime>a.startTime&&(b.startTime=a.startTime),b.responseEnd<a.responseEnd&&(b.responseEnd=a.responseEnd)}),b.responseEnd-b.startTime}function l(a){var b=a.length;if(0===b)return 0;var c=a.filter(p).length;return Math.round(c/b*100)}function m(a){if(0===a.length)return 0;var b=a.filter(function(a){return 0===a.transferSize});return Math.round(b.length/a.length*100)}function n(a){if(0===a.length)return 0;var b=!1,c=Math.round(a.filter(function(a){return b=b||"nextHopProtocol"in a,"h2"===a.nextHopProtocol}).length/a.length*100);return b?c:NaN}function o(a){return!a.name.match(/http(s)?:\/\/frog.wix.com\//)}function p(a){return q(a.name)&&0===a.transferSize&&0===a.requestStart}function q(a){var b=z["default"].getHost();return b&&-1===a.indexOf(b)}function r(a){return Object.keys(a).reduce(function(b,c){var d=parseInt(a[c]);return isNaN(d)||"number"!=typeof d||(b[c]=d),b},{})}function s(a){var b=a.filter(function(a){return!p(a)});return Object.keys(C).reduce(function(c,d){var e=h(a,d),f=h(b,d),g=C[d];return c[g.count]=f.length,c[g.duration]=k(f),c[g.total]=i(f),c[g.unsupported]=l(e),c[g.http2]=n(e),g.longest&&(c[g.longest]=j(f)),g.cached&&(c[g.cached]=m(f)),c},{})}function t(a){return{url:a.name,downloadDuration:a.responseEnd-a.startTime,bytesTransferred:a.transferSize,isHTTP2:"h2"===a.nextHopProtocol}}function u(a){var b=a.reduce(function(a,b){return p(b)?a.unsupported.push(b):a.supported.push(b),a},{supported:[],unsupported:[]});return Object.keys(C).reduce(function(a,c){return a[c]={},a[c].supported=h(b.supported,c).map(function(a){return t(a)}),a[c].unsupported=h(b.unsupported,c).map(function(a){return t(a)}),a},{})}Object.defineProperty(b,"__esModule",{value:!0});var v=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),w=c(0),x=d(w),y=c(8),z=d(y),A=c(1),B=d(A),C={xmlhttprequest:{count:"countXhr",unsupported:"unsprtXhr",duration:"timeXhr",total:"sizeXhr",longest:"longXhr",http2:"h2Xhr"},script:{count:"countJs",unsupported:"unsprtJs",duration:"timeJs",total:"sizeJs",cached:"cachedJs",http2:"h2Js"},link:{count:"countCss",unsupported:"unsprtCss",duration:"timeCss",total:"sizeCss",cached:"cachedCss",http2:"h2Css"},img:{count:"countImg",unsupported:"unsprtImg",duration:"timeImg",total:"sizeImg",cached:"cachedImages",http2:"h2Images"}},D={link:function(a){return/(.\.css$|.\.css?.)/g.test(a.name)}},E=function(a){return a.responseEnd-a.startTime},F=function(a){function b(a){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,18,a))}return g(b,a),v(b,[{key:"performNetworkAnalysis",value:function(a){if(0===a.length)return null;var b=B["default"].now(),c=a.filter(o),d=s(c);d.overhead=B["default"].now()-b;var e=r(d);if(console.debug&&z["default"].isFedopsDev()){var f=u(c);console.debug("[fedops network analysis] [bytes analysis]\n"+JSON.stringify(e,null,4)),console.debug("[fedops network analysis] [resources breakdown]\n",f)}return e}}]),b}(x["default"]);b["default"]=F},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=c(0),i=d(h),j=function(a){function b(a){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,11,a))}return g(b,a),b}(i["default"]);b["default"]=j},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0}),b.INTERACTION_START_EVID=void 0;var h=c(0),i=d(h),j=b.INTERACTION_START_EVID=15,k=function(a){function b(a){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,j,a))}return g(b,a),b}(i["default"]);b["default"]=k},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0}),b.INTERACTION_END_EVID=void 0;var h=c(0),i=d(h),j=b.INTERACTION_END_EVID=16,k=function(a){function b(a){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,j,a))}return g(b,a),b}(i["default"]);b["default"]=k},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(4),j=d(i),k=c(23),l=d(k),m=c(6),n=d(m),o=c(7),p=d(o),q=function(a){function b(a,c,d,g){var h=g.sessionId,i=g.disableAutoLoadFinish;e(this,b);var j=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,{sessionId:h,disableAutoLoadFinish:i}));return p["default"].init(j.appName),j}return g(b,a),h(b,[{key:"appLoadStarted",value:function(){n["default"].loadStarted(this.appName);var a=this.dataSource.clone().addItem(new l["default"](this.sessionId));return this._report(a)}},{key:"isDisableAutoLoadFinish",value:function(){return this._isDisableAutoLoadFinish()}}]),b}(j["default"]);b["default"]=q},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=c(0),i=d(h),j=function(a){function b(a){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,14,a))}return g(b,a),b}(i["default"]);b["default"]=j},function(a,b,c){"use strict";(function(a){function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e="undefined"!=typeof window?window:"undefined"!=typeof a?a:"undefined"!=typeof self?self:{},f=function(){function a(b){var d=b.swallowExceptions;c(this,a),this.swallowExceptions=d,this.listeners={},this.instrumentAjax(),this.instrumentSetTimeout(),this.instrumentSetInterval(),this.instrumentAddEventListener(),this.instrumentFetch(),this.instrumentPromise(),this.instrumentGloballyUnhandledError()}return d(a,[{key:"subscribeListener",value:function(a,b){this.listeners[a]=b}},{key:"removeListener",value:function(a){delete this.listeners[a]}},{key:"instrumentAjax",value:function(){var a=this;if("XMLHttpRequest"in e){var b=XMLHttpRequest.prototype;this._wrap(b,"open",function(a){return function(b,c){return this.__fedops_xhr={method:b,url:c,status_code:null},a.apply(this,arguments)}},"xhr"),this._wrap(b,"send",function(b){return function(){function c(){if(1===d.readyState||4===d.readyState){try{d.__fedops_xhr.status_code=d.status}catch(b){}a._isErrorStatusCode(d.__fedops_xhr.status_code)&&a._reportError(d.__fedops_xhr,"xhr",d.__fedops_xhr.status_code)}}var d=this;return a._wrap(this,"onload",function(a){return function(){a&&a.apply(this,arguments)}},"xhr"),a._wrap(this,"onerror",function(a){return function(){a&&a.apply(this,arguments)}},"xhr"),a._wrap(this,"onprogress",function(a){return function(){a&&a.apply(this,arguments)}},"xhr"),"onreadystatechange"in d&&"function"==typeof d.onreadystatechange?a._wrap(d,"onreadystatechange",function(a){return function(){return c(),a.apply(this,arguments)}}):d.onreadystatechange=c,b.apply(this,arguments)}},"xhr")}}},{key:"instrumentSetTimeout",value:function(){var a=this;this._wrap(e,"setTimeout",function(b){return function(c){for(var d=arguments.length,e=Array(d>1?d-1:0),f=1;d>f;f++)e[f-1]=arguments[f];return b.call.apply(b,[this,a._wrapCallback(c,"setTimeout")].concat(e))}})}},{key:"instrumentSetInterval",value:function(){var a=this;this._wrap(e,"setInterval",function(b){return function(c){for(var d=arguments.length,e=Array(d>1?d-1:0),f=1;d>f;f++)e[f-1]=arguments[f];return b.call.apply(b,[this,a._wrapCallback(c,"setInterval")].concat(e))}})}},{key:"instrumentAddEventListener",value:function(){function a(a){var c=e[a]&&e[a].prototype;c&&Object.prototype.hasOwnProperty.call(c,"addEventListener")&&(b._wrap(c,"addEventListener",function(a){return function(c,d,e,f){var g=b._wrapCallback(d,"addEventListener");
return d&&(d.__fedopsWrapper__=g),a.call(this,c,g,e,f)}}),b._wrap(c,"removeEventListener",function(a){return function(b,c,d,e){return c=c&&(c.__fedopsWrapper__||c),a.call(this,b,c,d,e)}}))}var b=this,c=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];c.forEach(function(b){return a(b)})}},{key:"instrumentRequestAnimationFrame",value:function(){}},{key:"instrumentFetch",value:function(){var a=this;this._wrap(e,"fetch",function(b){return function(c,d){return b.apply(this,arguments).then(function(b){var e=b.status;if(a._isErrorStatusCode(e)){var f={url:c,method:d?d.method:"GET",status_code:e};a._reportError(f,"fetch",e)}return b})}})}},{key:"instrumentPromise",value:function(){var a=this;e.addEventListener("unhandledrejection",function(b){a._reportError(b,"promise")})}},{key:"instrumentGloballyUnhandledError",value:function(){var a=this;e.addEventListener("error",function(b){a._reportError(b,"windowOnError")})}},{key:"instrumentHistory",value:function(){}},{key:"_wrap",value:function(a,b,c,d){var e=this,f=a[b],g=c(f),h=function(){try{return g.apply(this,arguments)}catch(a){if(e._reportError(a,d),!e.swallowExceptions)throw a}};a[b]=h}},{key:"_wrapCallback",value:function(a,b){var c=this;return function(){try{return a.apply(this,arguments)}catch(d){if(c._reportError(d,b),!c.swallowExceptions)throw d}}}},{key:"_reportError",value:function(a,b,c){var d=this,e=a&&(a.error||a);if(!e.__fedopsHandledError__){var f=Object.keys(this.listeners);f.forEach(function(a){d.listeners[a](e,b,c)}),e.__fedopsHandledError__=!0}}},{key:"_isErrorStatusCode",value:function(a){return a>=400||0===a}}]),a}();b["default"]=f}).call(b,c(25))},function(a,b){var c;c=function(){return this}();try{c=c||Function("return this")()||(1,eval)("this")}catch(d){"object"==typeof window&&(c=window)}a.exports=c},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.BI_BASE_URL="https://frog.wix.com/fed",b.SESSION_ID_STORAGE_KEY="fedops.logger.sessionId",b.DEFAULT_APP_VERSION="0.0.0"},function(a,b,c){"use strict";function d(){window.fedops=window.fedops||{},window.fedops.apps=window.fedops.apps||{}}Object.defineProperty(b,"__esModule",{value:!0}),b.initiateApp=d},,function(a,b,c){"use strict";var d=c(27),e=c(10);angular.module("fedops",[]),angular.module("fedops").provider("fedopsLogger",function(){return{setAppName:function(a){return this.appName=a,this},setAppId:function(a){return this.appId=a,this},setErrorHandlerToggle:function(a){return this.errorHandlerToggle=a,this},useNewRelic:function(){return this},setBaseUrl:function(a){return this.baseUrl=a,this},setDisableAutoLoadFinish:function(){this.disableAutoLoadFinish=!0},setNetworkAnalysis:function(){this.networkAnalysis=!0},$get:function(){return e.create(this.appName,{baseUrl:this.baseUrl,appId:this.appId,errorHandlerToggle:this.errorHandlerToggle,disableAutoLoadFinish:this.disableAutoLoadFinish,networkAnalysis:this.networkAnalysis})}}}).factory("fedopsLoggerFactory",function(){return{createWidget:function(a,b){return e.create(a,{isWidgetLogger:!0,disableAutoLoadFinish:b})}}}).config(function(){d.initiateApp()}).config(["$provide",function(a){a.decorator("$exceptionHandler",["$delegate","fedopsLogger",function(a,b){return function(c,d){b.errorHandlerToggle&&b.reportError(c,"angular-error"),a(c,d)}}])}]).run(["$injector","fedopsLogger",function(a,b){a.get("$$testability").whenStable(function(){b&&!b.isDisableAutoLoadFinish()&&b.appLoaded()})}])}])}),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(a,b,c){"use strict";function d(a,b){return N(new(N(function(){},{prototype:a})),b)}function e(a){return M(arguments,function(b){b!==a&&M(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a){if(Object.keys)return Object.keys(a);var b=[];return M(a,function(a,c){b.push(c)}),b}function h(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for(d=0>d?Math.ceil(d):Math.floor(d),0>d&&(d+=c);c>d;d++)if(d in a&&a[d]===b)return d;return-1}function i(a,b,c,d){var e,i=f(c,d),j={},k=[];for(var l in i)if(i[l].params&&(e=g(i[l].params),e.length))for(var m in e)h(k,e[m])>=0||(k.push(e[m]),j[e[m]]=a[e[m]]);return N({},j,b)}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return M(a,function(a){c[a]=b[a]}),c}function l(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return M(c,function(c){c in a&&(b[c]=a[c])}),b}function m(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a)-1==h(c,d)&&(b[d]=a[d]);return b}function n(a,b){var c=L(a),d=c?[]:{};return M(a,function(a,e){b(a,e)&&(d[c?d.length:e]=a)}),d}function o(a,b){var c=L(a)?[]:{};return M(a,function(a,d){c[d]=b(a,d)}),c}function p(a,b){var d=1,f=2,i={},j=[],k=i,l=N(a.when(i),{$$promises:i,$$values:i});this.study=function(i){function n(a,c){if(s[c]!==f){if(r.push(c),s[c]===d)throw r.splice(0,h(r,c)),new Error("Cyclic dependency: "+r.join(" -> "));if(s[c]=d,J(a))q.push(c,[function(){return b.get(a)}],j);else{var e=b.annotate(a);M(e,function(a){a!==c&&i.hasOwnProperty(a)&&n(i[a],a)}),q.push(c,a,e)}r.pop(),s[c]=f}}function o(a){return K(a)&&a.then&&a.$$promises}if(!K(i))throw new Error("'invocables' must be an object");var p=g(i||{}),q=[],r=[],s={};return M(i,n),i=r=s=null,function(d,f,g){function h(){--u||(v||e(t,f.$$values),r.$$values=t,r.$$promises=r.$$promises||!0,delete r.$$inheritedValues,n.resolve(t))}function i(a){r.$$failure=a,n.reject(a)}function j(c,e,f){function j(a){l.reject(a),i(a)}function k(){if(!H(r.$$failure))try{l.resolve(b.invoke(e,g,t)),l.promise.then(function(a){t[c]=a,h()},j)}catch(a){j(a)}}var l=a.defer(),m=0;M(f,function(a){s.hasOwnProperty(a)&&!d.hasOwnProperty(a)&&(m++,s[a].then(function(b){t[a]=b,--m||k()},j))}),m||k(),s[c]=l.promise}if(o(d)&&g===c&&(g=f,f=d,d=null),d){if(!K(d))throw new Error("'locals' must be an object")}else d=k;if(f){if(!o(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else f=l;var n=a.defer(),r=n.promise,s=r.$$promises={},t=N({},d),u=1+q.length/3,v=!1;if(H(f.$$failure))return i(f.$$failure),r;f.$$inheritedValues&&e(t,m(f.$$inheritedValues,p)),N(s,f.$$promises),f.$$values?(v=e(t,m(f.$$values,p)),r.$$inheritedValues=m(f.$$values,p),h()):(f.$$inheritedValues&&(r.$$inheritedValues=m(f.$$inheritedValues,p)),f.then(h,i));for(var w=0,x=q.length;x>w;w+=3)d.hasOwnProperty(q[w])?h():j(q[w],q[w+1],q[w+2]);return r}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function q(a,b,c){this.fromConfig=function(a,b,c){return H(a.template)?this.fromString(a.template,b):H(a.templateUrl)?this.fromUrl(a.templateUrl,b):H(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return I(a)?a(b):a},this.fromUrl=function(c,d){return I(c)&&(c=c(d)),null==c?null:a.get(c,{cache:b,headers:{Accept:"text/html"}}).then(function(a){return a.data})},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function r(a,b,e){function f(b,c,d,e){if(q.push(b),o[b])return o[b];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(p[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");return p[b]=new P.Param(b,c,d,e),p[b]}function g(a,b,c,d){var e=["",""],f=a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!b)return f;switch(c){case!1:e=["(",")"+(d?"?":"")];break;case!0:e=["?(",")?"];break;default:e=["("+c+"|",")?"]}return f+e[0]+b+e[1]}function h(e,f){var g,h,i,j,k;return g=e[2]||e[3],k=b.params[g],i=a.substring(m,e.index),h=f?e[4]:e[4]||("*"==e[1]?".*":null),j=P.type(h||"string")||d(P.type("string"),{pattern:new RegExp(h,b.caseInsensitive?"i":c)}),{id:g,regexp:h,segment:i,type:j,cfg:k}}b=N({params:{}},K(b)?b:{});var i,j=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,k=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",m=0,n=this.segments=[],o=e?e.params:{},p=this.params=e?e.params.$$new():new P.ParamSet,q=[];this.source=a;for(var r,s,t;(i=j.exec(a))&&(r=h(i,!1),!(r.segment.indexOf("?")>=0));)s=f(r.id,r.type,r.cfg,"path"),l+=g(r.segment,s.type.pattern.source,s.squash,s.isOptional),n.push(r.segment),m=j.lastIndex;t=a.substring(m);var u=t.indexOf("?");if(u>=0){var v=this.sourceSearch=t.substring(u);if(t=t.substring(0,u),this.sourcePath=a.substring(0,m+u),v.length>0)for(m=0;i=k.exec(v);)r=h(i,!0),s=f(r.id,r.type,r.cfg,"search"),m=j.lastIndex}else this.sourcePath=a,this.sourceSearch="";l+=g(t)+(b.strict===!1?"/?":"")+"$",n.push(t),this.regexp=new RegExp(l,b.caseInsensitive?"i":c),this.prefix=n[0],this.$$paramNames=q}function s(a){N(this,a)}function t(){function a(a){return null!=a?a.toString().replace(/\//g,"%2F"):a}function e(a){return null!=a?a.toString().replace(/%2F/g,"/"):a}function f(){return{strict:p,caseInsensitive:m}}function i(a){return I(a)||L(a)&&I(a[a.length-1])}function j(){for(;w.length;){var a=w.shift();if(a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");b.extend(u[a.name],l.invoke(a.def))}}function k(a){N(this,a||{})}P=this;var l,m=!1,p=!0,q=!1,u={},v=!0,w=[],x={string:{encode:a,decode:e,is:function(a){return null==a||!H(a)||"string"==typeof a},pattern:/[^\/]*/},"int":{encode:a,decode:function(a){return parseInt(a,10)},is:function(a){return H(a)&&this.decode(a.toString())===a},pattern:/\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return 0!==parseInt(a,10)},is:function(a){return a===!0||a===!1},pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):c},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):c},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:b.toJson,decode:b.fromJson,is:b.isObject,equals:b.equals,pattern:/[^\/]*/},any:{encode:b.identity,decode:b.identity,equals:b.equals,pattern:/.*/}};t.$$getDefaultValue=function(a){if(!i(a.value))return a.value;if(!l)throw new Error("Injectable functions cannot be called at configuration time");return l.invoke(a.value)},this.caseInsensitive=function(a){return H(a)&&(m=a),m},this.strictMode=function(a){return H(a)&&(p=a),p},this.defaultSquashPolicy=function(a){if(!H(a))return q;if(a!==!0&&a!==!1&&!J(a))throw new Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return q=a,a},this.compile=function(a,b){return new r(a,N(f(),b))},this.isMatcher=function(a){if(!K(a))return!1;var b=!0;return M(r.prototype,function(c,d){I(c)&&(b=b&&H(a[d])&&I(a[d]))}),b},this.type=function(a,b,c){if(!H(b))return u[a];if(u.hasOwnProperty(a))throw new Error("A type named '"+a+"' has already been defined.");return u[a]=new s(N({name:a},b)),c&&(w.push({name:a,def:c}),v||j()),this},M(x,function(a,b){u[b]=new s(N({name:b},a))}),u=d(u,{}),this.$get=["$injector",function(a){return l=a,v=!1,j(),M(x,function(a,b){u[b]||(u[b]=new s(a))}),this}],this.Param=function(a,b,d,e){function f(a){var b=K(a)?g(a):[],c=-1===h(b,"value")&&-1===h(b,"type")&&-1===h(b,"squash")&&-1===h(b,"array");return c&&(a={value:a}),a.$$fn=i(a.value)?a.value:function(){return a.value},a}function j(b,c,d){if(b.type&&c)throw new Error("Param '"+a+"' has two type configurations.");return c?c:b.type?b.type instanceof s?b.type:new s(b.type):"config"===d?u.any:u.string}function k(){var b={array:"search"===e?"auto":!1},c=a.match(/\[\]$/)?{array:!0}:{};return N(b,c,d).array}function m(a,b){var c=a.squash;if(!b||c===!1)return!1;if(!H(c)||null==c)return q;if(c===!0||J(c))return c;throw new Error("Invalid squash policy: '"+c+"'. Valid policies: false, true, or arbitrary string")}function p(a,b,d,e){var f,g,i=[{from:"",to:d||b?c:""},{from:null,to:d||b?c:""}];return f=L(a.replace)?a.replace:[],J(e)&&f.push({from:e,to:c}),g=o(f,function(a){return a.from}),n(i,function(a){return-1===h(g,a.from)}).concat(f)}function r(){if(!l)throw new Error("Injectable functions cannot be called at configuration time");var a=l.invoke(d.$$fn);if(null!==a&&a!==c&&!w.type.is(a))throw new Error("Default value ("+a+") for parameter '"+w.id+"' is not an instance of Type ("+w.type.name+")");return a}function t(a){function b(a){return function(b){return b.from===a}}function c(a){var c=o(n(w.replace,b(a)),function(a){return a.to});return c.length?c[0]:a}return a=c(a),H(a)?w.type.$normalize(a):r()}function v(){return"{Param:"+a+" "+b+" squash: '"+z+"' optional: "+y+"}"}var w=this;d=f(d),b=j(d,b,e);var x=k();b=x?b.$asArray(x,"search"===e):b,"string"!==b.name||x||"path"!==e||d.value!==c||(d.value="");var y=d.value!==c,z=m(d,y),A=p(d,x,y,z);N(this,{id:a,type:b,location:e,array:x,squash:z,replace:A,isOptional:y,value:t,dynamic:c,config:d,toString:v})},k.prototype={$$new:function(){return d(this,N(new k,{$$parent:this}))},$$keys:function(){for(var a=[],b=[],c=this,d=g(k.prototype);c;)b.push(c),c=c.$$parent;return b.reverse(),M(b,function(b){M(g(b),function(b){-1===h(a,b)&&-1===h(d,b)&&a.push(b)})}),a},$$values:function(a){var b={},c=this;return M(c.$$keys(),function(d){b[d]=c[d].value(a&&a[d])}),b},$$equals:function(a,b){var c=!0,d=this;return M(d.$$keys(),function(e){var f=a&&a[e],g=b&&b[e];d[e].type.equals(f,g)||(c=!1)}),c},$$validates:function(a){var d,e,f,g,h,i=this.$$keys();for(d=0;d<i.length&&(e=this[i[d]],f=a[i[d]],f!==c&&null!==f||!e.isOptional);d++){if(g=e.type.$normalize(f),!e.type.is(g))return!1;if(h=e.type.encode(g),b.isString(h)&&!e.type.pattern.exec(h))return!1}return!0},$$parent:c},this.ParamSet=k}function u(a,d){function e(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function f(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function g(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return H(d)?d:!0}function h(d,e,f,g){function h(a,b,c){return"/"===p?a:b?p.slice(0,-1)+a:c?p.slice(1)+a:a}function m(a){function b(a){var b=a(f,d);return b?(J(b)&&d.replace().url(b),!0):!1}if(!a||!a.defaultPrevented){o&&d.url()===o;o=c;var e,g=j.length;for(e=0;g>e;e++)if(b(j[e]))return;k&&b(k)}}function n(){return i=i||e.$on("$locationChangeSuccess",m)}var o,p=g.baseHref(),q=d.url();return l||n(),{sync:function(){m()},listen:function(){return n()},update:function(a){return a?void(q=d.url()):void(d.url()!==q&&(d.url(q),d.replace()))},push:function(a,b,e){var f=a.format(b||{});null!==f&&b&&b["#"]&&(f+="#"+b["#"]),d.url(f),o=e&&e.$$avoidResync?d.url():c,e&&e.replace&&d.replace()},href:function(c,e,f){if(!c.validates(e))return null;var g=a.html5Mode();b.isObject(g)&&(g=g.enabled);var i=c.format(e);if(f=f||{},g||null===i||(i="#"+a.hashPrefix()+i),null!==i&&e&&e["#"]&&(i+="#"+e["#"]),i=h(i,g,f.absolute),!f.absolute||!i)return i;var j=!g&&i?"/":"",k=d.port();return k=80===k||443===k?"":":"+k,[d.protocol(),"://",d.host(),k,j,i].join("")}}}var i,j=[],k=null,l=!1;this.rule=function(a){if(!I(a))throw new Error("'rule' must be a function");return j.push(a),this},this.otherwise=function(a){if(J(a)){var b=a;a=function(){return b}}else if(!I(a))throw new Error("'rule' must be a function");return k=a,this},this.when=function(a,b){var c,h=J(b);if(J(a)&&(a=d.compile(a)),!h&&!I(b)&&!L(b))throw new Error("invalid 'handler' in when()");var i={matcher:function(a,b){return h&&(c=d.compile(b),b=["$match",function(a){return c.format(a)}]),N(function(c,d){return g(c,b,a.exec(d.path(),d.search()))},{prefix:J(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return h&&(c=b,b=["$match",function(a){return f(c,a)}]),N(function(c,d){return g(c,b,a.exec(d.path()))},{prefix:e(a)})}},j={matcher:d.isMatcher(a),regex:a instanceof RegExp};for(var k in j)if(j[k])return this.rule(i[k](a,b));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(a){a===c&&(a=!0),l=a},this.$get=h,h.$inject=["$location","$rootScope","$injector","$browser"]}function v(a,e){function f(a){return 0===a.indexOf(".")||0===a.indexOf("^")}function m(a,b){if(!a)return c;var d=J(a),e=d?a:a.name,g=f(e);if(g){if(!b)throw new Error("No reference point given for path '"+e+"'");b=m(b);for(var h=e.split("."),i=0,j=h.length,k=b;j>i;i++)if(""!==h[i]||0!==i){if("^"!==h[i])break;if(!k.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");k=k.parent}else k=b;h=h.slice(i).join("."),e=k.name+(k.name&&h?".":"")+h}var l=z[e];return!l||!d&&(d||l!==a&&l.self!==a)?c:l}function n(a,b){A[a]||(A[a]=[]),A[a].push(b)}function p(a){for(var b=A[a]||[];b.length;)q(b.shift())}function q(b){b=d(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!J(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(z.hasOwnProperty(c))throw new Error("State '"+c+"'' is already defined");var e=-1!==c.indexOf(".")?c.substring(0,c.lastIndexOf(".")):J(b.parent)?b.parent:K(b.parent)&&J(b.parent.name)?b.parent.name:"";if(e&&!z[e])return n(e,b.self);for(var f in C)I(C[f])&&(b[f]=C[f](b,C.$delegates[f]));return z[c]=b,!b[B]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){y.$current.navigable==b&&j(a,c)||y.transitionTo(b,a,{inherit:!0,location:!1})}]),p(c),b}function r(a){return a.indexOf("*")>-1}function s(a){for(var b=a.split("."),c=y.$current.name.split("."),d=0,e=b.length;e>d;d++)"*"===b[d]&&(c[d]="*");return"**"===b[0]&&(c=c.slice(h(c,b[1])),c.unshift("**")),"**"===b[b.length-1]&&(c.splice(h(c,b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length!=c.length?!1:c.join("")===b.join("")}function t(a,b){return J(a)&&!H(b)?C[a]:I(b)&&J(a)?(C[a]&&!C.$delegates[a]&&(C.$delegates[a]=C[a]),C[a]=b,this):this}function u(a,b){return K(a)?b=a:b.name=a,q(b),this}function v(a,e,f,h,l,n,p,q,t){function u(b,c,d,f){var g=a.$broadcast("$stateNotFound",b,c,d);if(g.defaultPrevented)return p.update(),D;if(!g.retry)return null;if(f.$retry)return p.update(),E;var h=y.transition=e.when(g.retry);return h.then(function(){return h!==y.transition?A:(b.options.$retry=!0,y.transitionTo(b.to,b.toParams,b.options))},function(){return D}),p.update(),h}function v(a,c,d,g,i,j){function m(){var c=[];return M(a.views,function(d,e){var g=d.resolve&&d.resolve!==a.resolve?d.resolve:{};g.$template=[function(){return f.load(e,{view:d,locals:i.globals,params:n,notify:j.notify})||""}],c.push(l.resolve(g,i.globals,i.resolve,a).then(function(c){if(I(d.controllerProvider)||L(d.controllerProvider)){var f=b.extend({},g,i.globals);c.$$controller=h.invoke(d.controllerProvider,null,f)}else c.$$controller=d.controller;c.$$state=a,c.$$controllerAs=d.controllerAs,i[e]=c}))}),e.all(c).then(function(){return i.globals})}var n=d?c:k(a.params.$$keys(),c),o={$stateParams:n};i.resolve=l.resolve(a.resolve,o,i.resolve,a);var p=[i.resolve.then(function(a){i.globals=a})];return g&&p.push(g),e.all(p).then(m).then(function(a){return i})}var A=e.reject(new Error("transition superseded")),C=e.reject(new Error("transition prevented")),D=e.reject(new Error("transition aborted")),E=e.reject(new Error("transition failed"));return x.locals={resolve:null,globals:{$stateParams:{}}},y={params:{},current:x.self,$current:x,transition:null},y.reload=function(a){return y.transitionTo(y.current,n,{reload:a||!0,inherit:!1,notify:!0})},y.go=function(a,b,c){return y.transitionTo(a,b,N({inherit:!0,relative:y.$current},c))},y.transitionTo=function(b,c,f){c=c||{},f=N({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var g,j=y.$current,l=y.params,o=j.path,q=m(b,f.relative),r=c["#"];if(!H(q)){var s={to:b,toParams:c,options:f},t=u(s,j.self,l,f);if(t)return t;if(b=s.to,c=s.toParams,f=s.options,q=m(b,f.relative),!H(q)){if(!f.relative)throw new Error("No such state '"+b+"'");throw new Error("Could not resolve '"+b+"' from state '"+f.relative+"'")}}if(q[B])throw new Error("Cannot transition to abstract state '"+b+"'");if(f.inherit&&(c=i(n,c||{},y.$current,q)),!q.params.$$validates(c))return E;c=q.params.$$values(c),b=q;var z=b.path,D=0,F=z[D],G=x.locals,I=[];if(f.reload){if(J(f.reload)||K(f.reload)){if(K(f.reload)&&!f.reload.name)throw new Error("Invalid reload state object");var L=f.reload===!0?o[0]:m(f.reload);if(f.reload&&!L)throw new Error("No such reload state '"+(J(f.reload)?f.reload:f.reload.name)+"'");for(;F&&F===o[D]&&F!==L;)G=I[D]=F.locals,D++,F=z[D]}}else for(;F&&F===o[D]&&F.ownParams.$$equals(c,l);)G=I[D]=F.locals,D++,F=z[D];if(w(b,c,j,l,G,f))return r&&(c["#"]=r),y.params=c,O(y.params,n),f.location&&b.navigable&&b.navigable.url&&(p.push(b.navigable.url,c,{$$avoidResync:!0,replace:"replace"===f.location}),p.update(!0)),y.transition=null,e.when(y.current);if(c=k(b.params.$$keys(),c||{}),f.notify&&a.$broadcast("$stateChangeStart",b.self,c,j.self,l).defaultPrevented)return a.$broadcast("$stateChangeCancel",b.self,c,j.self,l),p.update(),C;for(var M=e.when(G),P=D;P<z.length;P++,F=z[P])G=I[P]=d(G),M=v(F,c,F===b,M,G,f);var Q=y.transition=M.then(function(){var d,e,g;if(y.transition!==Q)return A;for(d=o.length-1;d>=D;d--)g=o[d],g.self.onExit&&h.invoke(g.self.onExit,g.self,g.locals.globals),g.locals=null;for(d=D;d<z.length;d++)e=z[d],e.locals=I[d],e.self.onEnter&&h.invoke(e.self.onEnter,e.self,e.locals.globals);return r&&(c["#"]=r),y.transition!==Q?A:(y.$current=b,y.current=b.self,y.params=c,O(y.params,n),y.transition=null,f.location&&b.navigable&&p.push(b.navigable.url,b.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===f.location}),f.notify&&a.$broadcast("$stateChangeSuccess",b.self,c,j.self,l),p.update(!0),y.current)},function(d){return y.transition!==Q?A:(y.transition=null,g=a.$broadcast("$stateChangeError",b.self,c,j.self,l,d),g.defaultPrevented||p.update(),e.reject(d))});return Q},y.is=function(a,b,d){d=N({relative:y.$current},d||{});var e=m(a,d.relative);return H(e)?y.$current!==e?!1:b?j(e.params.$$values(b),n):!0:c},y.includes=function(a,b,d){if(d=N({relative:y.$current},d||{}),J(a)&&r(a)){if(!s(a))return!1;a=y.$current.name}var e=m(a,d.relative);return H(e)?H(y.$current.includes[e.name])?b?j(e.params.$$values(b),n,g(b)):!0:!1:c},y.href=function(a,b,d){d=N({lossy:!0,inherit:!0,absolute:!1,relative:y.$current},d||{});var e=m(a,d.relative);if(!H(e))return null;d.inherit&&(b=i(n,b||{},y.$current,e));var f=e&&d.lossy?e.navigable:e;return f&&f.url!==c&&null!==f.url?p.href(f.url,k(e.params.$$keys().concat("#"),b||{}),{absolute:d.absolute}):null},y.get=function(a,b){if(0===arguments.length)return o(g(z),function(a){return z[a].self});var c=m(a,b||y.$current);return c&&c.self?c.self:null},y}function w(a,b,c,d,e,f){function g(a,b,c){function d(b){return"search"!=a.params[b].location}var e=a.params.$$keys().filter(d),f=l.apply({},[a.params].concat(e)),g=new P.ParamSet(f);return g.$$equals(b,c)}return!f.reload&&a===c&&(e===c.locals||a.self.reloadOnSearch===!1&&g(c,d,b))?!0:void 0}var x,y,z={},A={},B="abstract",C={parent:function(a){if(H(a.parent)&&a.parent)return m(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?m(b[1]):x},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=N({},a.parent.data,a.data)),a.data},url:function(a){var b=a.url,c={params:a.params||{}};if(J(b))return"^"==b.charAt(0)?e.compile(b.substring(1),c):(a.parent.navigable||x).url.concat(b,c);if(!b||e.isMatcher(b))return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new P.ParamSet;return M(a.params||{},function(a,c){b[c]||(b[c]=new P.Param(c,null,a,"config"))}),b},params:function(a){return a.parent&&a.parent.params?N(a.parent.params.$$new(),a.ownParams):new P.ParamSet},views:function(a){var b={};return M(H(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),b[d]=c}),b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?N({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};x=q({name:"",url:"^",views:null,"abstract":!0}),x.navigable=null,this.decorator=t,this.state=u,this.$get=v,v.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function w(){function a(a,b){return{load:function(c,d){var e,f={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return d=N(f,d),d.view&&(e=b.fromConfig(d.view,d.params,d.locals)),e&&d.notify&&a.$broadcast("$viewContentLoading",d),e}}}this.$get=a,a.$inject=["$rootScope","$templateFactory"]}function x(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){return c(function(){a[0].scrollIntoView()},0,!1)}}]}function y(a,c,d,e){function f(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(b){return null}}}function g(a,b){var c=function(){return{enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}}};if(j)return{enter:function(a,b,c){var d=j.enter(a,null,b,c);d&&d.then&&d.then(c)},leave:function(a,b){var c=j.leave(a,b);c&&c.then&&c.then(b)}};if(i){var d=i&&i(b,a);return{enter:function(a,b,c){d.enter(a,null,b),c()},leave:function(a,b){d.leave(a),b()}}}return c()}var h=f(),i=h("$animator"),j=h("$animate"),k={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,f,h){return function(c,f,i){function j(){l&&(l.remove(),l=null),n&&(n.$destroy(),n=null),m&&(r.leave(m,function(){l=null}),l=m,m=null)}function k(g){var k,l=A(c,i,f,e),s=l&&a.$current&&a.$current.locals[l];if(g||s!==o){k=c.$new(),o=a.$current.locals[l];var t=h(k,function(a){r.enter(a,f,function(){n&&n.$emit("$viewContentAnimationEnded"),(b.isDefined(q)&&!q||c.$eval(q))&&d(a)}),j()});m=t,n=k,n.$emit("$viewContentLoaded"),n.$eval(p)}}var l,m,n,o,p=i.onload||"",q=i.autoscroll,r=g(i,c);c.$on("$stateChangeSuccess",function(){k(!1)}),c.$on("$viewContentLoading",function(){k(!1)}),k(!0)}}};return k}function z(a,b,c,d){return{restrict:"ECA",priority:-400,compile:function(e){var f=e.html();return function(e,g,h){var i=c.$current,j=A(e,h,g,d),k=i&&i.locals[j];if(k){g.data("$uiView",{name:j,state:k.$$state}),g.html(k.$template?k.$template:f);var l=a(g.contents());if(k.$$controller){k.$scope=e,k.$element=g;var m=b(k.$$controller,k);k.$$controllerAs&&(e[k.$$controllerAs]=m),g.data("$ngControllerController",m),g.children().data("$ngControllerController",m)}l(e)}}}}}function A(a,b,c,d){var e=d(b.uiView||b.name||"")(a),f=c.inheritedData("$uiView");return e.indexOf("@")>=0?e:e+"@"+(f?f.state.name:"")}function B(a,b){var c,d=a.match(/^\s*({[^}]*})\s*$/);if(d&&(a=b+"("+d[1]+")"),c=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!c||4!==c.length)throw new Error("Invalid state ref '"+a+"'");return{state:c[1],paramExpr:c[3]||null}}function C(a){var b=a.parent().inheritedData("$uiView");return b&&b.state&&b.state.name?b.state:void 0}function D(a,c){var d=["location","inherit","reload","absolute"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(e,f,g,h){var i=B(g.uiSref,a.current.name),j=null,k=C(f)||a.$current,l="[object SVGAnimatedString]"===Object.prototype.toString.call(f.prop("href"))?"xlink:href":"href",m=null,n="A"===f.prop("tagName").toUpperCase(),o="FORM"===f[0].nodeName,p=o?"action":l,q=!0,r={relative:k,inherit:!0},s=e.$eval(g.uiSrefOpts)||{};b.forEach(d,function(a){a in s&&(r[a]=s[a])});var t=function(c){if(c&&(j=b.copy(c)),q){m=a.href(i.state,j,r);var d=h[1]||h[0];return d&&d.$$addStateInfo(i.state,j),null===m?(q=!1,!1):void g.$set(p,m)}};i.paramExpr&&(e.$watch(i.paramExpr,function(a,b){a!==j&&t(a)},!0),j=b.copy(e.$eval(i.paramExpr))),t(),o||f.bind("click",function(b){var d=b.which||b.button;if(!(d>1||b.ctrlKey||b.metaKey||b.shiftKey||f.attr("target"))){var e=c(function(){a.go(i.state,j,r)});b.preventDefault();var g=n&&!m?1:0;b.preventDefault=function(){g--<=0&&c.cancel(e)}}})}}}function E(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs",function(b,d,e){function f(){g()?d.addClass(i):d.removeClass(i)}function g(){for(var a=0;a<j.length;a++)if(h(j[a].state,j[a].params))return!0;return!1}function h(b,c){return"undefined"!=typeof e.uiSrefActiveEq?a.is(b.name,c):a.includes(b.name,c)}var i,j=[];i=c(e.uiSrefActiveEq||e.uiSrefActive||"",!1)(b),this.$$addStateInfo=function(b,c){var e=a.get(b,C(d));j.push({state:e||{name:b},params:c}),f()},b.$on("$stateChangeSuccess",f)}]}}function F(a){var b=function(b){return a.is(b)};return b.$stateful=!0,b}function G(a){var b=function(b){return a.includes(b)};return b.$stateful=!0,b}var H=b.isDefined,I=b.isFunction,J=b.isString,K=b.isObject,L=b.isArray,M=b.forEach,N=b.extend,O=b.copy;b.module("ui.router.util",["ng"]),b.module("ui.router.router",["ui.router.util"]),b.module("ui.router.state",["ui.router.router","ui.router.util"]),b.module("ui.router",["ui.router.state"]),b.module("ui.router.compat",["ui.router"]),p.$inject=["$q","$injector"],b.module("ui.router.util").service("$resolve",p),q.$inject=["$http","$templateCache","$injector"],b.module("ui.router.util").service("$templateFactory",q);var P;r.prototype.concat=function(a,b){var c={caseInsensitive:P.caseInsensitive(),strict:P.strictMode(),squash:P.defaultSquashPolicy()};return new r(this.sourcePath+a+this.sourceSearch,N(c,b),this)},r.prototype.toString=function(){return this.source},r.prototype.exec=function(a,b){function c(a){function b(a){return a.split("").reverse().join("")}function c(a){return a.replace(/\\-/g,"-")}var d=b(a).split(/-(?!\\)/),e=o(d,b);return o(e,c).reverse()}var d=this.regexp.exec(a);if(!d)return null;b=b||{};var e,f,g,h=this.parameters(),i=h.length,j=this.segments.length-1,k={};if(j!==d.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(e=0;j>e;e++){g=h[e];var l=this.params[g],m=d[e+1];for(f=0;f<l.replace;f++)l.replace[f].from===m&&(m=l.replace[f].to);m&&l.array===!0&&(m=c(m)),k[g]=l.value(m)}for(;i>e;e++)g=h[e],k[g]=this.params[g].value(b[g]);return k},r.prototype.parameters=function(a){return H(a)?this.params[a]||null:this.$$paramNames},r.prototype.validates=function(a){return this.params.$$validates(a)},r.prototype.format=function(a){function b(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}a=a||{};var c=this.segments,d=this.parameters(),e=this.params;if(!this.validates(a))return null;var f,g=!1,h=c.length-1,i=d.length,j=c[0];for(f=0;i>f;f++){var k=h>f,l=d[f],m=e[l],n=m.value(a[l]),p=m.isOptional&&m.type.equals(m.value(),n),q=p?m.squash:!1,r=m.type.encode(n);if(k){var s=c[f+1];if(q===!1)null!=r&&(j+=L(r)?o(r,b).join("-"):encodeURIComponent(r)),j+=s;else if(q===!0){var t=j.match(/\/$/)?/\/?(.*)/:/(.*)/;j+=s.match(t)[1]}else J(q)&&(j+=q+s)}else{if(null==r||p&&q!==!1)continue;L(r)||(r=[r]),r=o(r,encodeURIComponent).join("&"+l+"="),j+=(g?"&":"?")+(l+"="+r),g=!0}}return j},s.prototype.is=function(a,b){return!0},s.prototype.encode=function(a,b){return a},s.prototype.decode=function(a,b){return a},s.prototype.equals=function(a,b){return a==b},s.prototype.$subPattern=function(){
var a=this.pattern.toString();return a.substr(1,a.length-2)},s.prototype.pattern=/.*/,s.prototype.toString=function(){return"{Type:"+this.name+"}"},s.prototype.$normalize=function(a){return this.is(a)?a:this.decode(a)},s.prototype.$asArray=function(a,b){function d(a,b){function d(a,b){return function(){return a[b].apply(a,arguments)}}function e(a){return L(a)?a:H(a)?[a]:[]}function f(a){switch(a.length){case 0:return c;case 1:return"auto"===b?a[0]:a;default:return a}}function g(a){return!a}function h(a,b){return function(c){c=e(c);var d=o(c,a);return b===!0?0===n(d,g).length:f(d)}}function i(a){return function(b,c){var d=e(b),f=e(c);if(d.length!==f.length)return!1;for(var g=0;g<d.length;g++)if(!a(d[g],f[g]))return!1;return!0}}this.encode=h(d(a,"encode")),this.decode=h(d(a,"decode")),this.is=h(d(a,"is"),!0),this.equals=i(d(a,"equals")),this.pattern=a.pattern,this.$normalize=h(d(a,"$normalize")),this.name=a.name,this.$arrayMode=b}if(!a)return this;if("auto"===a&&!b)throw new Error("'auto' array mode is for query parameters only");return new d(this,a)},b.module("ui.router.util").provider("$urlMatcherFactory",t),b.module("ui.router.util").run(["$urlMatcherFactory",function(a){}]),u.$inject=["$locationProvider","$urlMatcherFactoryProvider"],b.module("ui.router.router").provider("$urlRouter",u),v.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],b.module("ui.router.state").value("$stateParams",{}).provider("$state",v),w.$inject=[],b.module("ui.router.state").provider("$view",w),b.module("ui.router.state").provider("$uiViewScroll",x),y.$inject=["$state","$injector","$uiViewScroll","$interpolate"],z.$inject=["$compile","$controller","$state","$interpolate"],b.module("ui.router.state").directive("uiView",y),b.module("ui.router.state").directive("uiView",z),D.$inject=["$state","$timeout"],E.$inject=["$state","$stateParams","$interpolate"],b.module("ui.router.state").directive("uiSref",D).directive("uiSrefActive",E).directive("uiSrefActiveEq",E),F.$inject=["$state"],G.$inject=["$state"],b.module("ui.router.state").filter("isState",F).filter("includedByState",G)}(window,window.angular);var XDate=function(a,b,c,d){function e(){return f(this instanceof e?this:new e,arguments)}function f(b,c){var d,f=c.length;if(L(c[f-1])&&(d=c[--f],c=H(c,0,f)),f)if(1==f){var g=c[0];g instanceof a?b[0]=new a(g.getTime()):K(g)?b[0]=new a(g):g instanceof e?b[0]=z(g):J(g)&&(b[0]=new a(0),b=q(g,d||!1,b))}else b[0]=new a(ca.apply(a,c)),d||(b[0]=D(b[0]));else b[0]=new a;return L(d)&&h(b,d),b}function g(a){return a[0].toString===da}function h(b,c,d){return c?g(b)||(d&&(b[0]=C(b[0])),b[0].toString=da):g(b)&&(d?b[0]=D(b[0]):b[0]=new a(b[0].getTime())),b}function i(a,b,c,d,e){var f,g=G(A,a[0],e),h=G(B,a[0],e),i=!1;2==d.length&&L(d[1])&&(i=d[1],d=[c]),f=b==P?(c%12+12)%12:g(P),h(b,d),i&&g(P)!=f&&(h(P,[g(P)-1]),h(Q,[E(g(O),g(P))]))}function j(a,c,d,e){d=Number(d);var f=b.floor(d);a["set"+$[c]](a["get"+$[c]]()+f,e||!1),f!=d&&U>c&&j(a,c+1,(d-f)*aa[c],e)}function k(a,c,d){a=a.clone().setUTCMode(!0,!0),c=e(c).setUTCMode(!0,!0);var f=0;if(d==O||d==P){for(var g=U;g>=d;g--)f/=aa[g],f+=A(c,!1,g)-A(a,!1,g);d==P&&(f+=12*(c.getFullYear()-a.getFullYear()))}else if(d==Q){var h=a.toDate().setUTCHours(0,0,0,0),i=c.toDate().setUTCHours(0,0,0,0);f=b.round((i-h)/X)+(c-i-(a-h))/X}else f=(c-a)/[36e5,6e4,1e3,1][d-3];return f}function l(a){return m(a(O),a(P),a(Q))}function m(c,d,e){var f=new a(ca(c,d,e)),g=o(n(c,d,e));return b.floor(b.round((f-g)/X)/7)+1}function n(b,c,d){var e=new a(ca(b,c,d));return e<o(b)?b-1:e>=o(b+1)?b+1:b}function o(b){var c=new a(ca(b,0,4));return c.setUTCDate(c.getUTCDate()-(c.getUTCDay()+6)%7),c}function p(a,b,c,e){var f=G(A,a,e),g=G(B,a,e);c===d&&(c=n(f(O),f(P),f(Q)));var h=o(c);e||(h=D(h)),a.setTime(h.getTime()),g(Q,[f(Q)+7*(b-1)])}function q(b,c,d){for(var f,g=e.parsers,h=0;h<g.length;h++)if(f=g[h](b,c,d))return f;return d[0]=new a(b),d}function r(b,c,d){var e=b.match(/^(\d{4})(-(\d{2})(-(\d{2})([T ](\d{2}):(\d{2})(:(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/);if(e){var f=new a(ca(e[1],e[3]?e[3]-1:0,e[5]||1,e[7]||0,e[8]||0,e[10]||0,e[12]?1e3*Number("0."+e[12]):0));return e[13]?e[14]&&f.setUTCMinutes(f.getUTCMinutes()+("-"==e[15]?1:-1)*(60*Number(e[16])+(e[18]?Number(e[18]):0))):c||(f=D(f)),d.setTime(f.getTime())}}function s(a,b,c,d,f){function g(a){return c[a]||j[a]}function h(a){if(d)for(var b=(a==V?Q:a)-1;b>=0;b--)d.push(k(b));return k(a)}var i=e.locales,j=i[e.defaultLocale]||{},k=G(A,a,f);return c=(J(c)?i[c]:c)||{},t(a,b,h,g,f)}function t(a,b,c,d,e){for(var f,g,h="";f=b.match(ba);)h+=b.substr(0,f.index),f[1]?h+=u(a,f[1],c,d,e):f[3]?(g=t(a,f[4],c,d,e),parseInt(g.replace(/\D/g,""),10)&&(h+=g)):h+=f[7]||"'",b=b.substr(f.index+f[0].length);return h+b}function u(a,b,c,e,f){for(var g,h=b.length,i="";h>0;)g=v(a,b.substr(0,h),c,e,f),g!==d?(i+=g,b=b.substr(h),h=b.length):h--;return i+b}function v(a,b,c,d,f){var g=e.formatters[b];if(J(g))return t(a,g,c,d,f);if(M(g))return g(a,f||!1,d);switch(b){case"fff":return N(c(U),3);case"s":return c(T);case"ss":return N(c(T));case"m":return c(S);case"mm":return N(c(S));case"h":return c(R)%12||12;case"hh":return N(c(R)%12||12);case"H":return c(R);case"HH":return N(c(R));case"d":return c(Q);case"dd":return N(c(Q));case"ddd":return d("dayNamesShort")[c(V)]||"";case"dddd":return d("dayNames")[c(V)]||"";case"M":return c(P)+1;case"MM":return N(c(P)+1);case"MMM":return d("monthNamesShort")[c(P)]||"";case"MMMM":return d("monthNames")[c(P)]||"";case"yy":return(c(O)+"").substring(2);case"yyyy":return c(O);case"t":return x(c,d).substr(0,1).toLowerCase();case"tt":return x(c,d).toLowerCase();case"T":return x(c,d).substr(0,1);case"TT":return x(c,d);case"z":case"zz":case"zzz":return f?"Z":w(a,b);case"w":return l(c);case"ww":return N(l(c));case"S":var h=c(Q);return h>10&&20>h?"th":["st","nd","rd"][h%10-1]||"th"}}function w(a,c){var d=a.getTimezoneOffset(),e=0>d?"+":"-",f=b.floor(b.abs(d)/60),g=b.abs(d)%60,h=f;return"zz"==c?h=N(f):"zzz"==c&&(h=N(f)+":"+N(g)),e+h}function x(a,b){return b(a(R)<12?"amDesignator":"pmDesignator")}function y(a){return!isNaN(a[0].getTime())}function z(b){var c=new a(b[0].getTime());return g(b)&&(c.toString=da),c}function A(a,b,c){return a["get"+(b?"UTC":"")+$[c]]()}function B(a,b,c,d){a["set"+(b?"UTC":"")+$[c]].apply(a,d)}function C(b){return new a(ca(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),b.getMinutes(),b.getSeconds(),b.getMilliseconds()))}function D(b){return new a(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes(),b.getUTCSeconds(),b.getUTCMilliseconds())}function E(b,c){return 32-new a(ca(b,c,32)).getUTCDate()}function F(a){return function(){return a.apply(d,[this].concat(H(arguments)))}}function G(a){var b=H(arguments,1);return function(){return a.apply(d,b.concat(H(arguments)))}}function H(a,b,e){return c.prototype.slice.call(a,b||0,e===d?a.length:e)}function I(a,b){for(var c=0;c<a.length;c++)b(a[c],c)}function J(a){return"string"==typeof a}function K(a){return"number"==typeof a}function L(a){return"boolean"==typeof a}function M(a){return"function"==typeof a}function N(a,b){for(b=b||2,a+="";a.length<b;)a="0"+a;return a}var O=0,P=1,Q=2,R=3,S=4,T=5,U=6,V=7,W=8,X=864e5,Y="yyyy-MM-dd'T'HH:mm:ss(.fff)",Z=Y+"zzz",$=["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds","Day","Year"],_=["Years","Months","Days"],aa=[12,31,24,60,60,1e3,1],ba=new RegExp("(([a-zA-Z])\\2*)|(\\((('.*?'|\\(.*?\\)|.)*?)\\))|('(.*?)')"),ca=a.UTC,da=a.prototype.toUTCString,ea=e.prototype;return ea.length=1,ea.splice=c.prototype.splice,ea.getUTCMode=F(g),ea.setUTCMode=F(h),ea.getTimezoneOffset=function(){return g(this)?0:this[0].getTimezoneOffset()},I($,function(a,b){ea["get"+a]=function(){return A(this[0],g(this),b)},b!=W&&(ea["getUTC"+a]=function(){return A(this[0],!0,b)}),b!=V&&(ea["set"+a]=function(a){return i(this,b,a,arguments,g(this)),this},b!=W&&(ea["setUTC"+a]=function(a){return i(this,b,a,arguments,!0),this},ea["add"+(_[b]||a)]=function(a,c){return j(this,b,a,c),this},ea["diff"+(_[b]||a)]=function(a){return k(this,a,b)}))}),ea.getWeek=function(){return l(G(A,this,!1))},ea.getUTCWeek=function(){return l(G(A,this,!0))},ea.setWeek=function(a,b){return p(this,a,b,!1),this},ea.setUTCWeek=function(a,b){return p(this,a,b,!0),this},ea.addWeeks=function(a){return this.addDays(7*Number(a))},ea.diffWeeks=function(a){return k(this,a,Q)/7},e.parsers=[r],e.parse=function(a){return+e(""+a)},ea.toString=function(a,b,c){return a!==d&&y(this)?s(this,a,b,c,g(this)):this[0].toString()},ea.toUTCString=ea.toGMTString=function(a,b,c){return a!==d&&y(this)?s(this,a,b,c,!0):this[0].toUTCString()},ea.toISOString=function(){return this.toUTCString(Z)},e.defaultLocale="",e.locales={"":{monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],amDesignator:"AM",pmDesignator:"PM"}},e.formatters={i:Y,u:Z},I(["getTime","valueOf","toDateString","toTimeString","toLocaleString","toLocaleDateString","toLocaleTimeString","toJSON"],function(a){ea[a]=function(){return this[0][a]()}}),ea.setTime=function(a){return this[0].setTime(a),this},ea.valid=F(y),ea.clone=function(){return new e(this)},ea.clearTime=function(){return this.setHours(0,0,0,0)},ea.toDate=function(){return new a(this[0].getTime())},e.now=function(){return(new a).getTime()},e.today=function(){return(new e).clearTime()},e.UTC=ca,e.getDaysInMonth=E,"undefined"!=typeof module&&module.exports&&(module.exports=e),"function"==typeof define&&define.amd&&define([],function(){return e}),e}(Date,Math,Array);!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.localforage=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(a){"use strict";function c(){k=!0;for(var a,b,c=l.length;c;){for(b=l,l=[],a=-1;++a<c;)b[a]();c=l.length}k=!1}function d(a){1!==l.push(a)||k||e()}var e,f=a.MutationObserver||a.WebKitMutationObserver;if(f){var g=0,h=new f(c),i=a.document.createTextNode("");h.observe(i,{characterData:!0}),e=function(){i.data=g=++g%2}}else if(a.setImmediate||"undefined"==typeof a.MessageChannel)e="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var b=a.document.createElement("script");b.onreadystatechange=function(){c(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},a.document.documentElement.appendChild(b)}:function(){setTimeout(c,0)};else{var j=new a.MessageChannel;j.port1.onmessage=c,e=function(){j.port2.postMessage(0)}}var k,l=[];b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(a,b,c){"use strict";function d(){}function e(a){if("function"!=typeof a)throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,a!==d&&i(this,a)}function f(a,b,c){this.promise=a,"function"==typeof b&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),"function"==typeof c&&(this.onRejected=c,this.callRejected=this.otherCallRejected)}function g(a,b,c){o(function(){var d;try{d=b(c)}catch(e){return p.reject(a,e)}d===a?p.reject(a,new TypeError("Cannot resolve promise with itself")):p.resolve(a,d)})}function h(a){var b=a&&a.then;return a&&"object"==typeof a&&"function"==typeof b?function(){b.apply(a,arguments)}:void 0}function i(a,b){function c(b){f||(f=!0,p.reject(a,b))}function d(b){f||(f=!0,p.resolve(a,b))}function e(){b(d,c)}var f=!1,g=j(e);"error"===g.status&&c(g.value)}function j(a,b){var c={};try{c.value=a(b),c.status="success"}catch(d){c.status="error",c.value=d}return c}function k(a){return a instanceof this?a:p.resolve(new this(d),a)}function l(a){var b=new this(d);return p.reject(b,a)}function m(a){function b(a,b){function d(a){g[b]=a,++h!==e||f||(f=!0,p.resolve(j,g))}c.resolve(a).then(d,function(a){f||(f=!0,p.reject(j,a))})}var c=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var e=a.length,f=!1;if(!e)return this.resolve([]);for(var g=new Array(e),h=0,i=-1,j=new this(d);++i<e;)b(a[i],i);return j}function n(a){function b(a){c.resolve(a).then(function(a){f||(f=!0,p.resolve(h,a))},function(a){f||(f=!0,p.reject(h,a))})}var c=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var e=a.length,f=!1;if(!e)return this.resolve([]);for(var g=-1,h=new this(d);++g<e;)b(a[g]);return h}var o=a(1),p={},q=["REJECTED"],r=["FULFILLED"],s=["PENDING"];b.exports=c=e,e.prototype["catch"]=function(a){return this.then(null,a)},e.prototype.then=function(a,b){if("function"!=typeof a&&this.state===r||"function"!=typeof b&&this.state===q)return this;var c=new this.constructor(d);if(this.state!==s){var e=this.state===r?a:b;g(c,e,this.outcome)}else this.queue.push(new f(c,a,b));return c},f.prototype.callFulfilled=function(a){p.resolve(this.promise,a)},f.prototype.otherCallFulfilled=function(a){g(this.promise,this.onFulfilled,a)},f.prototype.callRejected=function(a){p.reject(this.promise,a)},f.prototype.otherCallRejected=function(a){g(this.promise,this.onRejected,a)},p.resolve=function(a,b){var c=j(h,b);if("error"===c.status)return p.reject(a,c.value);var d=c.value;if(d)i(a,d);else{a.state=r,a.outcome=b;for(var e=-1,f=a.queue.length;++e<f;)a.queue[e].callFulfilled(b)}return a},p.reject=function(a,b){a.state=q,a.outcome=b;for(var c=-1,d=a.queue.length;++c<d;)a.queue[c].callRejected(b);return a},c.resolve=k,c.reject=l,c.all=m,c.race=n},{1:1}],3:[function(a,b,c){(function(b){"use strict";"function"!=typeof b.Promise&&(b.Promise=a(2))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(a){}}function f(){try{return fa?"undefined"!=typeof openDatabase&&"undefined"!=typeof navigator&&navigator.userAgent&&/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)?!1:fa&&"function"==typeof fa.open&&"undefined"!=typeof IDBKeyRange:!1}catch(a){return!1}}function g(){return"function"==typeof openDatabase}function h(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&localStorage.setItem}catch(a){return!1}}function i(a,b){a=a||[],b=b||{};try{return new Blob(a,b)}catch(c){if("TypeError"!==c.name)throw c;for(var d="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,e=new d,f=0;f<a.length;f+=1)e.append(a[f]);return e.getBlob(b.type)}}function j(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}function k(a,b,c){"function"==typeof b&&a.then(b),"function"==typeof c&&a["catch"](c)}function l(a){for(var b=a.length,c=new ArrayBuffer(b),d=new Uint8Array(c),e=0;b>e;e++)d[e]=a.charCodeAt(e);return c}function m(a){return new ia(function(b){var c=i([""]);a.objectStore(ja).put(c,"key"),a.onabort=function(a){a.preventDefault(),a.stopPropagation(),b(!1)},a.oncomplete=function(){var a=navigator.userAgent.match(/Chrome\/(\d+)/),c=navigator.userAgent.match(/Edge\//);b(c||!a||parseInt(a[1],10)>=43)}})["catch"](function(){return!1})}function n(a){return"boolean"==typeof ga?ia.resolve(ga):m(a).then(function(a){return ga=a})}function o(a){var b=ha[a.name],c={};c.promise=new ia(function(a){c.resolve=a}),b.deferredOperations.push(c),b.dbReady?b.dbReady=b.dbReady.then(function(){return c.promise}):b.dbReady=c.promise}function p(a){var b=ha[a.name],c=b.deferredOperations.pop();c&&c.resolve()}function q(a,b){return new ia(function(c,d){if(a.db){if(!b)return c(a.db);o(a),a.db.close()}var e=[a.name];b&&e.push(a.version);var f=fa.open.apply(fa,e);b&&(f.onupgradeneeded=function(b){var c=f.result;try{c.createObjectStore(a.storeName),b.oldVersion<=1&&c.createObjectStore(ja)}catch(d){if("ConstraintError"!==d.name)throw d;console.warn('The database "'+a.name+'" has been upgraded from version '+b.oldVersion+" to version "+b.newVersion+', but the storage "'+a.storeName+'" already exists.')}}),f.onerror=function(){d(f.error)},f.onsuccess=function(){c(f.result),p(a)}})}function r(a){return q(a,!1)}function s(a){return q(a,!0)}function t(a,b){if(!a.db)return!0;var c=!a.db.objectStoreNames.contains(a.storeName),d=a.version<a.db.version,e=a.version>a.db.version;if(d&&(a.version!==b&&console.warn('The database "'+a.name+"\" can't be downgraded from version "+a.db.version+" to version "+a.version+"."),a.version=a.db.version),e||c){if(c){var f=a.db.version+1;f>a.version&&(a.version=f)}return!0}return!1}function u(a){return new ia(function(b,c){var d=new FileReader;d.onerror=c,d.onloadend=function(c){var d=btoa(c.target.result||"");b({__local_forage_encoded_blob:!0,data:d,type:a.type})},d.readAsBinaryString(a)})}function v(a){var b=l(atob(a.data));return i([b],{type:a.type})}function w(a){return a&&a.__local_forage_encoded_blob}function x(a){var b=this,c=b._initReady().then(function(){var a=ha[b._dbInfo.name];return a&&a.dbReady?a.dbReady:void 0});return k(c,a,a),c}function y(a){function b(){return ia.resolve()}var c=this,d={db:null};if(a)for(var e in a)d[e]=a[e];ha||(ha={});var f=ha[d.name];f||(f={forages:[],db:null,dbReady:null,deferredOperations:[]},ha[d.name]=f),f.forages.push(c),c._initReady||(c._initReady=c.ready,c.ready=x);for(var g=[],h=0;h<f.forages.length;h++){var i=f.forages[h];i!==c&&g.push(i._initReady()["catch"](b))}var j=f.forages.slice(0);return ia.all(g).then(function(){return d.db=f.db,r(d)}).then(function(a){return d.db=a,t(d,c._defaultConfig.version)?s(d):a}).then(function(a){d.db=f.db=a,c._dbInfo=d;for(var b=0;b<j.length;b++){var e=j[b];e!==c&&(e._dbInfo.db=d.db,e._dbInfo.version=d.version)}})}function z(a,b){var c=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=new ia(function(b,d){c.ready().then(function(){var e=c._dbInfo,f=e.db.transaction(e.storeName,"readonly").objectStore(e.storeName),g=f.get(a);g.onsuccess=function(){var a=g.result;void 0===a&&(a=null),w(a)&&(a=v(a)),b(a)},g.onerror=function(){d(g.error)}})["catch"](d)});return j(d,b),d}function A(a,b){var c=this,d=new ia(function(b,d){c.ready().then(function(){var e=c._dbInfo,f=e.db.transaction(e.storeName,"readonly").objectStore(e.storeName),g=f.openCursor(),h=1;g.onsuccess=function(){var c=g.result;if(c){var d=c.value;w(d)&&(d=v(d));var e=a(d,c.key,h++);void 0!==e?b(e):c["continue"]()}else b()},g.onerror=function(){d(g.error)}})["catch"](d)});return j(d,b),d}function B(a,b,c){var d=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a));var e=new ia(function(c,e){var f;d.ready().then(function(){return f=d._dbInfo,"[object Blob]"===ka.call(b)?n(f.db).then(function(a){return a?b:u(b)}):b}).then(function(b){var d=f.db.transaction(f.storeName,"readwrite"),g=d.objectStore(f.storeName);null===b&&(b=void 0),d.oncomplete=function(){void 0===b&&(b=null),c(b)},d.onabort=d.onerror=function(){var a=h.error?h.error:h.transaction.error;e(a)};var h=g.put(b,a)})["catch"](e)});return j(e,c),e}function C(a,b){var c=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=new ia(function(b,d){c.ready().then(function(){var e=c._dbInfo,f=e.db.transaction(e.storeName,"readwrite"),g=f.objectStore(e.storeName),h=g["delete"](a);f.oncomplete=function(){b()},f.onerror=function(){d(h.error)},f.onabort=function(){var a=h.error?h.error:h.transaction.error;d(a)}})["catch"](d)});return j(d,b),d}function D(a){var b=this,c=new ia(function(a,c){b.ready().then(function(){var d=b._dbInfo,e=d.db.transaction(d.storeName,"readwrite"),f=e.objectStore(d.storeName),g=f.clear();e.oncomplete=function(){a()},e.onabort=e.onerror=function(){var a=g.error?g.error:g.transaction.error;c(a)}})["catch"](c)});return j(c,a),c}function E(a){var b=this,c=new ia(function(a,c){b.ready().then(function(){var d=b._dbInfo,e=d.db.transaction(d.storeName,"readonly").objectStore(d.storeName),f=e.count();f.onsuccess=function(){a(f.result)},f.onerror=function(){c(f.error)}})["catch"](c)});return j(c,a),c}function F(a,b){var c=this,d=new ia(function(b,d){return 0>a?void b(null):void c.ready().then(function(){var e=c._dbInfo,f=e.db.transaction(e.storeName,"readonly").objectStore(e.storeName),g=!1,h=f.openCursor();h.onsuccess=function(){var c=h.result;return c?void(0===a?b(c.key):g?b(c.key):(g=!0,c.advance(a))):void b(null)},h.onerror=function(){d(h.error)}})["catch"](d)});return j(d,b),d}function G(a){var b=this,c=new ia(function(a,c){b.ready().then(function(){var d=b._dbInfo,e=d.db.transaction(d.storeName,"readonly").objectStore(d.storeName),f=e.openCursor(),g=[];f.onsuccess=function(){var b=f.result;return b?(g.push(b.key),void b["continue"]()):void a(g)},f.onerror=function(){c(f.error)}})["catch"](c)});return j(c,a),c}function H(a){var b,c,d,e,f,g=.75*a.length,h=a.length,i=0;"="===a[a.length-1]&&(g--,"="===a[a.length-2]&&g--);var j=new ArrayBuffer(g),k=new Uint8Array(j);for(b=0;h>b;b+=4)c=ma.indexOf(a[b]),d=ma.indexOf(a[b+1]),e=ma.indexOf(a[b+2]),f=ma.indexOf(a[b+3]),k[i++]=c<<2|d>>4,k[i++]=(15&d)<<4|e>>2,k[i++]=(3&e)<<6|63&f;return j}function I(a){var b,c=new Uint8Array(a),d="";for(b=0;b<c.length;b+=3)d+=ma[c[b]>>2],d+=ma[(3&c[b])<<4|c[b+1]>>4],d+=ma[(15&c[b+1])<<2|c[b+2]>>6],d+=ma[63&c[b+2]];return c.length%3===2?d=d.substring(0,d.length-1)+"=":c.length%3===1&&(d=d.substring(0,d.length-2)+"=="),d}function J(a,b){var c="";if(a&&(c=Da.call(a)),a&&("[object ArrayBuffer]"===c||a.buffer&&"[object ArrayBuffer]"===Da.call(a.buffer))){var d,e=pa;a instanceof ArrayBuffer?(d=a,e+=ra):(d=a.buffer,"[object Int8Array]"===c?e+=ta:"[object Uint8Array]"===c?e+=ua:"[object Uint8ClampedArray]"===c?e+=va:"[object Int16Array]"===c?e+=wa:"[object Uint16Array]"===c?e+=ya:"[object Int32Array]"===c?e+=xa:"[object Uint32Array]"===c?e+=za:"[object Float32Array]"===c?e+=Aa:"[object Float64Array]"===c?e+=Ba:b(new Error("Failed to get type for BinaryArray"))),b(e+I(d))}else if("[object Blob]"===c){var f=new FileReader;f.onload=function(){var c=na+a.type+"~"+I(this.result);b(pa+sa+c)},f.readAsArrayBuffer(a)}else try{b(JSON.stringify(a))}catch(g){console.error("Couldn't convert value into a JSON string: ",a),b(null,g)}}function K(a){if(a.substring(0,qa)!==pa)return JSON.parse(a);var b,c=a.substring(Ca),d=a.substring(qa,Ca);if(d===sa&&oa.test(c)){var e=c.match(oa);b=e[1],c=c.substring(e[0].length)}var f=H(c);switch(d){case ra:return f;case sa:return i([f],{type:b});case ta:return new Int8Array(f);case ua:return new Uint8Array(f);case va:return new Uint8ClampedArray(f);case wa:return new Int16Array(f);case ya:return new Uint16Array(f);case xa:return new Int32Array(f);case za:return new Uint32Array(f);case Aa:return new Float32Array(f);case Ba:return new Float64Array(f);default:throw new Error("Unkown type: "+d)}}function L(a){var b=this,c={db:null};if(a)for(var d in a)c[d]="string"!=typeof a[d]?a[d].toString():a[d];var e=new ia(function(a,d){try{c.db=openDatabase(c.name,String(c.version),c.description,c.size)}catch(e){return d(e)}c.db.transaction(function(e){e.executeSql("CREATE TABLE IF NOT EXISTS "+c.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){b._dbInfo=c,a()},function(a,b){d(b)})})});return c.serializer=Ea,e}function M(a,b){var c=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=new ia(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql("SELECT * FROM "+e.storeName+" WHERE key = ? LIMIT 1",[a],function(a,c){var d=c.rows.length?c.rows.item(0).value:null;d&&(d=e.serializer.deserialize(d)),b(d)},function(a,b){d(b)})})})["catch"](d)});return j(d,b),d}function N(a,b){var c=this,d=new ia(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql("SELECT * FROM "+e.storeName,[],function(c,d){for(var f=d.rows,g=f.length,h=0;g>h;h++){var i=f.item(h),j=i.value;if(j&&(j=e.serializer.deserialize(j)),j=a(j,i.key,h+1),void 0!==j)return void b(j)}b()},function(a,b){d(b)})})})["catch"](d)});return j(d,b),d}function O(a,b,c){var d=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a));var e=new ia(function(c,e){d.ready().then(function(){void 0===b&&(b=null);var f=b,g=d._dbInfo;g.serializer.serialize(b,function(b,d){d?e(d):g.db.transaction(function(d){d.executeSql("INSERT OR REPLACE INTO "+g.storeName+" (key, value) VALUES (?, ?)",[a,b],function(){c(f)},function(a,b){e(b)})},function(a){a.code===a.QUOTA_ERR&&e(a)})})})["catch"](e)});return j(e,c),e}function P(a,b){var c=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=new ia(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql("DELETE FROM "+e.storeName+" WHERE key = ?",[a],function(){b()},function(a,b){d(b)})})})["catch"](d)});return j(d,b),d}function Q(a){var b=this,c=new ia(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){b.executeSql("DELETE FROM "+d.storeName,[],function(){a()},function(a,b){c(b)})})})["catch"](c)});return j(c,a),c}function R(a){var b=this,c=new ia(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){b.executeSql("SELECT COUNT(key) as c FROM "+d.storeName,[],function(b,c){var d=c.rows.item(0).c;a(d)},function(a,b){c(b)})})})["catch"](c)});return j(c,a),c}function S(a,b){var c=this,d=new ia(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql("SELECT key FROM "+e.storeName+" WHERE id = ? LIMIT 1",[a+1],function(a,c){var d=c.rows.length?c.rows.item(0).key:null;b(d)},function(a,b){d(b)})})})["catch"](d)});return j(d,b),d}function T(a){var b=this,c=new ia(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){b.executeSql("SELECT key FROM "+d.storeName,[],function(b,c){for(var d=[],e=0;e<c.rows.length;e++)d.push(c.rows.item(e).key);a(d)},function(a,b){c(b)})})})["catch"](c)});return j(c,a),c}function U(a){var b=this,c={};if(a)for(var d in a)c[d]=a[d];return c.keyPrefix=c.name+"/",c.storeName!==b._defaultConfig.storeName&&(c.keyPrefix+=c.storeName+"/"),b._dbInfo=c,c.serializer=Ea,ia.resolve()}function V(a){var b=this,c=b.ready().then(function(){for(var a=b._dbInfo.keyPrefix,c=localStorage.length-1;c>=0;c--){var d=localStorage.key(c);0===d.indexOf(a)&&localStorage.removeItem(d)}});return j(c,a),c}function W(a,b){var c=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=c.ready().then(function(){var b=c._dbInfo,d=localStorage.getItem(b.keyPrefix+a);return d&&(d=b.serializer.deserialize(d)),d});return j(d,b),d}function X(a,b){var c=this,d=c.ready().then(function(){for(var b=c._dbInfo,d=b.keyPrefix,e=d.length,f=localStorage.length,g=1,h=0;f>h;h++){var i=localStorage.key(h);if(0===i.indexOf(d)){var j=localStorage.getItem(i);if(j&&(j=b.serializer.deserialize(j)),j=a(j,i.substring(e),g++),void 0!==j)return j}}});return j(d,b),d}function Y(a,b){var c=this,d=c.ready().then(function(){var b,d=c._dbInfo;try{b=localStorage.key(a)}catch(e){b=null}return b&&(b=b.substring(d.keyPrefix.length)),b});return j(d,b),d}function Z(a){var b=this,c=b.ready().then(function(){for(var a=b._dbInfo,c=localStorage.length,d=[],e=0;c>e;e++)0===localStorage.key(e).indexOf(a.keyPrefix)&&d.push(localStorage.key(e).substring(a.keyPrefix.length));return d});return j(c,a),c}function $(a){var b=this,c=b.keys().then(function(a){return a.length});return j(c,a),c}function _(a,b){var c=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=c.ready().then(function(){var b=c._dbInfo;localStorage.removeItem(b.keyPrefix+a)});return j(d,b),d}function aa(a,b,c){var d=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a));var e=d.ready().then(function(){void 0===b&&(b=null);var c=b;return new ia(function(e,f){var g=d._dbInfo;g.serializer.serialize(b,function(b,d){if(d)f(d);else try{localStorage.setItem(g.keyPrefix+a,b),e(c)}catch(h){("QuotaExceededError"===h.name||"NS_ERROR_DOM_QUOTA_REACHED"===h.name)&&f(h),f(h)}})})});return j(e,c),e}function ba(a,b){a[b]=function(){var c=arguments;return a.ready().then(function(){return a[b].apply(a,c)})}}function ca(){for(var a=1;a<arguments.length;a++){var b=arguments[a];if(b)for(var c in b)b.hasOwnProperty(c)&&(Na(b[c])?arguments[0][c]=b[c].slice():arguments[0][c]=b[c])}return arguments[0]}function da(a){for(var b in Ia)if(Ia.hasOwnProperty(b)&&Ia[b]===a)return!0;return!1}var ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},fa=e();"undefined"==typeof Promise&&"undefined"!=typeof a&&a(3);var ga,ha,ia=Promise,ja="local-forage-detect-blob-support",ka=Object.prototype.toString,la={_driver:"asyncStorage",_initStorage:y,iterate:A,getItem:z,setItem:B,removeItem:C,clear:D,length:E,key:F,keys:G},ma="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",na="~~local_forage_type~",oa=/^~~local_forage_type~([^~]+)~/,pa="__lfsc__:",qa=pa.length,ra="arbf",sa="blob",ta="si08",ua="ui08",va="uic8",wa="si16",xa="si32",ya="ur16",za="ui32",Aa="fl32",Ba="fl64",Ca=qa+ra.length,Da=Object.prototype.toString,Ea={serialize:J,deserialize:K,stringToBuffer:H,bufferToString:I},Fa={_driver:"webSQLStorage",_initStorage:L,iterate:N,getItem:M,setItem:O,removeItem:P,clear:Q,length:R,key:S,keys:T},Ga={_driver:"localStorageWrapper",_initStorage:U,iterate:X,getItem:W,setItem:aa,removeItem:_,clear:V,length:$,key:Y,keys:Z},Ha={},Ia={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},Ja=[Ia.INDEXEDDB,Ia.WEBSQL,Ia.LOCALSTORAGE],Ka=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],La={description:"",driver:Ja.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},Ma={};Ma[Ia.INDEXEDDB]=f(),Ma[Ia.WEBSQL]=g(),Ma[Ia.LOCALSTORAGE]=h();var Na=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},Oa=function(){function a(b){d(this,a),this.INDEXEDDB=Ia.INDEXEDDB,this.LOCALSTORAGE=Ia.LOCALSTORAGE,this.WEBSQL=Ia.WEBSQL,this._defaultConfig=ca({},La),this._config=ca({},this._defaultConfig,b),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver)}return a.prototype.config=function(a){if("object"===("undefined"==typeof a?"undefined":ea(a))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var b in a)"storeName"===b&&(a[b]=a[b].replace(/\W/g,"_")),this._config[b]=a[b];return"driver"in a&&a.driver&&this.setDriver(this._config.driver),!0}return"string"==typeof a?this._config[a]:this._config;
},a.prototype.defineDriver=function(a,b,c){var d=new ia(function(b,c){try{var d=a._driver,e=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),f=new Error("Custom driver name already in use: "+a._driver);if(!a._driver)return void c(e);if(da(a._driver))return void c(f);for(var g=Ka.concat("_initStorage"),h=0;h<g.length;h++){var i=g[h];if(!i||!a[i]||"function"!=typeof a[i])return void c(e)}var j=ia.resolve(!0);"_support"in a&&(j=a._support&&"function"==typeof a._support?a._support():ia.resolve(!!a._support)),j.then(function(c){Ma[d]=c,Ha[d]=a,b()},c)}catch(k){c(k)}});return k(d,b,c),d},a.prototype.driver=function(){return this._driver||null},a.prototype.getDriver=function(a,b,c){var d=this,e=ia.resolve().then(function(){if(!da(a)){if(Ha[a])return Ha[a];throw new Error("Driver not found.")}switch(a){case d.INDEXEDDB:return la;case d.LOCALSTORAGE:return Ga;case d.WEBSQL:return Fa}});return k(e,b,c),e},a.prototype.getSerializer=function(a){var b=ia.resolve(Ea);return k(b,a),b},a.prototype.ready=function(a){var b=this,c=b._driverSet.then(function(){return null===b._ready&&(b._ready=b._initDriver()),b._ready});return k(c,a,a),c},a.prototype.setDriver=function(a,b,c){function d(){f._config.driver=f.driver()}function e(a){return function(){function b(){for(;c<a.length;){var e=a[c];return c++,f._dbInfo=null,f._ready=null,f.getDriver(e).then(function(a){return f._extend(a),d(),f._ready=f._initStorage(f._config),f._ready})["catch"](b)}d();var g=new Error("No available storage method found.");return f._driverSet=ia.reject(g),f._driverSet}var c=0;return b()}}var f=this;Na(a)||(a=[a]);var g=this._getSupportedDrivers(a),h=null!==this._driverSet?this._driverSet["catch"](function(){return ia.resolve()}):ia.resolve();return this._driverSet=h.then(function(){var a=g[0];return f._dbInfo=null,f._ready=null,f.getDriver(a).then(function(a){f._driver=a._driver,d(),f._wrapLibraryMethodsWithReady(),f._initDriver=e(g)})})["catch"](function(){d();var a=new Error("No available storage method found.");return f._driverSet=ia.reject(a),f._driverSet}),k(this._driverSet,b,c),this._driverSet},a.prototype.supports=function(a){return!!Ma[a]},a.prototype._extend=function(a){ca(this,a)},a.prototype._getSupportedDrivers=function(a){for(var b=[],c=0,d=a.length;d>c;c++){var e=a[c];this.supports(e)&&b.push(e)}return b},a.prototype._wrapLibraryMethodsWithReady=function(){for(var a=0;a<Ka.length;a++)ba(this,Ka[a])},a.prototype.createInstance=function(b){return new a(b)},a}(),Pa=new Oa;b.exports=Pa},{3:3}]},{},[4])(4)}),function(a,b){"use strict";var c=a&&a.angular||window&&window.angular;if("function"==typeof define&&define.amd)define(["localforage"],function(a){return b(c,a)});else{if("object"!=typeof exports&&"object"!=typeof global)return b(c,a.localforage);"undefined"==typeof module?global.module.exports=b(c,require("localforage")):module.exports=b(c,require("localforage"))}}(this,function(a,b,c){"use strict";var d=a.module("LocalForageModule",["ng"]);return d.provider("$localForage",function(){var c={},d={name:"lf"},e={setItem:!1,removeItem:!1},f={};this.setNotify=function(a,b){e={setItem:a,removeItem:b}},this.config=function(b){if(!a.isObject(b))throw new Error("The config parameter should be an object");a.extend(d,b)},this.$get=["$rootScope","$q","$parse",function(g,h,i){function j(b,c){return function(d){if((a.isObject(d)&&d.name?"InvalidStateError"===d.name:a.isString(d)&&"InvalidStateError"===d)&&"asyncStorage"===this.driver()||a.isObject(d)&&d.code&&5===d.code){var e=this;return e.setDriver("localStorageWrapper").then(function(){return c.apply(e,b)})}return h.reject(d)}}var k=function(c){a.isDefined(c)?this._localforage=b.createInstance(c):(this._localforage=b,b.config(d))};k.prototype.createInstance=function(b){if(a.isObject(b)){if(b=a.extend({},d,b),a.isDefined(c[b.name]))throw new Error("A localForage instance with the name "+b.name+" is already defined.");return c[b.name]=new k(b),c[b.name]}throw new Error("The parameter should be a config object.")},k.prototype.instance=function(b){if(a.isUndefined(b))return c[d.name];if(a.isString(b)){if(a.isDefined(c[b]))return c[b];throw new Error("No localForage instance of that name exists.")}throw new Error("The parameter should be a string.")},k.prototype.setDriver=function(a){return this._localforage.setDriver(a)},k.prototype.driver=function(){return this._localforage.driver()},k.prototype.defineDriver=function(a){return this._localforage.defineDriver(a)},k.prototype.setItem=function(b,c){function d(b){var c;return a.isArray(b)?b.map(d):a.isObject(b)&&b.constructor===Object?(c=a.extend({},b),a.isDefined(c.$promise)&&delete c.$promise,a.isDefined(c.$$hashKey)&&delete c.$$hashKey,Object.keys(c).reduce(function(a,b){return a[b]=d(c[b]),a},{})):b}if(a.isUndefined(b))throw new Error("You must define a key to set");var f,i=this,k=arguments;if(a.isArray(b)){if(!a.isArray(c))throw new Error("If you set an array of keys, the values should be an array too");return h.all(b.map(function(a,b){return i.setItem(a,c[b])}))}return f=d(c),i._localforage.setItem(i.prefix()+b,f).then(function(){return e.setItem&&g.$broadcast("LocalForageModule.setItem",{key:b,newvalue:f,driver:i.driver()}),f})["catch"](j(k,i.setItem))},k.prototype.getItem=function(b,c){if(a.isUndefined(b))throw new Error("You must define a key to get");var d,e=h.defer(),f=arguments,g=this;if(a.isArray(b)){var i=[],j=0;d=g._localforage.iterate(function(a,c){var d=b.indexOf(g.prefix()+c);return d>-1&&(i[d]=a,j++),j===b.length?i:void 0}).then(function(){for(var d=!0,f=0;f<b.length;f++)a.isUndefined(i[f])&&(i[f]=null,d=!1);d||!c?e.resolve(i):e.reject(i)})}else d=g._localforage.getItem(g.prefix()+b).then(function(a){c&&null===a?e.reject(a):e.resolve(a)});return d.then(null,function(a){g.onError(a,f,g.getItem,e)}),e.promise},k.prototype.iterate=function(b){if(a.isUndefined(b))throw new Error("You must define a callback to iterate");var c=h.defer(),d=arguments,e=this;return e._localforage.iterate(b).then(function(a){c.resolve(a)},function(a){e.onError(a,d,e.iterate,c)}),c.promise},k.prototype.removeItem=function(b){if(a.isUndefined(b))throw new Error("You must define a key to remove");var c=this;if(a.isArray(b)){var d=[];return a.forEach(b,function(a,b){d.push(c.removeItem(a))}),h.all(d)}var f=h.defer(),i=arguments;return c._localforage.removeItem(c.prefix()+b).then(function(){e.removeItem&&g.$broadcast("LocalForageModule.removeItem",{key:b,driver:c.driver()}),f.resolve()},function(a){c.onError(a,i,c.removeItem,f)}),f.promise},k.prototype.pull=function(b){var c,d=this;if(a.isUndefined(b))throw new Error("You must define a key to pull");return d.getItem(b).then(function(a){return c=a,d.removeItem(b)}).then(function(){return c})},k.prototype.clear=function(){var a=h.defer(),b=arguments,c=this;return c._localforage.clear().then(function(b){a.resolve()},function(d){c.onError(d,b,c.clear,a)}),a.promise},k.prototype.key=function(b){if(a.isUndefined(b))throw new Error("You must define a position to get for the key function");var c=h.defer(),d=arguments,e=this;return e._localforage.key(b).then(function(a){c.resolve(a)},function(a){e.onError(a,d,e.key,c)}),c.promise};var l=function(){var a=h.defer(),b=arguments,c=this;return c._localforage.keys().then(function(b){if(d.oldPrefix&&"localStorageWrapper"===c.driver()){for(var e=[],f=0,g=b.length;g>f;f++)e.push(b[f].substr(c.prefix().length,b[f].length));b=e}a.resolve(b)},function(d){c.onError(d,b,c.keys,a)}),a.promise};return k.prototype.keys=l,k.prototype.getKeys=l,k.prototype.length=function(){var a=h.defer(),b=arguments,c=this;return c._localforage.length().then(function(b){a.resolve(b)},function(d){c.onError(d,b,length,a)}),a.promise},k.prototype.bind=function(b,e){if(a.isString(e))e={key:e};else if(!a.isObject(e)||a.isUndefined(e.key))throw new Error("You must define a key to bind");var g={defaultValue:"",name:d.name};e=a.extend({},g,e);var h=c[e.name];if(a.isUndefined(h))throw new Error("You must use the name of an existing instance");var j=e.scopeKey||e.key,k=i(j);return h.getItem(e.key,!0).then(function(a){return k.assign(b,a),a})["catch"](function(){return k.assign(b,e.defaultValue),h.setItem(e.key,e.defaultValue)}).then(function(c){return a.isDefined(f[e.key])&&f[e.key](),f[e.key]=b.$watch(j,function(b){a.isDefined(b)&&h.setItem(e.key,b)},!0),c})},k.prototype.unbind=function(b,e){if(a.isString(e))e={key:e};else if(!a.isObject(e)||a.isUndefined(e.key))throw new Error("You must define a key to unbind");var g={scopeKey:e.key,name:d.name};e=a.extend({},g,e);var h=c[e.name];if(a.isUndefined(h))throw new Error("You must use the name of an existing instance");return i(e.scopeKey).assign(b,null),a.isDefined(f[e.key])&&(f[e.key](),delete f[e.key]),h.removeItem(e.key)},k.prototype.prefix=function(){return"localStorageWrapper"===this.driver()&&d.oldPrefix?this._localforage.config().name+".":""},k.prototype.onError=function(b,c,d,e){if((a.isObject(b)&&b.name?"InvalidStateError"===b.name:a.isString(b)&&"InvalidStateError"===b)&&"asyncStorage"===this.driver()||a.isObject(b)&&b.code&&5===b.code){var f=this;f.setDriver("localStorageWrapper").then(function(){d.apply(f,c).then(function(a){e.resolve(a)},function(a){e.reject(a)})},function(){e.reject(b)})}else e.reject(b)},c[d.name]=new k,c[d.name]}]}),d.directive("localForage",["$localForage",function(b){return{restrict:"A",link:function(c,d,e){var f=c.$eval(e.localForage);a.isObject(f)&&a.isDefined(f.key)?b.bind(c,f):b.bind(c,e.localForage)}}}]),d.name}),function(a,b){"use strict";function c(){function a(a,b){return a?e(a)?a.indexOf(b)>=0:a.hasOwnProperty(b):void 0}return["$animate",function(b){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(c,d,f,g,h){var i,j=d[0],k=f.ngMessage||f.when,l=f.ngMessageExp||f.whenExp,m=function(a){i=a?e(a)?a:a.split(/[\s,]+/):null,g.reRender()};l?(m(c.$eval(l)),c.$watchCollection(l,m)):m(k);var n,o;g.register(j,o={test:function(b){return a(i,b)},attach:function(){n||h(function(a,c){b.enter(a,null,d),n=a;var e=n.$$attachId=g.getAttachId();n.on("$destroy",function(){n&&n.$$attachId===e&&(g.deregister(j),o.detach()),c.$destroy()})})},detach:function(){if(n){var a=n;n=null,b.leave(a)}}})}}}]}var d,e,f,g;b.module("ngMessages",[],function(){d=b.forEach,e=b.isArray,f=b.isString,g=b.element}).directive("ngMessages",["$animate",function(a){function b(a,b){return f(b)&&0===b.length||c(a.$eval(b))}function c(a){return f(a)?a.length:!!a}var e="ng-active",g="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(f,h,i){function j(a,b){for(var c=b,d=[];c&&c!==a;){var e=c.$$ngMessageNode;if(e&&e.length)return r[e];c.childNodes.length&&-1===d.indexOf(c)?(d.push(c),c=c.childNodes[c.childNodes.length-1]):c.previousSibling?c=c.previousSibling:(c=c.parentNode,d.push(c))}}function k(a,b,c){var d=r[c];if(m.head){var e=j(a,b);e?(d.next=e.next,e.next=d):(d.next=m.head,m.head=d)}else m.head=d}function l(a,b,c){var d=r[c],e=j(a,b);e?e.next=d.next:m.head=d.next}var m=this,n=0,o=0;this.getAttachId=function(){return o++};var p,q,r=this.messages={};this.render=function(j){j=j||{},p=!1,q=j;for(var k=b(h,i.ngMessagesMultiple)||b(h,i.multiple),l=[],n={},o=m.head,r=!1,s=0;null!=o;){s++;var t=o.message,u=!1;r||d(j,function(a,b){if(!u&&c(a)&&t.test(b)){if(n[b])return;n[b]=!0,u=!0,t.attach()}}),u?r=!k:l.push(t),o=o.next}d(l,function(a){a.detach()}),l.length!==s?a.setClass(f,e,g):a.setClass(f,g,e)},h.$watchCollection(i.ngMessages||i["for"],m.render),f.on("$destroy",function(){d(r,function(a){a.message.detach()})}),this.reRender=function(){p||(p=!0,h.$evalAsync(function(){p&&q&&m.render(q)}))},this.register=function(a,b){var c=n.toString();r[c]={message:b},k(f[0],a,c),a.$$ngMessageNode=c,n++,m.reRender()},this.deregister=function(a){var b=a.$$ngMessageNode;delete a.$$ngMessageNode,l(f[0],a,b),delete r[b],m.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(a,b,c){function d(a,d){var e=c.$$createComment?c.$$createComment("ngMessagesInclude",d):b[0].createComment(" ngMessagesInclude: "+d+" "),f=g(e);a.after(f),a.remove()}return{restrict:"AE",require:"^^ngMessages",link:function(b,e,g){var h=g.ngMessagesInclude||g.src;a(h).then(function(a){b.$$destroyed||(f(a)&&!a.trim()?d(e,h):c(a)(b,function(a){e.after(a),d(e,h)}))})}}}]).directive("ngMessage",c()).directive("ngMessageExp",c())}(window,window.angular),function(){function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}return a}()({1:[function(a,b,c){!function(){"use strict";function a(a,b,c){function d(b){return a.get(f+b,g).then(function(a){return a.data})}function e(b,c){return a.put(f+b,c,g)}var f=b.apiUrl+"/settings/",g={headers:{"x-wix-instance":c.Utils.getInstance()}};return{get:d,set:e}}a.$inject=["$http","clientConfig","$wix"],angular.module("hotel.common").factory("baseSettingsApi",a)}()},{}],2:[function(a,b,c){"use strict";angular.module("hotel.common").directive("wixBi",["bi","$timeout",function(a,b){return{restrict:"A",priority:1,link:{pre:function(c,d,e){var f=e.wixBiEvent||"click",g=c.$eval(e.wixBiArgs)||{},h=e.wixBi;"init"===f?a.log(h,g):d.bind(f,function(){b(function(){g=c.$eval(e.wixBiArgs)||{},a.log(h,g)},0)})}}}}])},{}],3:[function(a,b,c){"use strict";angular.module("hotel.common").provider("bi",function(){var a={timeout:500},b={},c={src:8},d=["wix1t1","apps28","omnomn","hotelautotest","tigers-group"],e=angular.extend,f=angular.isObject;this.configure=function(b){e(a,b)},this.addEvents=function(a){e(b,a)},this.setDefaultParams=function(a){e(c,a)},this.$get=["$wix","siteConfig","hotelConfig","hotelState","mixpanel","Date","wixBiLogger","$timeout","experiments","wixCookie","$injector",function(g,h,i,j,k,l,m,n,o,p,q){function r(a,b){var c={};angular.forEach(a,function(a,b){var d=b;"_"===b.charAt(0)&&(d=b.substring(1)),c[d]=a}),k.log(c.title,c,b)}var s=g.Extensions.getUid(),t=h.isWixStaff||-1!==d.indexOf(p.getUsername()),u=e({uuid:h.ownerUserId,_upgraded:j.upgraded,_isOwner:s===h.ownerUserId,msid:h.metasiteId,site_id:h.id,instance_id:g.Extensions.getInstanceId(),mode:g.Utils.getViewMode(),_debug:t,_room_count:j.roomCount,_completed:j.hotelReady},c);u._isOwner||(u.visitor_id=h.visitorId),q.has("templateName")&&(u._template=q.get("templateName")()),angular.forEach(o,function(a,b){b="_~EXP: "+b,u[b]=a});var v=function(b,c){var d=0,e=!1;if(b){var f=function(){d++,d===c&&(e=!0,b())};return n(function(){e||(e=!0,b())},a.timeout),f}return function(){}},w={extendConstants:function(a){u=angular.extend(u,a)},log:function(c,d,g,h){if(!c||"live"!==i.mode)return void(h&&h());if(c=f(c)?c:b[c],!c)throw new Error("Unrecognized BI event: "+c);var k,n={cache_killer:(new l).getTime(),_demo:0===j.roomCount},o=e({},u,n,c,d);if(c.evid){k=v(h,2),131===c.evid&&delete o.is_valid;var p={};angular.forEach(o,function(a,b){"_"!==b.charAt(0)&&angular.isDefined(a)&&null!==a&&(p[b]=a)}),m.log(g?g:a.url,p,k)}else k=v(h,1);r(o,k)}};return w}]})},{}],4:[function(a,b,c){"use strict";angular.module("hotel.common").factory("mixpanel",["$window","siteConfig","hotelConfig","clientConfig","$log","$wix",function(a,b,c,d,e,f){if(!a.mixpanel||"production"!==b.environment||"live"!==c.mode)return{log:function(a,b,c){e.log(a,b),c&&c()}};var g={disable_cookie:!0};f.Extensions.inTemplate()?a.mixpanel.init("43fa8eaed008287690739db5ff63cc84",g):b.isOwner?a.mixpanel.init("75d0556679805a1da48d0ebf27f443f4",g):a.mixpanel.init("9f014948f7a52fabfbb7df3e7e00800c",g);var h=b.ownerUserId;return b.isOwner&&h&&!f.Extensions.inTemplate()?a.mixpanel.identify(h):b.visitorId&&a.mixpanel.identify(b.visitorId),{log:function(b,c,d){a.mixpanel.track(b,c,d)}}}])},{}],5:[function(a,b,c){"use strict";angular.module("hotel.common").factory("wixBiLogger",["Image","url","$timeout",function(a,b,c){return{log:function(d,e,f){var g=b.encodeQueryString(e),h=d+"?"+g,i=new a;return i.src=h,f&&c(function(){f()},100),i}}}])},{}],6:[function(a,b,c){"use strict";angular.module("hotel.common").factory("wixCookie",["$window",function(a){var b=function(b){for(var c,d=a.document.cookie.split("; "),e=0;e<d.length;e++)0===d[e].indexOf(b+"=")&&(c=d[e].replace(/.*=/g,""));return c};return{getValue:b,getVisitorId:function(){return b("_wixCIDX")},getUsername:function(){var a=b("wixClient");return a?a.split("|")[0]:void 0},getEmail:function(){var a=b("wixClient");return a?a.split("|")[1]:void 0},getUid:function(){var a=b("wixClient");return a?a.split("|")[6]:void 0}}}])},{}],7:[function(a,b,c){"use strict";angular.module("hotel.common").constant("amenityDefinitions",[{id:"ac",name:"Air Conditioning","short":"A/C",priority:1},{id:"wifi",name:"Internet (Wi-Fi)","short":"WiFi",priority:2},{id:"tv",name:"TV",priority:4},{id:"safe",name:"Safe",priority:5},{id:"mini-bar",name:"Minibar",priority:6},{id:"shower",name:"Shower",priority:8},{id:"phone",name:"Telephone",priority:9},{id:"kitchen",name:"Kitchen",priority:11},{id:"work-space",name:"Work Space",priority:12},{id:"bath",name:"Bath",priority:10},{id:"towels",name:"Towels",priority:13},{id:"smoking",name:"Smoking Allowed",priority:14}])},{}],8:[function(a,b,c){"use strict";angular.module("hotel.common").constant("bedTypes",[{value:"single",label:"Single",translationId:"bed.SINGLE"},{value:"double",label:"Double",translationId:"bed.DOUBLE"},{value:"queen",label:"Queen",translationId:"bed.QUEEN"},{value:"king",label:"King",translationId:"bed.KING"},{value:"twin",label:"Twin",translationId:"bed.TWIN"},{value:"super-king",label:"Super King",translationId:"bed.SUPER_KING"}])},{}],9:[function(a,b,c){angular.module("hotel.common").constant("countryDefinitions",a("../../src/constants/country-definitions"))},{"../../src/constants/country-definitions":58}],10:[function(a,b,c){"use strict";angular.module("hotel.common").constant("hotelTypes",a("../../src/constants/hotel-types"))},{"../../src/constants/hotel-types":59}],11:[function(a,b,c){"use strict";angular.module("hotel.common").constant("languageDefinitions",{da:"Dansk",en:"English",de:"Deutsch",es:"Español",fr:"Français",it:"Italiano",pl:"Polski",pt:"Português",ru:"Русский",ja:"日本語",ko:"한국어",tr:"Türkçe",nl:"Nederlands",no:"Norsk",sv:"Svenska"})},{}],12:[function(a,b,c){angular.module("hotel.common").constant("reservationStatuses",a("../../src/constants/reservation-statuses"))},{"../../src/constants/reservation-statuses":60}],13:[function(a,b,c){angular.module("hotel.common").constant("urlToWhitelistMatchers",a("../../src/url-to-whitelist-matchers"))},{"../../src/url-to-whitelist-matchers":62}],14:[function(a,b,c){angular.module("hotel.common",["ngResource","ngMessages"]),a("angular-messages"),a("./state/site-state.srvc"),a("./state/refresher.srvc"),a("./state/local-storage.srvc"),a("./api/base-settings-api.srvc.js"),a("./state/settings-storage.srvc"),a("./constants/hotel-types"),a("./constants/reservation-statuses"),a("./constants/country-definitions"),a("./constants/bed-types"),a("./constants/amenity-definitions"),a("./constants/url-to-whitelist-matchers"),a("./constants/language-definitions"),a("./xdate/xdate.srvc"),a("./core/wix.srvc"),a("./core/url.srvc"),a("./core/stubs"),a("./core/index"),a("./core/global-interceptor.srvc"),a("./bi/wix-cookie.srvc"),a("./bi/wix-bi-logger.srvc"),a("./bi/mixpanel.srvc"),a("./bi/bi.srvc"),a("./bi/bi.dir"),a("./xdate/xdate.fltr"),a("./templates/templates.const"),a("./templates/template-name.srvc"),a("./shoutout-templates/shoutout-templates.const"),a("./shoutout-templates/shoutout-templates-names.srvc"),a("./translate/hotel-translate"),a("./translate/use-language.srvc"),a("./translate/html.dir"),a("./svg/wix-svg.dir"),a("./filters/unsafe"),a("./newrelic"),window.MessageFormat=a("messageformat"),a("angular-translate-loader-partial"),a("angular-translate-interpolation-messageformat")},{"./api/base-settings-api.srvc.js":1,"./bi/bi.dir":2,"./bi/bi.srvc":3,"./bi/mixpanel.srvc":4,"./bi/wix-bi-logger.srvc":5,"./bi/wix-cookie.srvc":6,"./constants/amenity-definitions":7,"./constants/bed-types":8,"./constants/country-definitions":9,"./constants/hotel-types":10,"./constants/language-definitions":11,"./constants/reservation-statuses":12,"./constants/url-to-whitelist-matchers":13,"./core/global-interceptor.srvc":15,"./core/index":16,"./core/stubs":17,"./core/url.srvc":18,"./core/wix.srvc":19,"./filters/unsafe":20,"./newrelic":21,"./shoutout-templates/shoutout-templates-names.srvc":22,"./shoutout-templates/shoutout-templates.const":23,"./state/local-storage.srvc":24,"./state/refresher.srvc":25,"./state/settings-storage.srvc":26,"./state/site-state.srvc":27,"./svg/wix-svg.dir":28,"./templates/template-name.srvc":29,"./templates/templates.const":30,"./translate/hotel-translate":31,"./translate/html.dir":32,"./translate/use-language.srvc":33,"./xdate/xdate.fltr":34,"./xdate/xdate.srvc":35,"angular-messages":37,"angular-translate-interpolation-messageformat":38,"angular-translate-loader-partial":42,messageformat:48}],15:[function(a,b,c){"use strict";angular.module("hotel.common").factory("globalInterceptor",["$q","$rootScope","clientConfig","$injector","$wix","Date","newrelic",function(a,b,c,d,e,f,g){function h(a,b){for(var c in a)if(a.hasOwnProperty(c)&&c.toLowerCase()===b.toLowerCase())return a[c];return void 0}function i(a){return j.indexOf(a)>-1}var j=[-35021,-35027,-35036],k=f.now();return{request:function(a){if(/^\/?views\//.test(a.url)||/^\/?template\//.test(a.url)){if(a.cache&&a.cache.get(a.url))return a;c.partialsUrl&&(a.url=c.partialsUrl+a.url,a.partial=!0)}return"GET"===a.method&&h(a.headers,"X-Wix-Instance")&&!e.Extensions.getDemoMode()&&(a.params=a.params||{},a.cache?a.params.timestamp=k:a.params.timestamp=f.now()),a},responseError:function(c){var e=c.data||{},f=void 0!==e.wixErrorCode?e.wixErrorCode:e.errorCode,h=void 0!==e.errorMessage?e.errorMessage:e.errorDescription,j=c.status,k=d.get("bi"),l=c.config.url,m={status:j,url:l,method:c.config.method};if(angular.isDefined(f)&&(m.code=f),angular.isDefined(h)&&(m.message=h),403===j)k.log({title:"Access Denied",error:!0},m),b.$broadcast("$hotelsAccessException",m);else if(m.code&&m.message)k.log({title:"Wix Error",error:!0},m),b.$broadcast("$hotelsException",m),i(e.wixErrorCode)||(b.error=m);else if(0===j||0>j)k.log({title:"HTTP Request Canceled",error:!0},m),b.$broadcast("$hotelsRequestCanceled",m);else if(/\/translations\/.+$/i.test(l)&&!/_en\.json$/i.test(l))b.$broadcast("$hotelsTranslationFallback",m);else{b.$broadcast("$hotelsFatalException",m);var n=angular.copy(m);n._status=n.status,n.response_code=n.status,delete n.status,k.log({title:"Fatal Error",_error:!0,evid:156},n),b.fatalError=m}return m.code&&i(m.code)||!(j>0)||g.noticeError(new Error((m.code?["Server",j,m.code,m.message]:["Fatal",j,m.method,m.url]).join(" "))),a.reject(c)}}}])},{}],16:[function(a,b,c){b.exports.url=a("./url.srvc")},{"./url.srvc":18}],17:[function(a,b,c){"use strict";angular.module("hotel.common").factory("Image",function(){return Image}),angular.module("hotel.common").factory("Date",function(){return Date})},{}],18:[function(a,b,c){"use strict";var d=a("../../src/url-helper");angular.module("hotel.common").factory("url",["$window",function(a){return{encodeQueryString:d.encodeQueryString,parseQueryString:function(b){return d.parseQueryString(b||a.location.search)}}}])},{"../../src/url-helper":61}],19:[function(a,b,c){"use strict";angular.module("hotel.common").factory("Wix",["$window",function(a){return a.Wix||{}}]).factory("jQuery",["$window",function(a){return a.jQuery||{}}]).factory("$wix",["$q","$timeout","$window","$injector","clientConfig","siteConfig","url","languageDefinitions","Wix","jQuery",function(a,b,c,d,e,f,g,h,i,j){function k(a,b,c){b.title=new Array(c+1).join("-")+b.title,a.push(b),b.subPages&&b.subPages.forEach(function(b){k(a,b,c+1)})}var l=d.has("localInstance")&&d.get("localInstance");return i.Utils=i.Utils||{},i.Extensions=i.Extensions||{},i.Utils.getInstance=function(){return e.defaultInstance||l||g.parseQueryString().instance},i.Extensions.getInstanceId=function(){try{return i.Utils.getInstanceId()}catch(a){return""}},i.Extensions.initializeUi=function(a){var b=angular.copy(a);angular.forEach(b,function(a,c){var d=j("[wix-model="+c+"]").attr("wix-ctrl");"LanguagePicker"===d&&(b[c]=a.charAt(0).toUpperCase()+a.slice(1))}),i.UI.initialize(b)},i.Extensions.getDemoMode=function(){var a=!1;try{a=i.Utils.getDemoMode()}catch(b){}return a},i.Extensions.getLocale=function(){var a=i.Utils.getLocale(),b=Object.keys(h);return b.indexOf(a)>-1?a:"en"},i.Extensions.getUid=function(){var a;try{a=i.Utils.getUid()}catch(b){}return a},i.Extensions.inTemplate=function(){return this.getDemoMode()&&!("editor"===i.Utils.getViewMode()||"preview"===i.Utils.getViewMode())},i.Extensions.getFlatPages=function(){var c=[],d=a.defer();return i.getSitePages(function(a){a.forEach(function(a){k(c,a,0)}),b(function(){d.resolve(c)})}),c.$promise=d.promise,c},i.Extensions.getBiInfo=function(){return{msid:f.metasiteId,site_id:f.id,uuid:f.ownerUserId}},i.Extensions.getBackofficeUrl=function(a){"production"===f.environment?i.Settings.getDashboardAppUrl(a):a(e.backofficeUrl)},i.Extensions.inDashboard=function(){return"dashboard"===i.Utils.getViewMode().toLowerCase()},i.Extensions.inEditor=function(){return"editor"===i.Utils.getViewMode().toLowerCase()},i.Extensions.isStandalone=function(){return"standalone"===i.Utils.getViewMode().toLowerCase()},i.Extensions.inWordpress=function(){var a=g.parseQueryString().wordpress;return"true"===a||"1"===a},i}])},{}],20:[function(a,b,c){"use strict";angular.module("hotel.common").filter("unsafe",["$sce",function(a){return a.trustAsHtml}])},{}],21:[function(a,b,c){angular.module("hotel.common").factory("newrelic",["$window","$log",function(a,b){"use strict";var c={},d=["noticeError"];return d.forEach(function(d){c[d]=function(){var c=a.newrelic||a.NREUM;return c?c[d].apply(a.NREUM,arguments):void b.error("NewRelic global object not found. Cannot call "+d+".")}}),c}])},{}],22:[function(a,b,c){"use strict";angular.module("hotel.common").factory("shoutoutTemplateName",["shoutoutTemplates",function(a){return function(b){return a[b]}}])},{}],23:[function(a,b,c){"use strict";angular.module("hotel.common").constant("shoutoutTemplates",{"a89df4b7-12a3-459d-ba25-3060f74aab4b":"Promote Special Offers","06bc44ab-fb5f-4d6e-b4b1-18d7cf75feb2":"Announce a Sale","23b4196c-d4a6-47a7-9e27-b93a1ced66b7":"Send a Newsletter"})},{}],24:[function(a,b,c){"use strict";angular.module("hotel.common").factory("localStorage",["$window",function(a){var b=a.localStorage;return{set:function(a,c){try{b.setItem(a,JSON.stringify(c))}catch(d){}},get:function(a){try{return JSON.parse(b.getItem(a))}catch(c){}return void 0},clear:function(){b.clear()},remove:function(a){b.removeItem(a)},watch:function(b,c){a.addEventListener("storage",function(a){a.key===b&&c(a)})}}}])},{}],25:[function(a,b,c){!function(){"use strict";function a(a,b,c,d,e){function f(){a.setItem("refresh",b.now())}function g(){return a.getItem("refresh").then(function(a){return a>i?(i=a,c.resolve()):c.reject()})}function h(a){d.ownerUserId===e.Extensions.getUid()&&g().then(a)["finally"](function(){setTimeout(function(){h(a)},2e3)})}var i=b.now();return{refresh:f,engage:f,watchForChange:h}}a.$inject=["settingsStorage","XDate","$q","siteConfig","$wix"],angular.module("hotel.state",["hotel.common"]).factory("refresher",a)}()},{}],26:[function(a,b,c){!function(){"use strict";function a(a){function b(b,c){return a.set(b,{value:c})}function c(b){return a.get(b).then(function(a){return a.value})}function d(b){return a.set(b,{})}return{setItem:b,getItem:c,removeItem:d}}a.$inject=["baseSettingsApi"],angular.module("hotel.state").factory("settingsStorage",a)}()},{}],27:[function(a,b,c){"use strict";angular.module("hotel.common").provider("siteState",function(){var a=[];this.addFlags=function(b){angular.forEach(b,function(b){a.push(b)})},this.$get=["localStorage","$wix",function(b,c){function d(a){return a?i[a]:i}function e(a,b){void 0===b&&g(a)?i=a:i[a]=b}function f(){b.set(h,i)}var g=angular.isObject,h=c.Extensions.getInstanceId(),i=b.get(h);if(g(i))angular.forEach(a,function(a){var b=d(a);e(a,void 0===b||b)});else{var j=null===i||i===!0;e({}),angular.forEach(a,function(a){e(a,j)})}f();var k={get:d,set:e,save:f},l=function(a){return function(b){return void 0!==b&&(e(a,b),f()),d(a)}};return angular.forEach(a,function(a){k[a]=l(a)}),k}]})},{}],28:[function(a,b,c){"use strict";angular.module("hotel.common").directive("wixSvg",["$location",function(a){var b=a.absUrl().replace(/#.*$/,"");return{restrict:"E",priority:100,link:function(a,c,d){d.$observe("icon",function(a){var e=angular.element("<div></div>"),f=angular.element("<svg></svg>");f.attr("pointer-events",d.pointerEvents),f.attr("viewBox",d.viewbox||"0 0 200 200"),f.attr("role",d.role);var g=angular.element("<use></use>");g.attr("xlink:href",b+"#"+a),c.html(e.append(f.append(g)).html())})}}}])},{}],29:[function(a,b,c){"use strict";angular.module("hotel.common").factory("templateName",["templates","siteConfig",function(a,b){return function(){return a[b.templateId]||a[b.instanceId]||"NONE"}}])},{}],30:[function(a,b,c){"use strict";angular.module("hotel.common").constant("templates",{"13c53ae0-7d97-552a-f08d-a4afc1068607":"city_hotel","caba6c40-2873-4efc-9c79-df22d4b5ce9c":"glamping_site","13cc8929-93a3-45fb-0e68-bb04489f4e8d":"modern_hotel","596e566b-a392-4e25-a957-da5b88832fe9":"retro_hotel","13ca1af3-2a5e-b3bd-8051-5ee1793ceaf5":"city_apartment_rental","fee37f36-be17-45fb-9159-aa2de8697194":"tropical_villa_rental","b312405a-449b-48ee-9b7a-ae90cf84ac34":"tropical_villa_rental","13c53102-94b9-ae5f-fedc-9d57835f896b":"island_hotel","13919d64-ec8c-f53f-ec86-6ffd3d7477d9":"ski_chalet","13c134d8-4d4d-ea27-fffc-e91945f3ea0a":"urban_holiday_apartments","1391aa2f-2744-6e79-cb3b-d63c08d2c30d":"luxury_urban_hotel","139818f2-6698-44e8-6a32-aafe4bd69fb2":"boutique_hotel","1390af4e-1727-9e85-ee22-73b9b961d8b8":"seaside_b_and_b","138fd9db-284a-2464-ec86-6ffd3d7477d9":"spa_resort","138f805d-d082-3a68-a05b-963544625a57":"backpackers_hostel","138f8242-7c35-15e2-87e4-d2760db1ae1b":"country_b_and_b","140cc9cf-b248-d932-37ce-081445871b11":"rio_apartment","7d522a64-36a5-4258-be11-ab7451bf643b":"rio_apartment","140b391d-2ec9-a0e3-1177-11a8cedf9a31":"rio_pousada","993a5670-231d-47b1-a0fe-b3cee4c54934":"rio_host","27f84172-9489-44ca-9bb6-31920ecae2ad":"rio_host","b6c9b959-9d0d-4b82-ac92-d523e4910302":"rio_host","4e7b2759-794a-48c1-bea9-bc1f0081fd9f":"laguna","db1f3f71-ac2c-486b-baff-e4b39179dd5b":"casa_3"})},{}],31:[function(a,b,c){"use strict";angular.module("hotel.translate",["hotel.common","pascalprecht.translate"]),angular.module("hotel.translate").config(["$translateProvider","clientConfig",function(a,b){a.useLoader("$translatePartialLoader",{urlTemplate:function(a,c){return a.indexOf("json")>-1?b.translationsUrl+"translations/"+a:b.translationsUrl+"translations/"+a+"_"+c+".json"}}),a.useMessageFormatInterpolation(),a.preferredLanguage("en"),a.fallbackLanguage("en")}]),angular.module("hotel.translate").run(["XDate","$translate","$rootScope",function(a,b,c){function d(c){var d=b.instant;a.defaultLocale=c,a.locales[c]={monthNames:[d("calendar.FULL_MONTH0"),d("calendar.FULL_MONTH1"),d("calendar.FULL_MONTH2"),d("calendar.FULL_MONTH3"),d("calendar.FULL_MONTH4"),d("calendar.FULL_MONTH5"),d("calendar.FULL_MONTH6"),d("calendar.FULL_MONTH7"),d("calendar.FULL_MONTH8"),d("calendar.FULL_MONTH9"),d("calendar.FULL_MONTH10"),d("calendar.FULL_MONTH11")],monthNamesShort:[d("calendar.SHORT_MONTH0"),d("calendar.SHORT_MONTH1"),d("calendar.SHORT_MONTH2"),d("calendar.SHORT_MONTH3"),d("calendar.SHORT_MONTH4"),d("calendar.SHORT_MONTH5"),d("calendar.SHORT_MONTH6"),d("calendar.SHORT_MONTH7"),d("calendar.SHORT_MONTH8"),d("calendar.SHORT_MONTH9"),d("calendar.SHORT_MONTH10"),d("calendar.SHORT_MONTH11")],
dayNames:[d("calendar.FULL_DAY0"),d("calendar.FULL_DAY1"),d("calendar.FULL_DAY2"),d("calendar.FULL_DAY3"),d("calendar.FULL_DAY4"),d("calendar.FULL_DAY5"),d("calendar.FULL_DAY6")],dayNamesShort:[d("calendar.SHORT_DAY0"),d("calendar.SHORT_DAY1"),d("calendar.SHORT_DAY2"),d("calendar.SHORT_DAY3"),d("calendar.SHORT_DAY4"),d("calendar.SHORT_DAY5"),d("calendar.SHORT_DAY6")]}}c.$on("$translateChangeSuccess",function(a,b){angular.isDefined(b.language)&&d(b.language)})}])},{}],32:[function(a,b,c){!function(){"use strict";function a(a,b){return function(c,d){d.attr("lang",a.use()),b.$on("$translateChangeSuccess",function(a,b){d.attr("lang",b.language)})}}a.$inject=["$translate","$rootScope"],angular.module("hotel.translate").directive("html",a)}()},{}],33:[function(a,b,c){"use strict";angular.module("hotel.translate").factory("useLanguage",["$translate","$q",function(a,b){var c=b.defer(),d={subscribers:[],currentLanguagePromise:c.promise};c.resolve();var e=function(b){var c=b&&b.value&&b.value.toLowerCase()||b;if(c=c.toLowerCase(),c={po:"pl"}[c]||c,c&&c!==a.use()){var e=a.use(c);d.currentLanguagePromise=e,d.subscribers.forEach(function(a){a(c,e)})}},f=e.bind(d);return f.subscribe=function(a){d.subscribers.push(a)},f.getCurrentLanguagePromise=function(){return d.currentLanguagePromise},f}])},{}],34:[function(a,b,c){"use strict";angular.module("hotel.common").filter("xdate",["XDate",function(a){var b=function(b,c,d){var e,f=typeof b;if(e="string"===f||"number"===f&&!isNaN(b)&&Math.abs(b)!==1/0||"object"===f&&null!==b&&(b.constructor===Date||b.constructor===a),e&&d){var g=new a(b,!0).toString(c);g.length>d&&c.length>1&&(c=c.substr(0,c.length-1))}return e?new a(b,!0).toString(c):""};return b.$stateful=!0,b}])},{}],35:[function(a,b,c){"use strict";angular.module("hotel.common").factory("XDate",["$window",function(a){var b=a.XDate||{};return b.formatters=b.formatters||{},b.formatters.EEEE="dddd",b.formatters.EEE="ddd",b}])},{}],36:[function(a,b,c){!function(a,b){"use strict";function c(){function a(a,b){return a?e(a)?a.indexOf(b)>=0:a.hasOwnProperty(b):void 0}return["$animate",function(b){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(c,d,f,g,h){var i,j=d[0],k=f.ngMessage||f.when,l=f.ngMessageExp||f.whenExp,m=function(a){i=a?e(a)?a:a.split(/[\s,]+/):null,g.reRender()};l?(m(c.$eval(l)),c.$watchCollection(l,m)):m(k);var n,o;g.register(j,o={test:function(b){return a(i,b)},attach:function(){n||h(function(a,c){b.enter(a,null,d),n=a;var e=n.$$attachId=g.getAttachId();n.on("$destroy",function(){n&&n.$$attachId===e&&(g.deregister(j),o.detach()),c.$destroy()})})},detach:function(){if(n){var a=n;n=null,b.leave(a)}}})}}}]}var d,e,f,g;b.module("ngMessages",[],function(){d=b.forEach,e=b.isArray,f=b.isString,g=b.element}).directive("ngMessages",["$animate",function(a){function b(a,b){return f(b)&&0===b.length||c(a.$eval(b))}function c(a){return f(a)?a.length:!!a}var e="ng-active",g="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(f,h,i){function j(a,b){for(var c=b,d=[];c&&c!==a;){var e=c.$$ngMessageNode;if(e&&e.length)return r[e];c.childNodes.length&&-1===d.indexOf(c)?(d.push(c),c=c.childNodes[c.childNodes.length-1]):c.previousSibling?c=c.previousSibling:(c=c.parentNode,d.push(c))}}function k(a,b,c){var d=r[c];if(m.head){var e=j(a,b);e?(d.next=e.next,e.next=d):(d.next=m.head,m.head=d)}else m.head=d}function l(a,b,c){var d=r[c],e=j(a,b);e?e.next=d.next:m.head=d.next}var m=this,n=0,o=0;this.getAttachId=function(){return o++};var p,q,r=this.messages={};this.render=function(j){j=j||{},p=!1,q=j;for(var k=b(h,i.ngMessagesMultiple)||b(h,i.multiple),l=[],n={},o=m.head,r=!1,s=0;null!=o;){s++;var t=o.message,u=!1;r||d(j,function(a,b){if(!u&&c(a)&&t.test(b)){if(n[b])return;n[b]=!0,u=!0,t.attach()}}),u?r=!k:l.push(t),o=o.next}d(l,function(a){a.detach()}),l.length!==s?a.setClass(f,e,g):a.setClass(f,g,e)},h.$watchCollection(i.ngMessages||i["for"],m.render),f.on("$destroy",function(){d(r,function(a){a.message.detach()})}),this.reRender=function(){p||(p=!0,h.$evalAsync(function(){p&&q&&m.render(q)}))},this.register=function(a,b){var c=n.toString();r[c]={message:b},k(f[0],a,c),a.$$ngMessageNode=c,n++,m.reRender()},this.deregister=function(a){var b=a.$$ngMessageNode;delete a.$$ngMessageNode,l(f[0],a,b),delete r[b],m.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(a,b,c){function d(a,d){var e=c.$$createComment?c.$$createComment("ngMessagesInclude",d):b[0].createComment(" ngMessagesInclude: "+d+" "),f=g(e);a.after(f),a.remove()}return{restrict:"AE",require:"^^ngMessages",link:function(b,e,g){var h=g.ngMessagesInclude||g.src;a(h).then(function(a){b.$$destroyed||(f(a)&&!a.trim()?d(e,h):c(a)(b,function(a){e.after(a),d(e,h)}))})}}}]).directive("ngMessage",c()).directive("ngMessageExp",c())}(window,window.angular)},{}],37:[function(a,b,c){a("./angular-messages"),b.exports="ngMessages"},{"./angular-messages":36}],38:[function(a,b,c){!function(c,d){"function"==typeof define&&define.amd?define(["messageformat"],function(a){return d(a)}):"object"==typeof b&&b.exports?b.exports=d(a("messageformat")):d(c.MessageFormat)}(this,function(a){function b(){"use strict";var a;this.messageFormatConfigurer=function(b){a=b},this.$get=["$translateSanitization","$cacheFactory","TRANSLATE_MF_INTERPOLATION_CACHE",function(b,d,e){return c(b,d,e,a)}]}function c(b,c,d,e){"use strict";var f={},g=c.get(d),h=new a("en"),i="messageformat";return angular.isFunction(e)&&e(h),g||(g=c(d)),g.put("en",h),f.setLocale=function(b){h=g.get(b),h||(h=new a(b),angular.isFunction(e)&&e(h),g.put(b,h))},f.getInterpolationIdentifier=function(){return i},f.useSanitizeValueStrategy=function(a){return b.useStrategy(a),this},f.interpolate=function(a,c,d,e){c=c||{},c=b.sanitize(c,"params",e);var f=g.get("mf:"+a);if(!f){for(var i in c)if(c.hasOwnProperty(i)){var j=parseInt(c[i],10);angular.isNumber(j)&&""+j===c[i]&&(c[i]=j)}f=h.compile(a),g.put("mf:"+a,f)}var k=f(c);return b.sanitize(k,"text",e)},f}return angular.module("pascalprecht.translate").constant("TRANSLATE_MF_INTERPOLATION_CACHE","$translateMessageFormatInterpolation").provider("$translateMessageFormatInterpolation",b),c.displayName="$translateMessageFormatInterpolation","pascalprecht.translate"})},{messageformat:40}],39:[function(a,b,c){function d(a){this.mf=a,this.lc=null,this.locales={},this.runtime={},this.formatters={}}var e=a("reserved-words"),f=a("messageformat-parser").parse;b.exports=d,d.propname=function(a,b){if(/^[A-Z_$][0-9A-Z_$]*$/i.test(a)&&["break","continue","delete","else","for","function","if","in","new","return","this","typeof","var","void","while","with","case","catch","default","do","finally","instanceof","switch","throw","try"].indexOf(a)<0)return b?b+"."+a:a;var c=JSON.stringify(a);return b?b+"["+c+"]":c},d.funcname=function(a){var b=a.trim().replace(/\W+/g,"_");return e.check(b,"es2015",!0)||/^\d/.test(b)?"_"+b:b},d.bidiMarkText=function(a,b){function c(a){var b=["ar","ckb","fa","he","ks($|[^bfh])","lrc","mzn","pa-Arab","ps","ug","ur","uz-Arab","yi"];return new RegExp("^"+b.join("|^")).test(a)}var d=JSON.stringify(c(b)?"‏":"‎");return d+" + "+a+" + "+d},d.prototype.cases=function(a,b){var c=!0,e=a.cases.map(function(a){"other"===a.key&&(c=!1);var e=a.tokens.map(function(a){return this.token(a,b)},this);return d.propname(a.key)+": "+(e.join(" + ")||'""')},this);if(c)throw new Error("No 'other' form found in "+JSON.stringify(a));return"{ "+e.join(", ")+" }"},d.prototype.token=function(a,b){if("string"==typeof a)return JSON.stringify(a);var c,e=[d.propname(a.arg,"d")];switch(a.type){case"argument":return this.mf.bidiSupport?d.bidiMarkText(e[0],this.lc):e[0];case"select":c="select",e.push(this.cases(a,this.mf.strictNumberSign?null:b)),this.runtime.select=!0;break;case"selectordinal":c="plural",e.push(0,d.funcname(this.lc),this.cases(a,a),1),this.locales[this.lc]=!0,this.runtime.plural=!0;break;case"plural":c="plural",e.push(a.offset||0,d.funcname(this.lc),this.cases(a,a)),this.locales[this.lc]=!0,this.runtime.plural=!0;break;case"function":if(this.mf.intlSupport&&!(a.key in this.mf.fmt)&&a.key in this.mf.constructor.formatters){var f=this.mf.constructor.formatters[a.key];this.mf.fmt[a.key]="function"==typeof f(this.mf)?f(this.mf):f}if(!this.mf.fmt[a.key])throw new Error("Formatting function "+JSON.stringify(a.key)+" not found!");if(e.push(JSON.stringify(this.lc)),a.params)switch(a.params.length){case 0:break;case 1:e.push(JSON.stringify(a.params[0]));break;default:e.push(JSON.stringify(a.params))}c=d.propname(a.key,"fmt"),this.formatters[a.key]=!0;break;case"octothorpe":if(!b)return'"#"';c="number",e=[d.propname(b.arg,"d"),JSON.stringify(b.arg)],b.offset&&e.push(b.offset),this.runtime.number=!0}if(!c)throw new Error("Parser error for token "+JSON.stringify(a));return c+"("+e.join(", ")+")"},d.prototype.compile=function(a,b,c){if("object"!=typeof a){this.lc=b;var d=c[b]||{cardinal:[],ordinal:[]},e=f(a,d).map(function(a){return this.token(a)},this);return"function(d) { return "+(e.join(" + ")||'""')+"; }"}var g={};for(var h in a){var i=c.hasOwnProperty(h)?h:b;g[h]=this.compile(a[h],i,c)}return g}},{"messageformat-parser":46,"reserved-words":53}],40:[function(a,b,c){function d(b,c){for(var d=a("make-plural/plurals"),e=a("make-plural/pluralCategories"),f=b;f;f=f.replace(/[-_]?[^-_]*$/,"")){var g=d[f];if(g){var h=c?{cardinal:[],ordinal:[]}:e[f]||{},i=function(){return g.apply(this,arguments)};return i.toString=function(){return g.toString()},i.cardinal=h.cardinal,i.ordinal=h.ordinal,i}}throw new Error("Localisation function not found for locale "+JSON.stringify(b))}function e(a){if(this.pluralFuncs={},a)if("string"==typeof a)this.pluralFuncs[a]=d(a);else if(Array.isArray(a))a.forEach(function(a){this.pluralFuncs[a]=d(a)},this);else if("object"==typeof a)for(var b in a)if(a.hasOwnProperty(b)){if("function"!=typeof a[b])throw new Error("Expected function value for locale "+JSON.stringify(b));this.pluralFuncs[b]=a[b]}this.fmt={},this.runtime=new g(this)}var f=a("./compiler"),g=a("./runtime");e.defaultLocale="en",e.escape=function(a){return a.replace(/[#{}\\]/g,"\\$&")},e.formatters={number:function(a){return new Function("v,lc,p","return new Intl.NumberFormat(lc,\n    p=='integer' ? {maximumFractionDigits:0}\n  : p=='percent' ? {style:'percent'}\n  : p=='currency' ? {style:'currency', currency:'"+(a.currency||"USD")+"', minimumFractionDigits:2, maximumFractionDigits:2}\n  : {}).format(v)")},date:function(a,b,c){var d={day:"numeric",month:"short",year:"numeric"};switch(c){case"full":d.weekday="long";case"long":d.month="long";break;case"short":d.month="numeric"}return new Date(a).toLocaleDateString(b,d)},time:function(a,b,c){var d={second:"numeric",minute:"numeric",hour:"numeric"};switch(c){case"full":case"long":d.timeZoneName="short";break;case"short":delete d.second}return new Date(a).toLocaleTimeString(b,d)}},e.prototype.addFormatters=function(a){for(var b in a)a.hasOwnProperty(b)&&(this.fmt[b]=a[b]);return this},e.prototype.disablePluralKeyChecks=function(){this.noPluralKeyChecks=!0;for(var a in this.pluralFuncs)this.pluralFuncs.hasOwnProperty(a)&&(this.pluralFuncs[a].cardinal=[],this.pluralFuncs[a].ordinal=[]);return this},e.prototype.setBiDiSupport=function(a){return this.bidiSupport=!!a||"undefined"==typeof a,this},e.prototype.setIntlSupport=function(a){return this.intlSupport=!!a||"undefined"==typeof a,this},e.prototype.setStrictNumberSign=function(a){return this.strictNumberSign=!!a||"undefined"==typeof a,this.runtime.setStrictNumber(this.strictNumberSign),this},e.prototype.compile=function(a,b){function c(a,b){if(b||(b=0),"object"!=typeof a)return a;for(var d=[],e="",g=0;b>g;++g)e+="  ";for(var h in a)d.push("\n"+e+"  "+f.propname(h)+": "+c(a[h],b+1));return"{"+d.join(",")+"\n"+e+"}"}var g;if(0==Object.keys(this.pluralFuncs).length)b||(b=e.defaultLocale),g={},g[b]=d(b,this.noPluralKeyChecks);else if(b){if(g={},g[b]=this.pluralFuncs[b],!g[b])throw new Error("Locale "+JSON.stringify(b)+"not found in "+JSON.stringify(this.pluralFuncs)+"!")}else g=this.pluralFuncs,b=Object.keys(g)[0];var h=new f(this),i=h.compile(a,b,g);if("object"!=typeof a){var j=new Function("number, plural, select, fmt",f.funcname(b),"return "+i),k=this.runtime;return j(k.number,k.plural,k.select,this.fmt,g[b])}var l=this.runtime.toString(g,h)+"\n",m=c(i),n=new Function(l+"return "+m)();if(n.hasOwnProperty("toString"))throw new Error("The top-level message key `toString` is reserved");return n.toString=function(a){switch(a||""){case"exports":var b=[];for(var d in i)b.push(f.propname(d,"exports")+" = "+c(i[d]));return l+b.join(";\n");case"module.exports":return l+"module.exports = "+m;case"export default":return l+"export default "+m;case"":return l+"return "+m;default:return a.indexOf(".")>-1?l+a+" = "+m:l+["(function (root, G) {",'  if (typeof define === "function" && define.amd) { define(G); }','  else if (typeof exports === "object") { module.exports = G; }',"  else { "+f.propname(a,"root")+" = G; }","})(this, "+m+");"].join("\n")}},n},b.exports=e},{"./compiler":39,"./runtime":41,"make-plural/pluralCategories":44,"make-plural/plurals":45}],41:[function(a,b,c){function d(a){this.mf=a,this.setStrictNumber(a.strictNumberSign)}function e(a,b,c){if(!c)return a;if(isNaN(a))throw new Error("Can't apply offset:"+c+" to argument `"+b+"` with non-numerical value "+JSON.stringify(a)+".");return a-c}function f(a,b,c){if(isNaN(a))throw new Error("Argument `"+b+"` has non-numerical value "+JSON.stringify(a)+".");return a-(c||0)}var g=a("./compiler");b.exports=d,d.prototype.setStrictNumber=function(a){this.number=a?f:e},d.prototype.plural=function(a,b,c,d,e){if({}.hasOwnProperty.call(d,a))return d[a];b&&(a-=b);var f=c(a,e);return f in d?d[f]:d.other},d.prototype.select=function(a,b){return{}.hasOwnProperty.call(b,a)?b[a]:b.other},d.prototype.toString=function(a,b){function c(a,b){if("object"!=typeof a){var d=a.toString().replace(/^(function )\w*/,"$1"),e=/([ \t]*)\S.*$/.exec(d);return e?d.replace(new RegExp("^"+e[1],"mg"),""):d}var f=[];for(var h in a)0==b?f.push("var "+h+" = "+c(a[h],b+1)+";\n"):f.push(g.propname(h)+": "+c(a[h],b+1));if(0==b)return f.join("");if(0==f.length)return"{}";for(var e="  ";--b;)e+="  ";return"{\n"+f.join(",\n").replace(/^/gm,e)+"\n}"}var d={};Object.keys(b.locales).forEach(function(b){d[g.funcname(b)]=a[b]}),Object.keys(b.runtime).forEach(function(a){d[a]=this[a]},this);var e=Object.keys(b.formatters),f=this.mf.fmt;return e.length&&(d.fmt=e.reduce(function(a,b){return a[b]=f[b],a},{})),c(d,0)}},{"./compiler":39}],42:[function(a,b,c){!function(a,c){"function"==typeof define&&define.amd?define([],function(){return c()}):"object"==typeof b&&b.exports?b.exports=c():c()}(this,function(){function a(){"use strict";function a(a,b,c){this.name=a,this.isActive=!0,this.tables={},this.priority=b||0,this.langPromises={},this.urlTemplate=c}function b(a){return Object.prototype.hasOwnProperty.call(g,a)}function c(a){return angular.isString(a)&&""!==a}function d(a){if(!c(a))throw new TypeError("Invalid type of a first argument, a non-empty string expected.");return b(a)&&g[a].isActive}function e(a,b){for(var c in b)b[c]&&b[c].constructor&&b[c].constructor===Object?(a[c]=a[c]||{},e(a[c],b[c])):a[c]=b[c];return a}function f(){var a=[];for(var b in g)g[b].isActive&&a.push(g[b]);return a.sort(function(a,b){return a.priority-b.priority}),a}a.prototype.parseUrl=function(a,b){return angular.isFunction(a)?a(this.name,b):a.replace(/\{part\}/g,this.name).replace(/\{lang\}/g,b)},a.prototype.getTable=function(a,b,c,d,e,f){var g=this,h=this.langPromises[a],i=b.defer(),j=function(){return c(angular.extend({method:"GET",url:g.parseUrl(g.urlTemplate||e,a)},d))},k=function(b){g.tables[a]=b,i.resolve(b)},l=function(){i.reject(g.name)},m=function(){j().then(function(a){k(a.data)},function(b){f?f(g.name,a,b).then(k,l):l()})};return this.tables[a]?i.resolve(this.tables[a]):(h?h.then(i.resolve,m):m(),this.langPromises[a]=i.promise),i.promise};var g={};this.addPart=function(d,e,f){if(!c(d))throw new TypeError("Couldn't add part, part name has to be a string!");return b(d)||(g[d]=new a(d,e,f)),g[d].isActive=!0,this},this.setPart=function(d,e,f){if(!c(d))throw new TypeError("Couldn't set part.`lang` parameter has to be a string!");if(!c(e))throw new TypeError("Couldn't set part.`part` parameter has to be a string!");if("object"!=typeof f||null===f)throw new TypeError("Couldn't set part. `table` parameter has to be an object!");return b(e)||(g[e]=new a(e),g[e].isActive=!1),g[e].tables[d]=f,this},this.deletePart=function(a){if(!c(a))throw new TypeError("Couldn't delete part, first arg has to be string.");return b(a)&&(g[a].isActive=!1),this},this.isPartAvailable=d,this.$get=["$rootScope","$injector","$q","$http","$log",function(h,i,j,k,l){var m=function(a){if(!c(a.key))throw new TypeError("Unable to load data, a key is not a non-empty string.");if(!c(a.urlTemplate)&&!angular.isFunction(a.urlTemplate))throw new TypeError("Unable to load data, a urlTemplate is not a non-empty string or not a function.");var b=a.loadFailureHandler;if(void 0!==b){if(!angular.isString(b))throw new Error("Unable to load data, a loadFailureHandler is not a string.");b=i.get(b)}var d=[],g=f();angular.forEach(g,function(c){d.push(c.getTable(a.key,j,k,a.$http,a.urlTemplate,b)),c.urlTemplate=c.urlTemplate||a.urlTemplate});var n=!1,o=h.$on("$translatePartialLoaderStructureChanged",function(){n=!0});return j.all(d).then(function(){if(o(),n){if(!a.__retries)return a.__retries=(a.__retries||0)+1,m(a);l.warn("The partial loader has detected a multiple structure change (with addPort/removePart) while loading translations. You should consider using promises of $translate.use(lang) and $translate.refresh(). Also parts should be added/removed right before an explicit refresh if possible.")}var b={};return g=f(),angular.forEach(g,function(c){e(b,c.tables[a.key])}),b},function(){return o(),j.reject(a.key)})};return m.addPart=function(d,e,f){if(!c(d))throw new TypeError("Couldn't add part, first arg has to be a string");return b(d)?g[d].isActive||(g[d].isActive=!0,h.$emit("$translatePartialLoaderStructureChanged",d)):(g[d]=new a(d,e,f),h.$emit("$translatePartialLoaderStructureChanged",d)),m},m.deletePart=function(a,d){if(!c(a))throw new TypeError("Couldn't delete part, first arg has to be string");if(void 0===d)d=!1;else if("boolean"!=typeof d)throw new TypeError("Invalid type of a second argument, a boolean expected.");if(b(a)){var e=g[a].isActive;if(d){var f=i.get("$translate"),j=f.loaderCache();"string"==typeof j&&(j=i.get(j)),"object"==typeof j&&angular.forEach(g[a].tables,function(b,c){j.remove(g[a].parseUrl(g[a].urlTemplate,c))}),delete g[a]}else g[a].isActive=!1;e&&h.$emit("$translatePartialLoaderStructureChanged",a)}return m},m.isPartLoaded=function(a,b){return angular.isDefined(g[a])&&angular.isDefined(g[a].tables[b])},m.getRegisteredParts=function(){var a=[];return angular.forEach(g,function(b){b.isActive&&a.push(b.name)}),a},m.isPartAvailable=d,m}]}return angular.module("pascalprecht.translate").provider("$translatePartialLoader",a),a.displayName="$translatePartialLoader","pascalprecht.translate"})},{}],43:[function(a,b,c){(function(c){"use strict";function d(a,b){if(a===b)return 0;for(var c=a.length,d=b.length,e=0,f=Math.min(c,d);f>e;++e)if(a[e]!==b[e]){c=a[e],d=b[e];break}return d>c?-1:c>d?1:0}function e(a){return c.Buffer&&"function"==typeof c.Buffer.isBuffer?c.Buffer.isBuffer(a):!(null==a||!a._isBuffer)}function f(a){return Object.prototype.toString.call(a)}function g(a){return e(a)?!1:"function"!=typeof c.ArrayBuffer?!1:"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(a):a?a instanceof DataView?!0:a.buffer&&a.buffer instanceof ArrayBuffer?!0:!1:!1}function h(a){if(u.isFunction(a)){if(x)return a.name;var b=a.toString(),c=b.match(z);return c&&c[1]}}function i(a,b){return"string"==typeof a?a.length<b?a:a.slice(0,b):a}function j(a){if(x||!u.isFunction(a))return u.inspect(a);var b=h(a),c=b?": "+b:"";return"[Function"+c+"]"}function k(a){return i(j(a.actual),128)+" "+a.operator+" "+i(j(a.expected),128)}function l(a,b,c,d,e){throw new y.AssertionError({message:c,actual:a,expected:b,operator:d,stackStartFunction:e})}function m(a,b){a||l(a,!0,b,"==",y.ok)}function n(a,b,c,h){if(a===b)return!0;if(e(a)&&e(b))return 0===d(a,b);if(u.isDate(a)&&u.isDate(b))return a.getTime()===b.getTime();if(u.isRegExp(a)&&u.isRegExp(b))return a.source===b.source&&a.global===b.global&&a.multiline===b.multiline&&a.lastIndex===b.lastIndex&&a.ignoreCase===b.ignoreCase;if(null!==a&&"object"==typeof a||null!==b&&"object"==typeof b){if(g(a)&&g(b)&&f(a)===f(b)&&!(a instanceof Float32Array||a instanceof Float64Array))return 0===d(new Uint8Array(a.buffer),new Uint8Array(b.buffer));if(e(a)!==e(b))return!1;h=h||{actual:[],expected:[]};var i=h.actual.indexOf(a);return-1!==i&&i===h.expected.indexOf(b)?!0:(h.actual.push(a),h.expected.push(b),p(a,b,c,h))}return c?a===b:a==b}function o(a){return"[object Arguments]"==Object.prototype.toString.call(a)}function p(a,b,c,d){if(null===a||void 0===a||null===b||void 0===b)return!1;if(u.isPrimitive(a)||u.isPrimitive(b))return a===b;if(c&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return!1;var e=o(a),f=o(b);if(e&&!f||!e&&f)return!1;if(e)return a=w.call(a),b=w.call(b),n(a,b,c);var g,h,i=A(a),j=A(b);if(i.length!==j.length)return!1;for(i.sort(),j.sort(),h=i.length-1;h>=0;h--)if(i[h]!==j[h])return!1;for(h=i.length-1;h>=0;h--)if(g=i[h],!n(a[g],b[g],c,d))return!1;return!0}function q(a,b,c){n(a,b,!0)&&l(a,b,c,"notDeepStrictEqual",q)}function r(a,b){if(!a||!b)return!1;if("[object RegExp]"==Object.prototype.toString.call(b))return b.test(a);try{if(a instanceof b)return!0}catch(c){}return Error.isPrototypeOf(b)?!1:b.call({},a)===!0}function s(a){var b;try{a()}catch(c){b=c}return b}function t(a,b,c,d){var e;if("function"!=typeof b)throw new TypeError('"block" argument must be a function');"string"==typeof c&&(d=c,c=null),e=s(b),d=(c&&c.name?" ("+c.name+").":".")+(d?" "+d:"."),a&&!e&&l(e,c,"Missing expected exception"+d);var f="string"==typeof d,g=!a&&u.isError(e),h=!a&&e&&!c;if((g&&f&&r(e,c)||h)&&l(e,c,"Got unwanted exception"+d),a&&e&&c&&!r(e,c)||!a&&e)throw e}var u=a("util/"),v=Object.prototype.hasOwnProperty,w=Array.prototype.slice,x=function(){return"foo"===function(){}.name}(),y=b.exports=m,z=/\s*function\s+([^\(\s]*)\s*/;y.AssertionError=function(a){this.name="AssertionError",this.actual=a.actual,this.expected=a.expected,this.operator=a.operator,a.message?(this.message=a.message,this.generatedMessage=!1):(this.message=k(this),this.generatedMessage=!0);var b=a.stackStartFunction||l;if(Error.captureStackTrace)Error.captureStackTrace(this,b);else{var c=new Error;if(c.stack){var d=c.stack,e=h(b),f=d.indexOf("\n"+e);if(f>=0){var g=d.indexOf("\n",f+1);d=d.substring(g+1)}this.stack=d}}},u.inherits(y.AssertionError,Error),y.fail=l,y.ok=m,y.equal=function(a,b,c){a!=b&&l(a,b,c,"==",y.equal)},y.notEqual=function(a,b,c){a==b&&l(a,b,c,"!=",y.notEqual)},y.deepEqual=function(a,b,c){n(a,b,!1)||l(a,b,c,"deepEqual",y.deepEqual)},y.deepStrictEqual=function(a,b,c){n(a,b,!0)||l(a,b,c,"deepStrictEqual",y.deepStrictEqual)},y.notDeepEqual=function(a,b,c){n(a,b,!1)&&l(a,b,c,"notDeepEqual",y.notDeepEqual)},y.notDeepStrictEqual=q,y.strictEqual=function(a,b,c){a!==b&&l(a,b,c,"===",y.strictEqual)},y.notStrictEqual=function(a,b,c){a===b&&l(a,b,c,"!==",y.notStrictEqual)},y["throws"]=function(a,b,c){t(!0,a,b,c)},y.doesNotThrow=function(a,b,c){t(!1,a,b,c)},y.ifError=function(a){if(a)throw a};var A=Object.keys||function(a){var b=[];for(var c in a)v.call(a,c)&&b.push(c);return b}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"util/":57}],44:[function(a,b,c){var d=[{cardinal:["other"],ordinal:["other"]},{cardinal:["one","other"],ordinal:["other"]},{cardinal:["one","other"],ordinal:["one","other"]},{cardinal:["one","two","other"],ordinal:["other"]}];!function(a,d){"function"==typeof define&&define.amd?define(d):"object"==typeof c?b.exports=d:a.pluralCategories=d}(this,{af:d[1],ak:d[1],am:d[1],ar:{cardinal:["zero","one","two","few","many","other"],ordinal:["other"]},as:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},asa:d[1],ast:d[1],az:{cardinal:["one","other"],ordinal:["one","few","many","other"]},be:{cardinal:["one","few","many","other"],ordinal:["few","other"]},bem:d[1],bez:d[1],bg:d[1],bh:d[1],bm:d[0],bn:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},bo:d[0],br:{cardinal:["one","two","few","many","other"],ordinal:["other"]},brx:d[1],bs:{cardinal:["one","few","other"],ordinal:["other"]},ca:{cardinal:["one","other"],ordinal:["one","two","few","other"]},ce:d[1],cgg:d[1],chr:d[1],ckb:d[1],cs:{cardinal:["one","few","many","other"],ordinal:["other"]},cy:{cardinal:["zero","one","two","few","many","other"],ordinal:["zero","one","two","few","many","other"]},da:d[1],de:d[1],dsb:{cardinal:["one","two","few","other"],ordinal:["other"]},dv:d[1],dz:d[0],ee:d[1],el:d[1],en:{cardinal:["one","other"],ordinal:["one","two","few","other"]},eo:d[1],es:d[1],et:d[1],eu:d[1],fa:d[1],ff:d[1],fi:d[1],fil:d[2],fo:d[1],fr:d[2],fur:d[1],fy:d[1],ga:{cardinal:["one","two","few","many","other"],ordinal:["one","other"]},gd:{cardinal:["one","two","few","other"],ordinal:["other"]},gl:d[1],gsw:d[1],gu:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},guw:d[1],gv:{cardinal:["one","two","few","many","other"],ordinal:["other"]},ha:d[1],haw:d[1],he:{cardinal:["one","two","many","other"],ordinal:["other"]},hi:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},hr:{cardinal:["one","few","other"],ordinal:["other"]},hsb:{cardinal:["one","two","few","other"],ordinal:["other"]},hu:d[2],hy:d[2],id:d[0],ig:d[0],ii:d[0],"in":d[0],is:d[1],it:{cardinal:["one","other"],ordinal:["many","other"]},iu:d[3],iw:{cardinal:["one","two","many","other"],ordinal:["other"]},ja:d[0],jbo:d[0],jgo:d[1],ji:d[1],jmc:d[1],jv:d[0],jw:d[0],ka:{cardinal:["one","other"],ordinal:["one","many","other"]},kab:d[1],kaj:d[1],kcg:d[1],kde:d[0],kea:d[0],kk:{cardinal:["one","other"],ordinal:["many","other"]},kkj:d[1],kl:d[1],km:d[0],kn:d[1],ko:d[0],ks:d[1],ksb:d[1],ksh:{cardinal:["zero","one","other"],ordinal:["other"]},ku:d[1],kw:d[3],ky:d[1],lag:{cardinal:["zero","one","other"],ordinal:["other"]},lb:d[1],lg:d[1],lkt:d[0],ln:d[1],lo:{cardinal:["other"],ordinal:["one","other"]},lt:{cardinal:["one","few","many","other"],ordinal:["other"]},lv:{cardinal:["zero","one","other"],ordinal:["other"]},mas:d[1],mg:d[1],mgo:d[1],mk:{cardinal:["one","other"],ordinal:["one","two","many","other"]},ml:d[1],mn:d[1],mo:{cardinal:["one","few","other"],ordinal:["one","other"]},mr:{cardinal:["one","other"],ordinal:["one","two","few","other"]},ms:{cardinal:["other"],ordinal:["one","other"]},mt:{cardinal:["one","few","many","other"],ordinal:["other"]},my:d[0],nah:d[1],naq:d[3],nb:d[1],nd:d[1],ne:d[2],nl:d[1],nn:d[1],nnh:d[1],no:d[1],nqo:d[0],nr:d[1],nso:d[1],ny:d[1],nyn:d[1],om:d[1],or:d[1],os:d[1],pa:d[1],pap:d[1],pl:{cardinal:["one","few","many","other"],ordinal:["other"]},prg:{cardinal:["zero","one","other"],ordinal:["other"]},ps:d[1],pt:d[1],"pt-PT":d[1],rm:d[1],ro:{cardinal:["one","few","other"],ordinal:["one","other"]},rof:d[1],root:d[0],ru:{cardinal:["one","few","many","other"],ordinal:["other"]},rwk:d[1],sah:d[0],saq:d[1],sdh:d[1],se:d[3],seh:d[1],ses:d[0],sg:d[0],sh:{cardinal:["one","few","other"],ordinal:["other"]},shi:{cardinal:["one","few","other"],ordinal:["other"]},si:d[1],sk:{cardinal:["one","few","many","other"],ordinal:["other"]},sl:{cardinal:["one","two","few","other"],ordinal:["other"]},sma:d[3],smi:d[3],smj:d[3],smn:d[3],sms:d[3],sn:d[1],so:d[1],sq:{cardinal:["one","other"],ordinal:["one","many","other"]},sr:{cardinal:["one","few","other"],ordinal:["other"]},ss:d[1],ssy:d[1],st:d[1],sv:d[2],sw:d[1],syr:d[1],ta:d[1],te:d[1],teo:d[1],th:d[0],ti:d[1],tig:d[1],tk:d[1],tl:d[2],tn:d[1],to:d[0],tr:d[1],ts:d[1],tzm:d[1],ug:d[1],uk:{cardinal:["one","few","many","other"],ordinal:["few","other"]},ur:d[1],uz:d[1],ve:d[1],vi:{cardinal:["other"],ordinal:["one","other"]},vo:d[1],vun:d[1],wa:d[1],wae:d[1],wo:d[0],xh:d[1],xog:d[1],yi:d[1],yo:d[0],zh:d[0],zu:d[1]})},{}],45:[function(a,b,c){var d=[function(a,b){return"other"},function(a,b){return b?"other":1==a?"one":"other"},function(a,b){return b?"other":0==a||1==a?"one":"other"},function(a,b){var c=String(a).split("."),d=!c[1];return b?"other":1==a&&d?"one":"other"}];!function(a,d){"function"==typeof define&&define.amd?define(d):"object"==typeof c?b.exports=d:a.plurals=d}(this,{af:d[1],ak:d[2],am:function(a,b){return b?"other":a>=0&&1>=a?"one":"other"},ar:function(a,b){var c=String(a).split("."),d=Number(c[0])==a,e=d&&c[0].slice(-2);return b?"other":0==a?"zero":1==a?"one":2==a?"two":e>=3&&10>=e?"few":e>=11&&99>=e?"many":"other"},as:function(a,b){return b?1==a||5==a||7==a||8==a||9==a||10==a?"one":2==a||3==a?"two":4==a?"few":6==a?"many":"other":a>=0&&1>=a?"one":"other"},asa:d[1],ast:d[3],az:function(a,b){var c=String(a).split("."),d=c[0],e=d.slice(-1),f=d.slice(-2),g=d.slice(-3);return b?1==e||2==e||5==e||7==e||8==e||20==f||50==f||70==f||80==f?"one":3==e||4==e||100==g||200==g||300==g||400==g||500==g||600==g||700==g||800==g||900==g?"few":0==d||6==e||40==f||60==f||90==f?"many":"other":1==a?"one":"other"},be:function(a,b){var c=String(a).split("."),d=Number(c[0])==a,e=d&&c[0].slice(-1),f=d&&c[0].slice(-2);return b?2!=e&&3!=e||12==f||13==f?"other":"few":1==e&&11!=f?"one":e>=2&&4>=e&&(12>f||f>14)?"few":d&&0==e||e>=5&&9>=e||f>=11&&14>=f?"many":"other"},bem:d[1],bez:d[1],bg:d[1],bh:d[2],bm:d[0],bn:function(a,b){return b?1==a||5==a||7==a||8==a||9==a||10==a?"one":2==a||3==a?"two":4==a?"few":6==a?"many":"other":a>=0&&1>=a?"one":"other"},bo:d[0],br:function(a,b){var c=String(a).split("."),d=Number(c[0])==a,e=d&&c[0].slice(-1),f=d&&c[0].slice(-2),g=d&&c[0].slice(-6);return b?"other":1==e&&11!=f&&71!=f&&91!=f?"one":2==e&&12!=f&&72!=f&&92!=f?"two":(3==e||4==e||9==e)&&(10>f||f>19)&&(70>f||f>79)&&(90>f||f>99)?"few":0!=a&&d&&0==g?"many":"other"},brx:d[1],bs:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-1),h=d.slice(-2),i=e.slice(-1),j=e.slice(-2);return b?"other":f&&1==g&&11!=h||1==i&&11!=j?"one":f&&g>=2&&4>=g&&(12>h||h>14)||i>=2&&4>=i&&(12>j||j>14)?"few":"other"},ca:function(a,b){var c=String(a).split("."),d=!c[1];return b?1==a||3==a?"one":2==a?"two":4==a?"few":"other":1==a&&d?"one":"other"},ce:d[1],cgg:d[1],chr:d[1],ckb:d[1],cs:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1];return b?"other":1==a&&e?"one":d>=2&&4>=d&&e?"few":e?"other":"many"},cy:function(a,b){return b?0==a||7==a||8==a||9==a?"zero":1==a?"one":2==a?"two":3==a||4==a?"few":5==a||6==a?"many":"other":0==a?"zero":1==a?"one":2==a?"two":3==a?"few":6==a?"many":"other"},da:function(a,b){var c=String(a).split("."),d=c[0],e=Number(c[0])==a;return b?"other":1!=a&&(e||0!=d&&1!=d)?"other":"one"},de:d[3],dsb:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-2),h=e.slice(-2);return b?"other":f&&1==g||1==h?"one":f&&2==g||2==h?"two":f&&(3==g||4==g)||3==h||4==h?"few":"other"},dv:d[1],dz:d[0],ee:d[1],el:d[1],en:function(a,b){var c=String(a).split("."),d=!c[1],e=Number(c[0])==a,f=e&&c[0].slice(-1),g=e&&c[0].slice(-2);return b?1==f&&11!=g?"one":2==f&&12!=g?"two":3==f&&13!=g?"few":"other":1==a&&d?"one":"other"},eo:d[1],es:d[1],et:d[3],eu:d[1],fa:function(a,b){return b?"other":a>=0&&1>=a?"one":"other"},ff:function(a,b){return b?"other":a>=0&&2>a?"one":"other"},fi:d[3],fil:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-1),h=e.slice(-1);return b?1==a?"one":"other":f&&(1==d||2==d||3==d)||f&&4!=g&&6!=g&&9!=g||!f&&4!=h&&6!=h&&9!=h?"one":"other"},fo:d[1],fr:function(a,b){return b?1==a?"one":"other":a>=0&&2>a?"one":"other"},fur:d[1],fy:d[3],ga:function(a,b){var c=String(a).split("."),d=Number(c[0])==a;return b?1==a?"one":"other":1==a?"one":2==a?"two":d&&a>=3&&6>=a?"few":d&&a>=7&&10>=a?"many":"other";
},gd:function(a,b){var c=String(a).split("."),d=Number(c[0])==a;return b?"other":1==a||11==a?"one":2==a||12==a?"two":d&&a>=3&&10>=a||d&&a>=13&&19>=a?"few":"other"},gl:d[3],gsw:d[1],gu:function(a,b){return b?1==a?"one":2==a||3==a?"two":4==a?"few":6==a?"many":"other":a>=0&&1>=a?"one":"other"},guw:d[2],gv:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1],f=d.slice(-1),g=d.slice(-2);return b?"other":e&&1==f?"one":e&&2==f?"two":!e||0!=g&&20!=g&&40!=g&&60!=g&&80!=g?e?"other":"many":"few"},ha:d[1],haw:d[1],he:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1],f=Number(c[0])==a,g=f&&c[0].slice(-1);return b?"other":1==a&&e?"one":2==d&&e?"two":e&&(0>a||a>10)&&f&&0==g?"many":"other"},hi:function(a,b){return b?1==a?"one":2==a||3==a?"two":4==a?"few":6==a?"many":"other":a>=0&&1>=a?"one":"other"},hr:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-1),h=d.slice(-2),i=e.slice(-1),j=e.slice(-2);return b?"other":f&&1==g&&11!=h||1==i&&11!=j?"one":f&&g>=2&&4>=g&&(12>h||h>14)||i>=2&&4>=i&&(12>j||j>14)?"few":"other"},hsb:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-2),h=e.slice(-2);return b?"other":f&&1==g||1==h?"one":f&&2==g||2==h?"two":f&&(3==g||4==g)||3==h||4==h?"few":"other"},hu:function(a,b){return b?1==a||5==a?"one":"other":1==a?"one":"other"},hy:function(a,b){return b?1==a?"one":"other":a>=0&&2>a?"one":"other"},id:d[0],ig:d[0],ii:d[0],"in":d[0],is:function(a,b){var c=String(a).split("."),d=c[0],e=Number(c[0])==a,f=d.slice(-1),g=d.slice(-2);return b?"other":e&&1==f&&11!=g||!e?"one":"other"},it:function(a,b){var c=String(a).split("."),d=!c[1];return b?11==a||8==a||80==a||800==a?"many":"other":1==a&&d?"one":"other"},iu:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},iw:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1],f=Number(c[0])==a,g=f&&c[0].slice(-1);return b?"other":1==a&&e?"one":2==d&&e?"two":e&&(0>a||a>10)&&f&&0==g?"many":"other"},ja:d[0],jbo:d[0],jgo:d[1],ji:d[3],jmc:d[1],jv:d[0],jw:d[0],ka:function(a,b){var c=String(a).split("."),d=c[0],e=d.slice(-2);return b?1==d?"one":0==d||e>=2&&20>=e||40==e||60==e||80==e?"many":"other":1==a?"one":"other"},kab:function(a,b){return b?"other":a>=0&&2>a?"one":"other"},kaj:d[1],kcg:d[1],kde:d[0],kea:d[0],kk:function(a,b){var c=String(a).split("."),d=Number(c[0])==a,e=d&&c[0].slice(-1);return b?6==e||9==e||d&&0==e&&0!=a?"many":"other":1==a?"one":"other"},kkj:d[1],kl:d[1],km:d[0],kn:function(a,b){return b?"other":a>=0&&1>=a?"one":"other"},ko:d[0],ks:d[1],ksb:d[1],ksh:function(a,b){return b?"other":0==a?"zero":1==a?"one":"other"},ku:d[1],kw:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},ky:d[1],lag:function(a,b){var c=String(a).split("."),d=c[0];return b?"other":0==a?"zero":0!=d&&1!=d||0==a?"other":"one"},lb:d[1],lg:d[1],lkt:d[0],ln:d[2],lo:function(a,b){return b&&1==a?"one":"other"},lt:function(a,b){var c=String(a).split("."),d=c[1]||"",e=Number(c[0])==a,f=e&&c[0].slice(-1),g=e&&c[0].slice(-2);return b?"other":1==f&&(11>g||g>19)?"one":f>=2&&9>=f&&(11>g||g>19)?"few":0!=d?"many":"other"},lv:function(a,b){var c=String(a).split("."),d=c[1]||"",e=d.length,f=Number(c[0])==a,g=f&&c[0].slice(-1),h=f&&c[0].slice(-2),i=d.slice(-2),j=d.slice(-1);return b?"other":f&&0==g||h>=11&&19>=h||2==e&&i>=11&&19>=i?"zero":1==g&&11!=h||2==e&&1==j&&11!=i||2!=e&&1==j?"one":"other"},mas:d[1],mg:d[2],mgo:d[1],mk:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-1),h=d.slice(-2),i=e.slice(-1);return b?1==g&&11!=h?"one":2==g&&12!=h?"two":7!=g&&8!=g||17==h||18==h?"other":"many":f&&1==g||1==i?"one":"other"},ml:d[1],mn:d[1],mo:function(a,b){var c=String(a).split("."),d=!c[1],e=Number(c[0])==a,f=e&&c[0].slice(-2);return b?1==a?"one":"other":1==a&&d?"one":!d||0==a||1!=a&&f>=1&&19>=f?"few":"other"},mr:function(a,b){return b?1==a?"one":2==a||3==a?"two":4==a?"few":"other":a>=0&&1>=a?"one":"other"},ms:function(a,b){return b&&1==a?"one":"other"},mt:function(a,b){var c=String(a).split("."),d=Number(c[0])==a,e=d&&c[0].slice(-2);return b?"other":1==a?"one":0==a||e>=2&&10>=e?"few":e>=11&&19>=e?"many":"other"},my:d[0],nah:d[1],naq:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},nb:d[1],nd:d[1],ne:function(a,b){var c=String(a).split("."),d=Number(c[0])==a;return b?d&&a>=1&&4>=a?"one":"other":1==a?"one":"other"},nl:d[3],nn:d[1],nnh:d[1],no:d[1],nqo:d[0],nr:d[1],nso:d[2],ny:d[1],nyn:d[1],om:d[1],or:d[1],os:d[1],pa:d[2],pap:d[1],pl:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1],f=d.slice(-1),g=d.slice(-2);return b?"other":1==a&&e?"one":e&&f>=2&&4>=f&&(12>g||g>14)?"few":e&&1!=d&&(0==f||1==f)||e&&f>=5&&9>=f||e&&g>=12&&14>=g?"many":"other"},prg:function(a,b){var c=String(a).split("."),d=c[1]||"",e=d.length,f=Number(c[0])==a,g=f&&c[0].slice(-1),h=f&&c[0].slice(-2),i=d.slice(-2),j=d.slice(-1);return b?"other":f&&0==g||h>=11&&19>=h||2==e&&i>=11&&19>=i?"zero":1==g&&11!=h||2==e&&1==j&&11!=i||2!=e&&1==j?"one":"other"},ps:d[1],pt:function(a,b){var c=String(a).split("."),d=Number(c[0])==a;return b?"other":d&&a>=0&&2>=a&&2!=a?"one":"other"},"pt-PT":d[3],rm:d[1],ro:function(a,b){var c=String(a).split("."),d=!c[1],e=Number(c[0])==a,f=e&&c[0].slice(-2);return b?1==a?"one":"other":1==a&&d?"one":!d||0==a||1!=a&&f>=1&&19>=f?"few":"other"},rof:d[1],root:d[0],ru:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1],f=d.slice(-1),g=d.slice(-2);return b?"other":e&&1==f&&11!=g?"one":e&&f>=2&&4>=f&&(12>g||g>14)?"few":e&&0==f||e&&f>=5&&9>=f||e&&g>=11&&14>=g?"many":"other"},rwk:d[1],sah:d[0],saq:d[1],sdh:d[1],se:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},seh:d[1],ses:d[0],sg:d[0],sh:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-1),h=d.slice(-2),i=e.slice(-1),j=e.slice(-2);return b?"other":f&&1==g&&11!=h||1==i&&11!=j?"one":f&&g>=2&&4>=g&&(12>h||h>14)||i>=2&&4>=i&&(12>j||j>14)?"few":"other"},shi:function(a,b){var c=String(a).split("."),d=Number(c[0])==a;return b?"other":a>=0&&1>=a?"one":d&&a>=2&&10>=a?"few":"other"},si:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"";return b?"other":0==a||1==a||0==d&&1==e?"one":"other"},sk:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1];return b?"other":1==a&&e?"one":d>=2&&4>=d&&e?"few":e?"other":"many"},sl:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1],f=d.slice(-2);return b?"other":e&&1==f?"one":e&&2==f?"two":e&&(3==f||4==f)||!e?"few":"other"},sma:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},smi:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},smj:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},smn:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},sms:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},sn:d[1],so:d[1],sq:function(a,b){var c=String(a).split("."),d=Number(c[0])==a,e=d&&c[0].slice(-1),f=d&&c[0].slice(-2);return b?1==a?"one":4==e&&14!=f?"many":"other":1==a?"one":"other"},sr:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-1),h=d.slice(-2),i=e.slice(-1),j=e.slice(-2);return b?"other":f&&1==g&&11!=h||1==i&&11!=j?"one":f&&g>=2&&4>=g&&(12>h||h>14)||i>=2&&4>=i&&(12>j||j>14)?"few":"other"},ss:d[1],ssy:d[1],st:d[1],sv:function(a,b){var c=String(a).split("."),d=!c[1],e=Number(c[0])==a,f=e&&c[0].slice(-1),g=e&&c[0].slice(-2);return b?1!=f&&2!=f||11==g||12==g?"other":"one":1==a&&d?"one":"other"},sw:d[3],syr:d[1],ta:d[1],te:d[1],teo:d[1],th:d[0],ti:d[2],tig:d[1],tk:d[1],tl:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-1),h=e.slice(-1);return b?1==a?"one":"other":f&&(1==d||2==d||3==d)||f&&4!=g&&6!=g&&9!=g||!f&&4!=h&&6!=h&&9!=h?"one":"other"},tn:d[1],to:d[0],tr:d[1],ts:d[1],tzm:function(a,b){var c=String(a).split("."),d=Number(c[0])==a;return b?"other":0==a||1==a||d&&a>=11&&99>=a?"one":"other"},ug:d[1],uk:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1],f=Number(c[0])==a,g=f&&c[0].slice(-1),h=f&&c[0].slice(-2),i=d.slice(-1),j=d.slice(-2);return b?3==g&&13!=h?"few":"other":e&&1==i&&11!=j?"one":e&&i>=2&&4>=i&&(12>j||j>14)?"few":e&&0==i||e&&i>=5&&9>=i||e&&j>=11&&14>=j?"many":"other"},ur:d[3],uz:d[1],ve:d[1],vi:function(a,b){return b&&1==a?"one":"other"},vo:d[1],vun:d[1],wa:d[2],wae:d[1],wo:d[0],xh:d[1],xog:d[1],yi:d[3],yo:d[0],zh:d[0],zu:function(a,b){return b?"other":a>=0&&1>=a?"one":"other"}})},{}],46:[function(a,b,c){"use strict";function d(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}function e(a,b,c,d){this.message=a,this.expected=b,this.found=c,this.location=d,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}function f(a,b){function c(a,b){return{type:"literal",text:a,ignoreCase:b}}function d(a,b,c){return{type:"class",parts:a,inverted:b,ignoreCase:c}}function f(){return{type:"end"}}function g(a){return{type:"other",description:a}}function h(b){var c,d=nb[b];if(d)return d;for(c=b-1;!nb[c];)c--;for(d=nb[c],d={line:d.line,column:d.column};b>c;)10===a.charCodeAt(c)?(d.line++,d.column=1):d.column++,c++;return nb[b]=d,d}function i(a,b){var c=h(a),d=h(b);return{start:{offset:a,line:c.line,column:c.column},end:{offset:b,line:d.line,column:d.column}}}function j(a){ob>lb||(lb>ob&&(ob=lb,pb=[]),pb.push(a))}function k(a,b,c){return new e(e.buildMessage(a,b),a,b,c)}function l(){var a,b;for(a=[],b=m();b!==O;)a.push(b),b=m();return a}function m(){var b,c,d;if(b=n(),b===O&&(b=o(),b===O&&(b=p(),b===O&&(b=q(),b===O&&(b=lb,35===a.charCodeAt(lb)?(c=R,lb++):(c=O,0===qb&&j(S)),c!==O&&(mb=b,c=T()),b=c,b===O))))){if(b=lb,c=[],d=G(),d!==O)for(;d!==O;)c.push(d),d=G();else c=O;c!==O&&(mb=b,c=U(c)),b=c}return b}function n(){var b,c,d,e,f,g;return b=lb,123===a.charCodeAt(lb)?(c=V,lb++):(c=O,0===qb&&j(W)),c!==O?(d=M(),d!==O?(e=r(),e!==O?(f=M(),f!==O?(125===a.charCodeAt(lb)?(g=X,lb++):(g=O,0===qb&&j(Y)),g!==O?(mb=b,c=Z(e),b=c):(lb=b,b=O)):(lb=b,b=O)):(lb=b,b=O)):(lb=b,b=O)):(lb=b,b=O),b}function o(){var b,c,d,e,f,g,h,i,k,l,m,n,o,p;if(b=lb,123===a.charCodeAt(lb)?(c=V,lb++):(c=O,0===qb&&j(W)),c!==O)if(d=M(),d!==O)if(e=r(),e!==O)if(f=M(),f!==O)if(44===a.charCodeAt(lb)?(g=$,lb++):(g=O,0===qb&&j(_)),g!==O)if(h=M(),h!==O)if(a.substr(lb,6)===aa?(i=aa,lb+=6):(i=O,0===qb&&j(ba)),i!==O)if(k=M(),k!==O)if(44===a.charCodeAt(lb)?(l=$,lb++):(l=O,0===qb&&j(_)),l!==O)if(m=M(),m!==O){if(n=[],o=u(),o!==O)for(;o!==O;)n.push(o),o=u();else n=O;n!==O?(o=M(),o!==O?(125===a.charCodeAt(lb)?(p=X,lb++):(p=O,0===qb&&j(Y)),p!==O?(mb=b,c=ca(e,n),b=c):(lb=b,b=O)):(lb=b,b=O)):(lb=b,b=O)}else lb=b,b=O;else lb=b,b=O;else lb=b,b=O;else lb=b,b=O;else lb=b,b=O;else lb=b,b=O;else lb=b,b=O;else lb=b,b=O;else lb=b,b=O;else lb=b,b=O;return b}function p(){var b,c,d,e,f,g,h,i,k,l,m,n,o,p,q;if(b=lb,123===a.charCodeAt(lb)?(c=V,lb++):(c=O,0===qb&&j(W)),c!==O)if(d=M(),d!==O)if(e=r(),e!==O)if(f=M(),f!==O)if(44===a.charCodeAt(lb)?(g=$,lb++):(g=O,0===qb&&j(_)),g!==O)if(h=M(),h!==O)if(a.substr(lb,6)===da?(i=da,lb+=6):(i=O,0===qb&&j(ea)),i===O&&(a.substr(lb,13)===fa?(i=fa,lb+=13):(i=O,0===qb&&j(ga))),i!==O)if(k=M(),k!==O)if(44===a.charCodeAt(lb)?(l=$,lb++):(l=O,0===qb&&j(_)),l!==O)if(m=M(),m!==O)if(n=x(),n===O&&(n=null),n!==O){if(o=[],p=v(),p!==O)for(;p!==O;)o.push(p),p=v();else o=O;o!==O?(p=M(),p!==O?(125===a.charCodeAt(lb)?(q=X,lb++):(q=O,0===qb&&j(Y)),q!==O?(mb=b,c=ha(e,i,n,o),b=c):(lb=b,b=O)):(lb=b,b=O)):(lb=b,b=O)}else lb=b,b=O;else lb=b,b=O;else lb=b,b=O;else lb=b,b=O;else lb=b,b=O;else lb=b,b=O;else lb=b,b=O;else lb=b,b=O;else lb=b,b=O;else lb=b,b=O;else lb=b,b=O;return b}function q(){var b,c,d,e,f,g,h,i,k,l,m;return b=lb,123===a.charCodeAt(lb)?(c=V,lb++):(c=O,0===qb&&j(W)),c!==O?(d=M(),d!==O?(e=r(),e!==O?(f=M(),f!==O?(44===a.charCodeAt(lb)?(g=$,lb++):(g=O,0===qb&&j(_)),g!==O?(h=M(),h!==O?(i=r(),i!==O?(k=M(),k!==O?(l=z(),l!==O?(125===a.charCodeAt(lb)?(m=X,lb++):(m=O,0===qb&&j(Y)),m!==O?(mb=b,c=ia(e,i,l),b=c):(lb=b,b=O)):(lb=b,b=O)):(lb=b,b=O)):(lb=b,b=O)):(lb=b,b=O)):(lb=b,b=O)):(lb=b,b=O)):(lb=b,b=O)):(lb=b,b=O)):(lb=b,b=O),b}function r(){var b,c,d,e,f;if(b=lb,c=lb,ja.test(a.charAt(lb))?(d=a.charAt(lb),lb++):(d=O,0===qb&&j(ka)),d!==O){for(e=[],la.test(a.charAt(lb))?(f=a.charAt(lb),lb++):(f=O,0===qb&&j(ma));f!==O;)e.push(f),la.test(a.charAt(lb))?(f=a.charAt(lb),lb++):(f=O,0===qb&&j(ma));e!==O?(d=[d,e],c=d):(lb=c,c=O)}else lb=c,c=O;return b=c!==O?a.substring(b,lb):c}function s(){var a,b,c;if(a=lb,b=[],c=I(),c!==O)for(;c!==O;)b.push(c),c=I();else b=O;return b!==O&&(mb=a,b=U(b)),a=b}function t(){var a,b,c;if(a=lb,b=[],c=J(),c!==O)for(;c!==O;)b.push(c),c=J();else b=O;return b!==O&&(mb=a,b=U(b)),a=b}function u(){var a,b,c,d,e;return a=lb,b=M(),b!==O?(c=r(),c!==O?(d=M(),d!==O?(e=w(),e!==O?(mb=a,b=na(c,e),a=b):(lb=a,a=O)):(lb=a,a=O)):(lb=a,a=O)):(lb=a,a=O),a}function v(){var a,b,c,d,e;return a=lb,b=M(),b!==O?(c=y(),c!==O?(d=M(),d!==O?(e=w(),e!==O?(mb=a,b=na(c,e),a=b):(lb=a,a=O)):(lb=a,a=O)):(lb=a,a=O)):(lb=a,a=O),a}function w(){var b,c,d,e,f,g;if(b=lb,123===a.charCodeAt(lb)?(c=V,lb++):(c=O,0===qb&&j(W)),c!==O)if(d=lb,e=M(),e!==O?(f=lb,qb++,123===a.charCodeAt(lb)?(g=V,lb++):(g=O,0===qb&&j(W)),qb--,g!==O?(lb=f,f=void 0):f=O,f!==O?(e=[e,f],d=e):(lb=d,d=O)):(lb=d,d=O),d===O&&(d=null),d!==O){for(e=[],f=m();f!==O;)e.push(f),f=m();e!==O?(f=M(),f!==O?(125===a.charCodeAt(lb)?(g=X,lb++):(g=O,0===qb&&j(Y)),g!==O?(mb=b,c=oa(e),b=c):(lb=b,b=O)):(lb=b,b=O)):(lb=b,b=O)}else lb=b,b=O;else lb=b,b=O;return b}function x(){var b,c,d,e,f,g,h,i;return b=lb,c=M(),c!==O?(a.substr(lb,6)===pa?(d=pa,lb+=6):(d=O,0===qb&&j(qa)),d!==O?(e=M(),e!==O?(58===a.charCodeAt(lb)?(f=ra,lb++):(f=O,0===qb&&j(sa)),f!==O?(g=M(),g!==O?(h=K(),h!==O?(i=M(),i!==O?(mb=b,c=ta(h),b=c):(lb=b,b=O)):(lb=b,b=O)):(lb=b,b=O)):(lb=b,b=O)):(lb=b,b=O)):(lb=b,b=O)):(lb=b,b=O),b}function y(){var b,c,d;return b=r(),b===O&&(b=lb,61===a.charCodeAt(lb)?(c=ua,lb++):(c=O,0===qb&&j(va)),c!==O?(d=K(),d!==O?(mb=b,c=ta(d),b=c):(lb=b,b=O)):(lb=b,b=O)),b}function z(){var a,b,c;for(a=lb,b=[],c=B();c!==O;)b.push(c),c=B();if(b!==O?(mb=lb,c=wa(b),c=c?O:void 0,c!==O?(mb=a,b=xa(b),a=b):(lb=a,a=O)):(lb=a,a=O),a===O){for(a=lb,b=[],c=A();c!==O;)b.push(c),c=A();b!==O?(mb=lb,c=wa(b),c=c?void 0:O,c!==O?(mb=a,b=xa(b),a=b):(lb=a,a=O)):(lb=a,a=O)}return a}function A(){var b,c,d,e;return b=lb,c=M(),c!==O?(44===a.charCodeAt(lb)?(d=$,lb++):(d=O,0===qb&&j(_)),d!==O?(e=t(),e!==O?(mb=b,c=xa(e),b=c):(lb=b,b=O)):(lb=b,b=O)):(lb=b,b=O),b}function B(){var b,c,d,e,f,g;return b=lb,c=M(),c!==O?(44===a.charCodeAt(lb)?(d=$,lb++):(d=O,0===qb&&j(_)),d!==O?(e=M(),e!==O?(f=s(),f!==O?(g=M(),g!==O?(mb=b,c=ya(f),b=c):(lb=b,b=O)):(lb=b,b=O)):(lb=b,b=O)):(lb=b,b=O)):(lb=b,b=O),b}function C(){var b,c;return b=lb,a.substr(lb,2)===za?(c=za,lb+=2):(c=O,0===qb&&j(Aa)),c!==O&&(mb=b,c=Ba()),b=c}function D(){var b,c,d;if(b=C(),b===O){if(b=lb,c=[],Ca.test(a.charAt(lb))?(d=a.charAt(lb),lb++):(d=O,0===qb&&j(Da)),d!==O)for(;d!==O;)c.push(d),Ca.test(a.charAt(lb))?(d=a.charAt(lb),lb++):(d=O,0===qb&&j(Da));else c=O;c!==O&&(mb=b,c=U(c)),b=c}return b}function E(){var b,c,d,e;if(b=lb,a.substr(lb,2)===Ea?(c=Ea,lb+=2):(c=O,0===qb&&j(Fa)),c!==O){for(d=[],e=D();e!==O;)d.push(e),e=D();d!==O?(39===a.charCodeAt(lb)?(e=Ga,lb++):(e=O,0===qb&&j(Ha)),e!==O?(mb=b,c=Ia(d),b=c):(lb=b,b=O)):(lb=b,b=O)}else lb=b,b=O;if(b===O)if(b=lb,a.substr(lb,2)===Ja?(c=Ja,lb+=2):(c=O,0===qb&&j(Ka)),c!==O){for(d=[],e=D();e!==O;)d.push(e),e=D();d!==O?(39===a.charCodeAt(lb)?(e=Ga,lb++):(e=O,0===qb&&j(Ha)),e!==O?(mb=b,c=La(d),b=c):(lb=b,b=O)):(lb=b,b=O)}else lb=b,b=O;return b}function F(){var b;return b=E(),b===O&&(39===a.charCodeAt(lb)?(b=Ga,lb++):(b=O,0===qb&&j(Ha))),b}function G(){var b,c,d,e,f,g;return Ma.test(a.charAt(lb))?(b=a.charAt(lb),lb++):(b=O,0===qb&&j(Na)),b===O&&(b=lb,a.substr(lb,2)===Oa?(c=Oa,lb+=2):(c=O,0===qb&&j(Pa)),c!==O&&(mb=b,c=Qa()),b=c,b===O&&(b=lb,a.substr(lb,2)===Ra?(c=Ra,lb+=2):(c=O,0===qb&&j(Sa)),c!==O&&(mb=b,c=Ta()),b=c,b===O&&(b=lb,a.substr(lb,2)===Ua?(c=Ua,lb+=2):(c=O,0===qb&&j(Va)),c!==O&&(mb=b,c=Wa()),b=c,b===O&&(b=lb,a.substr(lb,2)===Xa?(c=Xa,lb+=2):(c=O,0===qb&&j(Ya)),c!==O&&(mb=b,c=Za()),b=c,b===O&&(b=lb,a.substr(lb,2)===$a?(c=$a,lb+=2):(c=O,0===qb&&j(_a)),c!==O?(d=L(),d!==O?(e=L(),e!==O?(f=L(),f!==O?(g=L(),g!==O?(mb=b,c=ab(d,e,f,g),b=c):(lb=b,b=O)):(lb=b,b=O)):(lb=b,b=O)):(lb=b,b=O)):(lb=b,b=O)))))),b}function H(){var a;return a=C(),a===O&&(a=F()),a}function I(){var b,c,d;if(b=H(),b===O){if(b=lb,c=[],bb.test(a.charAt(lb))?(d=a.charAt(lb),lb++):(d=O,0===qb&&j(cb)),d!==O)for(;d!==O;)c.push(d),bb.test(a.charAt(lb))?(d=a.charAt(lb),lb++):(d=O,0===qb&&j(cb));else c=O;c!==O&&(mb=b,c=U(c)),b=c}return b}function J(){var b,c,d;if(b=H(),b===O){if(b=lb,c=[],db.test(a.charAt(lb))?(d=a.charAt(lb),lb++):(d=O,0===qb&&j(eb)),d!==O)for(;d!==O;)c.push(d),db.test(a.charAt(lb))?(d=a.charAt(lb),lb++):(d=O,0===qb&&j(eb));else c=O;c!==O&&(mb=b,c=U(c)),b=c}return b}function K(){var b,c,d;if(b=lb,c=[],fb.test(a.charAt(lb))?(d=a.charAt(lb),lb++):(d=O,0===qb&&j(gb)),d!==O)for(;d!==O;)c.push(d),fb.test(a.charAt(lb))?(d=a.charAt(lb),lb++):(d=O,0===qb&&j(gb));else c=O;return b=c!==O?a.substring(b,lb):c}function L(){var b;return hb.test(a.charAt(lb))?(b=a.charAt(lb),lb++):(b=O,0===qb&&j(ib)),b}function M(){var b,c,d;for(b=lb,c=[],jb.test(a.charAt(lb))?(d=a.charAt(lb),lb++):(d=O,0===qb&&j(kb));d!==O;)c.push(d),jb.test(a.charAt(lb))?(d=a.charAt(lb),lb++):(d=O,0===qb&&j(kb));return b=c!==O?a.substring(b,lb):c}b=void 0!==b?b:{};var N,O={},P={start:l},Q=l,R="#",S=c("#",!1),T=function(){return{type:"octothorpe"}},U=function(a){return a.join("")},V="{",W=c("{",!1),X="}",Y=c("}",!1),Z=function(a){return{type:"argument",arg:a}},$=",",_=c(",",!1),aa="select",ba=c("select",!1),ca=function(a,b){return{type:"select",arg:a,cases:b}},da="plural",ea=c("plural",!1),fa="selectordinal",ga=c("selectordinal",!1),ha=function(a,c,d,e){var f=("selectordinal"===c?b.ordinal:b.cardinal)||["zero","one","two","few","many","other"];return f&&f.length&&e.forEach(function(b){if(isNaN(b.key)&&f.indexOf(b.key)<0)throw new Error("Invalid key `"+b.key+"` for argument `"+a+"`. Valid "+c+" keys for this locale are `"+f.join("`, `")+"`, and explicit keys like `=0`.")}),{type:c,arg:a,offset:d||0,cases:e}},ia=function(a,b,c){return{type:"function",arg:a,key:b,params:c}},ja=/^[0-9a-zA-Z$_]/,ka=d([["0","9"],["a","z"],["A","Z"],"$","_"],!1,!1),la=/^[^ \t\n\r,.+={}]/,ma=d([" ","	","\n","\r",",",".","+","=","{","}"],!0,!1),na=function(a,b){return{key:a,tokens:b}},oa=function(a){return a},pa="offset",qa=c("offset",!1),ra=":",sa=c(":",!1),ta=function(a){return a},ua="=",va=c("=",!1),wa=function(a){return b.strictFunctionParams},xa=function(a){return a},ya=function(a){return a.replace(/^[ \t\n\r]*|[ \t\n\r]*$/g,"")},za="''",Aa=c("''",!1),Ba=function(){return"'"},Ca=/^[^']/,Da=d(["'"],!0,!1),Ea="'{",Fa=c("'{",!1),Ga="'",Ha=c("'",!1),Ia=function(a){return"{"+a.join("")},Ja="'}",Ka=c("'}",!1),La=function(a){return"}"+a.join("")},Ma=/^[^{}#\\\0-\x08\x0E-\x1F\x7F]/,Na=d(["{","}","#","\\",["\x00","\b"],["",""],""],!0,!1),Oa="\\\\",Pa=c("\\\\",!1),Qa=function(){return"\\"},Ra="\\#",Sa=c("\\#",!1),Ta=function(){return"#"},Ua="\\{",Va=c("\\{",!1),Wa=function(){return"{"},Xa="\\}",Ya=c("\\}",!1),Za=function(){return"}"},$a="\\u",_a=c("\\u",!1),ab=function(a,b,c,d){return String.fromCharCode(parseInt("0x"+a+b+c+d))},bb=/^[^',}]/,cb=d(["'",",","}"],!0,!1),db=/^[^'}]/,eb=d(["'","}"],!0,!1),fb=/^[0-9]/,gb=d([["0","9"]],!1,!1),hb=/^[0-9a-fA-F]/,ib=d([["0","9"],["a","f"],["A","F"]],!1,!1),jb=/^[ \t\n\r]/,kb=d([" ","	","\n","\r"],!1,!1),lb=0,mb=0,nb=[{line:1,column:1}],ob=0,pb=[],qb=0;if("startRule"in b){if(!(b.startRule in P))throw new Error("Can't start parsing from rule \""+b.startRule+'".');Q=P[b.startRule]}if(N=Q(),N!==O&&lb===a.length)return N;throw N!==O&&lb<a.length&&j(f()),k(pb,ob<a.length?a.charAt(ob):null,ob<a.length?i(ob,ob+1):i(ob,ob))}d(e,Error),e.buildMessage=function(a,b){function c(a){return a.charCodeAt(0).toString(16).toUpperCase()}function d(a){return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(a){return"\\x0"+c(a)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(a){return"\\x"+c(a)})}function e(a){return a.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(a){return"\\x0"+c(a)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(a){return"\\x"+c(a)})}function f(a){return i[a.type](a)}function g(a){var b,c,d=new Array(a.length);for(b=0;b<a.length;b++)d[b]=f(a[b]);if(d.sort(),d.length>0){for(b=1,c=1;b<d.length;b++)d[b-1]!==d[b]&&(d[c]=d[b],c++);d.length=c}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function h(a){return a?'"'+d(a)+'"':"end of input"}var i={literal:function(a){return'"'+d(a.text)+'"'},"class":function(a){var b,c="";for(b=0;b<a.parts.length;b++)c+=a.parts[b]instanceof Array?e(a.parts[b][0])+"-"+e(a.parts[b][1]):e(a.parts[b]);return"["+(a.inverted?"^":"")+c+"]"},any:function(a){return"any character"},end:function(a){return"end of input"},other:function(a){return a.description}};return"Expected "+g(a)+" but "+h(b)+" found."},b.exports={SyntaxError:e,parse:f}},{}],47:[function(a,b,c){function d(a){this.mf=a,this.lc=null,this.locales={},this.runtime={},this.formatters={}}var e=a("reserved-words"),f=a("messageformat-parser").parse;b.exports=d,d.propname=function(a,b){if(/^[A-Z_$][0-9A-Z_$]*$/i.test(a)&&["break","continue","delete","else","for","function","if","in","new","return","this","typeof","var","void","while","with","case","catch","default","do","finally","instanceof","switch","throw","try"].indexOf(a)<0)return b?b+"."+a:a;var c=JSON.stringify(a);return b?b+"["+c+"]":c},d.funcname=function(a){var b=a.trim().replace(/\W+/g,"_");return e.check(b,"es2015",!0)||/^\d/.test(b)?"_"+b:b},d.bidiMarkText=function(a,b){function c(a){var b=["ar","ckb","fa","he","ks($|[^bfh])","lrc","mzn","pa-Arab","ps","ug","ur","uz-Arab","yi"];return new RegExp("^"+b.join("|^")).test(a)}var d=JSON.stringify(c(b)?"‏":"‎");return d+" + "+a+" + "+d},d.prototype.cases=function(a,b){var c="select"===a.type||!this.mf.hasCustomPluralFuncs,e=a.cases.map(function(a){"other"===a.key&&(c=!1);var e=a.tokens.map(function(a){return this.token(a,b)},this);return d.propname(a.key)+": "+(e.join(" + ")||'""')},this);if(c)throw new Error("No 'other' form found in "+JSON.stringify(a));return"{ "+e.join(", ")+" }"},d.prototype.token=function(a,b){if("string"==typeof a)return JSON.stringify(a);var c,e=[d.propname(a.arg,"d")];switch(a.type){case"argument":return this.mf.bidiSupport?d.bidiMarkText(e[0],this.lc):e[0];case"select":c="select",e.push(this.cases(a,this.mf.strictNumberSign?null:b)),this.runtime.select=!0;break;case"selectordinal":c="plural",e.push(0,d.funcname(this.lc),this.cases(a,a),1),this.locales[this.lc]=!0,this.runtime.plural=!0;break;case"plural":c="plural",e.push(a.offset||0,d.funcname(this.lc),this.cases(a,a)),this.locales[this.lc]=!0,this.runtime.plural=!0;break;case"function":if(this.mf.intlSupport&&!(a.key in this.mf.fmt)&&a.key in this.mf.constructor.formatters){var f=this.mf.constructor.formatters[a.key];this.mf.fmt[a.key]="function"==typeof f(this.mf)?f(this.mf):f}if(!this.mf.fmt[a.key])throw new Error("Formatting function "+JSON.stringify(a.key)+" not found!");if(e.push(JSON.stringify(this.lc)),a.params)switch(a.params.length){case 0:break;case 1:e.push(JSON.stringify(a.params[0]));break;default:e.push(JSON.stringify(a.params))}c=d.propname(a.key,"fmt"),this.formatters[a.key]=!0;break;case"octothorpe":if(!b)return'"#"';c="number",e=[d.propname(b.arg,"d"),JSON.stringify(b.arg)],b.offset&&e.push(b.offset),this.runtime.number=!0}if(!c)throw new Error("Parser error for token "+JSON.stringify(a));return c+"("+e.join(", ")+")"},d.prototype.compile=function(a,b,c){if("object"!=typeof a){this.lc=b;var d=c[b]||{cardinal:[],ordinal:[]},e=f(a,d).map(function(a){return this.token(a)},this);return"function(d) { return "+(e.join(" + ")||'""')+"; }"}var g={};for(var h in a){var i=c.hasOwnProperty(h)?h:b;g[h]=this.compile(a[h],i,c)}return g}},{"messageformat-parser":46,"reserved-words":53}],48:[function(a,b,c){function d(b,c){for(var d=a("make-plural/umd/plurals"),e=a("make-plural/umd/pluralCategories"),f=b;f;f=f.replace(/[-_]?[^-_]*$/,"")){var g=d[f];if(g){var h=c?{cardinal:[],ordinal:[]}:e[f]||{},i=function(){return g.apply(this,arguments)};return i.toString=function(){return g.toString()},i.cardinal=h.cardinal,i.ordinal=h.ordinal,i}}throw new Error("Localisation function not found for locale "+JSON.stringify(b))}function e(a){if(this.pluralFuncs={},a)if("string"==typeof a)this.pluralFuncs[a]=d(a);else if(Array.isArray(a))a.forEach(function(a){this.pluralFuncs[a]=d(a)},this);else if("object"==typeof a){for(var b in a)if(a.hasOwnProperty(b)){if("function"!=typeof a[b])throw new Error("Expected function value for locale "+JSON.stringify(b));this.pluralFuncs[b]=a[b]}this.hasCustomPluralFuncs=!0}this.fmt={},this.runtime=new g(this)}var f=a("./compiler"),g=a("./runtime");e.defaultLocale="en",e.escape=function(a){return a.replace(/[#{}\\]/g,"\\$&")},e.formatters={number:function(a){return new Function("v,lc,p","return new Intl.NumberFormat(lc,\n    p=='integer' ? {maximumFractionDigits:0}\n  : p=='percent' ? {style:'percent'}\n  : p=='currency' ? {style:'currency', currency:'"+(a.currency||"USD")+"', minimumFractionDigits:2, maximumFractionDigits:2}\n  : {}).format(v)")},date:function(a,b,c){var d={day:"numeric",month:"short",year:"numeric"};switch(c){case"full":d.weekday="long";case"long":d.month="long";break;case"short":d.month="numeric"}return new Date(a).toLocaleDateString(b,d)},time:function(a,b,c){var d={second:"numeric",minute:"numeric",hour:"numeric"};switch(c){case"full":case"long":d.timeZoneName="short";break;case"short":delete d.second}return new Date(a).toLocaleTimeString(b,d)}},e.prototype.addFormatters=function(a){for(var b in a)a.hasOwnProperty(b)&&(this.fmt[b]=a[b]);return this},e.prototype.disablePluralKeyChecks=function(){this.noPluralKeyChecks=!0;for(var a in this.pluralFuncs)this.pluralFuncs.hasOwnProperty(a)&&(this.pluralFuncs[a].cardinal=[],this.pluralFuncs[a].ordinal=[]);return this},e.prototype.setBiDiSupport=function(a){return this.bidiSupport=!!a||"undefined"==typeof a,this},e.prototype.setIntlSupport=function(a){return this.intlSupport=!!a||"undefined"==typeof a,this},e.prototype.setStrictNumberSign=function(a){return this.strictNumberSign=!!a||"undefined"==typeof a,this.runtime.setStrictNumber(this.strictNumberSign),this},e.prototype.compile=function(a,b){function c(a,b){if(b||(b=0),"object"!=typeof a)return a;for(var d=[],e="",g=0;b>g;++g)e+="  ";for(var h in a)d.push("\n"+e+"  "+f.propname(h)+": "+c(a[h],b+1));return"{"+d.join(",")+"\n"+e+"}"}var g;if(0==Object.keys(this.pluralFuncs).length)b||(b=e.defaultLocale),g={},g[b]=d(b,this.noPluralKeyChecks);else if(b){if(g={},g[b]=this.pluralFuncs[b],!g[b])throw new Error("Locale "+JSON.stringify(b)+"not found in "+JSON.stringify(this.pluralFuncs)+"!")}else g=this.pluralFuncs,b=Object.keys(g)[0];var h=new f(this),i=h.compile(a,b,g);if("object"!=typeof a){var j=new Function("number, plural, select, fmt",f.funcname(b),"return "+i),k=this.runtime;return j(k.number,k.plural,k.select,this.fmt,g[b])}var l=this.runtime.toString(g,h)+"\n",m=c(i),n=new Function(l+"return "+m)();if(n.hasOwnProperty("toString"))throw new Error("The top-level message key `toString` is reserved");return n.toString=function(a){switch(a||""){case"exports":var b=[];for(var d in i)b.push(f.propname(d,"exports")+" = "+c(i[d]));return l+b.join(";\n");case"module.exports":return l+"module.exports = "+m;case"export default":return l+"export default "+m;case"":return l+"return "+m;default:return a.indexOf(".")>-1?l+a+" = "+m:l+["(function (root, G) {",'  if (typeof define === "function" && define.amd) { define(G); }','  else if (typeof exports === "object") { module.exports = G; }',"  else { "+f.propname(a,"root")+" = G; }","})(this, "+m+");"].join("\n")}},n},b.exports=e},{"./compiler":47,"./runtime":49,"make-plural/umd/pluralCategories":50,"make-plural/umd/plurals":51}],49:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{"./compiler":47,dup:41}],50:[function(a,b,c){var d=[{cardinal:["other"],ordinal:["other"]},{cardinal:["one","other"],ordinal:["other"]},{cardinal:["one","other"],ordinal:["one","other"]},{cardinal:["one","two","other"],ordinal:["other"]}];!function(a,d){"function"==typeof define&&define.amd?define(d):"object"==typeof c?b.exports=d:a.pluralCategories=d}(this,{af:d[1],ak:d[1],am:d[1],ar:{cardinal:["zero","one","two","few","many","other"],ordinal:["other"]},ars:{cardinal:["zero","one","two","few","many","other"],ordinal:["other"]},as:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},asa:d[1],ast:d[1],az:{cardinal:["one","other"],ordinal:["one","few","many","other"]},be:{cardinal:["one","few","many","other"],ordinal:["few","other"]},bem:d[1],bez:d[1],bg:d[1],bh:d[1],bm:d[0],bn:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},bo:d[0],br:{cardinal:["one","two","few","many","other"],ordinal:["other"]},brx:d[1],bs:{cardinal:["one","few","other"],ordinal:["other"]},ca:{cardinal:["one","other"],ordinal:["one","two","few","other"]},ce:d[1],cgg:d[1],chr:d[1],ckb:d[1],cs:{cardinal:["one","few","many","other"],ordinal:["other"]},cy:{cardinal:["zero","one","two","few","many","other"],ordinal:["zero","one","two","few","many","other"]},da:d[1],de:d[1],dsb:{cardinal:["one","two","few","other"],ordinal:["other"]},dv:d[1],dz:d[0],ee:d[1],el:d[1],en:{cardinal:["one","other"],ordinal:["one","two","few","other"]},eo:d[1],es:d[1],et:d[1],eu:d[1],fa:d[1],ff:d[1],fi:d[1],fil:d[2],fo:d[1],fr:d[2],fur:d[1],fy:d[1],ga:{cardinal:["one","two","few","many","other"],ordinal:["one","other"]},gd:{cardinal:["one","two","few","other"],ordinal:["other"]},gl:d[1],gsw:d[1],gu:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},guw:d[1],gv:{cardinal:["one","two","few","many","other"],ordinal:["other"]},ha:d[1],haw:d[1],he:{cardinal:["one","two","many","other"],ordinal:["other"]},hi:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},hr:{cardinal:["one","few","other"],ordinal:["other"]},hsb:{cardinal:["one","two","few","other"],ordinal:["other"]},hu:d[2],hy:d[2],id:d[0],ig:d[0],ii:d[0],"in":d[0],io:d[1],is:d[1],it:{cardinal:["one","other"],ordinal:["many","other"]},iu:d[3],iw:{cardinal:["one","two","many","other"],ordinal:["other"]},ja:d[0],jbo:d[0],jgo:d[1],ji:d[1],jmc:d[1],jv:d[0],jw:d[0],ka:{cardinal:["one","other"],ordinal:["one","many","other"]},kab:d[1],kaj:d[1],kcg:d[1],kde:d[0],kea:d[0],kk:{cardinal:["one","other"],ordinal:["many","other"]},kkj:d[1],kl:d[1],km:d[0],kn:d[1],ko:d[0],ks:d[1],ksb:d[1],ksh:{cardinal:["zero","one","other"],ordinal:["other"]},ku:d[1],kw:d[3],ky:d[1],lag:{cardinal:["zero","one","other"],ordinal:["other"]},lb:d[1],lg:d[1],lkt:d[0],ln:d[1],lo:{cardinal:["other"],ordinal:["one","other"]},lt:{cardinal:["one","few","many","other"],ordinal:["other"]},lv:{cardinal:["zero","one","other"],ordinal:["other"]},mas:d[1],mg:d[1],mgo:d[1],mk:{cardinal:["one","other"],ordinal:["one","two","many","other"]},ml:d[1],mn:d[1],mo:{cardinal:["one","few","other"],ordinal:["one","other"]},mr:{cardinal:["one","other"],ordinal:["one","two","few","other"]},ms:{cardinal:["other"],ordinal:["one","other"]},mt:{cardinal:["one","few","many","other"],ordinal:["other"]},my:d[0],nah:d[1],naq:d[3],nb:d[1],nd:d[1],ne:d[2],nl:d[1],nn:d[1],nnh:d[1],no:d[1],nqo:d[0],nr:d[1],nso:d[1],ny:d[1],nyn:d[1],om:d[1],or:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},os:d[1],pa:d[1],pap:d[1],pl:{cardinal:["one","few","many","other"],ordinal:["other"]},prg:{cardinal:["zero","one","other"],ordinal:["other"]},ps:d[1],pt:d[1],"pt-PT":d[1],rm:d[1],ro:{cardinal:["one","few","other"],ordinal:["one","other"]},rof:d[1],root:d[0],ru:{cardinal:["one","few","many","other"],ordinal:["other"]},rwk:d[1],sah:d[0],saq:d[1],sd:d[1],sdh:d[1],se:d[3],
seh:d[1],ses:d[0],sg:d[0],sh:{cardinal:["one","few","other"],ordinal:["other"]},shi:{cardinal:["one","few","other"],ordinal:["other"]},si:d[1],sk:{cardinal:["one","few","many","other"],ordinal:["other"]},sl:{cardinal:["one","two","few","other"],ordinal:["other"]},sma:d[3],smi:d[3],smj:d[3],smn:d[3],sms:d[3],sn:d[1],so:d[1],sq:{cardinal:["one","other"],ordinal:["one","many","other"]},sr:{cardinal:["one","few","other"],ordinal:["other"]},ss:d[1],ssy:d[1],st:d[1],sv:d[2],sw:d[1],syr:d[1],ta:d[1],te:d[1],teo:d[1],th:d[0],ti:d[1],tig:d[1],tk:{cardinal:["one","other"],ordinal:["few","other"]},tl:d[2],tn:d[1],to:d[0],tr:d[1],ts:d[1],tzm:d[1],ug:d[1],uk:{cardinal:["one","few","many","other"],ordinal:["few","other"]},ur:d[1],uz:d[1],ve:d[1],vi:{cardinal:["other"],ordinal:["one","other"]},vo:d[1],vun:d[1],wa:d[1],wae:d[1],wo:d[0],xh:d[1],xog:d[1],yi:d[1],yo:d[0],yue:d[0],zh:d[0],zu:d[1]})},{}],51:[function(a,b,c){var d=[function(a,b){return"other"},function(a,b){return b?"other":1==a?"one":"other"},function(a,b){return b?"other":0==a||1==a?"one":"other"},function(a,b){var c=String(a).split("."),d=!c[1];return b?"other":1==a&&d?"one":"other"}];!function(a,d){"function"==typeof define&&define.amd?define(d):"object"==typeof c?b.exports=d:a.plurals=d}(this,{af:d[1],ak:d[2],am:function(a,b){return b?"other":a>=0&&1>=a?"one":"other"},ar:function(a,b){var c=String(a).split("."),d=Number(c[0])==a,e=d&&c[0].slice(-2);return b?"other":0==a?"zero":1==a?"one":2==a?"two":e>=3&&10>=e?"few":e>=11&&99>=e?"many":"other"},ars:function(a,b){var c=String(a).split("."),d=Number(c[0])==a,e=d&&c[0].slice(-2);return b?"other":0==a?"zero":1==a?"one":2==a?"two":e>=3&&10>=e?"few":e>=11&&99>=e?"many":"other"},as:function(a,b){return b?1==a||5==a||7==a||8==a||9==a||10==a?"one":2==a||3==a?"two":4==a?"few":6==a?"many":"other":a>=0&&1>=a?"one":"other"},asa:d[1],ast:d[3],az:function(a,b){var c=String(a).split("."),d=c[0],e=d.slice(-1),f=d.slice(-2),g=d.slice(-3);return b?1==e||2==e||5==e||7==e||8==e||20==f||50==f||70==f||80==f?"one":3==e||4==e||100==g||200==g||300==g||400==g||500==g||600==g||700==g||800==g||900==g?"few":0==d||6==e||40==f||60==f||90==f?"many":"other":1==a?"one":"other"},be:function(a,b){var c=String(a).split("."),d=Number(c[0])==a,e=d&&c[0].slice(-1),f=d&&c[0].slice(-2);return b?2!=e&&3!=e||12==f||13==f?"other":"few":1==e&&11!=f?"one":e>=2&&4>=e&&(12>f||f>14)?"few":d&&0==e||e>=5&&9>=e||f>=11&&14>=f?"many":"other"},bem:d[1],bez:d[1],bg:d[1],bh:d[2],bm:d[0],bn:function(a,b){return b?1==a||5==a||7==a||8==a||9==a||10==a?"one":2==a||3==a?"two":4==a?"few":6==a?"many":"other":a>=0&&1>=a?"one":"other"},bo:d[0],br:function(a,b){var c=String(a).split("."),d=Number(c[0])==a,e=d&&c[0].slice(-1),f=d&&c[0].slice(-2),g=d&&c[0].slice(-6);return b?"other":1==e&&11!=f&&71!=f&&91!=f?"one":2==e&&12!=f&&72!=f&&92!=f?"two":(3==e||4==e||9==e)&&(10>f||f>19)&&(70>f||f>79)&&(90>f||f>99)?"few":0!=a&&d&&0==g?"many":"other"},brx:d[1],bs:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-1),h=d.slice(-2),i=e.slice(-1),j=e.slice(-2);return b?"other":f&&1==g&&11!=h||1==i&&11!=j?"one":f&&g>=2&&4>=g&&(12>h||h>14)||i>=2&&4>=i&&(12>j||j>14)?"few":"other"},ca:function(a,b){var c=String(a).split("."),d=!c[1];return b?1==a||3==a?"one":2==a?"two":4==a?"few":"other":1==a&&d?"one":"other"},ce:d[1],cgg:d[1],chr:d[1],ckb:d[1],cs:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1];return b?"other":1==a&&e?"one":d>=2&&4>=d&&e?"few":e?"other":"many"},cy:function(a,b){return b?0==a||7==a||8==a||9==a?"zero":1==a?"one":2==a?"two":3==a||4==a?"few":5==a||6==a?"many":"other":0==a?"zero":1==a?"one":2==a?"two":3==a?"few":6==a?"many":"other"},da:function(a,b){var c=String(a).split("."),d=c[0],e=Number(c[0])==a;return b?"other":1!=a&&(e||0!=d&&1!=d)?"other":"one"},de:d[3],dsb:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-2),h=e.slice(-2);return b?"other":f&&1==g||1==h?"one":f&&2==g||2==h?"two":f&&(3==g||4==g)||3==h||4==h?"few":"other"},dv:d[1],dz:d[0],ee:d[1],el:d[1],en:function(a,b){var c=String(a).split("."),d=!c[1],e=Number(c[0])==a,f=e&&c[0].slice(-1),g=e&&c[0].slice(-2);return b?1==f&&11!=g?"one":2==f&&12!=g?"two":3==f&&13!=g?"few":"other":1==a&&d?"one":"other"},eo:d[1],es:d[1],et:d[3],eu:d[1],fa:function(a,b){return b?"other":a>=0&&1>=a?"one":"other"},ff:function(a,b){return b?"other":a>=0&&2>a?"one":"other"},fi:d[3],fil:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-1),h=e.slice(-1);return b?1==a?"one":"other":f&&(1==d||2==d||3==d)||f&&4!=g&&6!=g&&9!=g||!f&&4!=h&&6!=h&&9!=h?"one":"other"},fo:d[1],fr:function(a,b){return b?1==a?"one":"other":a>=0&&2>a?"one":"other"},fur:d[1],fy:d[3],ga:function(a,b){var c=String(a).split("."),d=Number(c[0])==a;return b?1==a?"one":"other":1==a?"one":2==a?"two":d&&a>=3&&6>=a?"few":d&&a>=7&&10>=a?"many":"other"},gd:function(a,b){var c=String(a).split("."),d=Number(c[0])==a;return b?"other":1==a||11==a?"one":2==a||12==a?"two":d&&a>=3&&10>=a||d&&a>=13&&19>=a?"few":"other"},gl:d[3],gsw:d[1],gu:function(a,b){return b?1==a?"one":2==a||3==a?"two":4==a?"few":6==a?"many":"other":a>=0&&1>=a?"one":"other"},guw:d[2],gv:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1],f=d.slice(-1),g=d.slice(-2);return b?"other":e&&1==f?"one":e&&2==f?"two":!e||0!=g&&20!=g&&40!=g&&60!=g&&80!=g?e?"other":"many":"few"},ha:d[1],haw:d[1],he:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1],f=Number(c[0])==a,g=f&&c[0].slice(-1);return b?"other":1==a&&e?"one":2==d&&e?"two":e&&(0>a||a>10)&&f&&0==g?"many":"other"},hi:function(a,b){return b?1==a?"one":2==a||3==a?"two":4==a?"few":6==a?"many":"other":a>=0&&1>=a?"one":"other"},hr:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-1),h=d.slice(-2),i=e.slice(-1),j=e.slice(-2);return b?"other":f&&1==g&&11!=h||1==i&&11!=j?"one":f&&g>=2&&4>=g&&(12>h||h>14)||i>=2&&4>=i&&(12>j||j>14)?"few":"other"},hsb:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-2),h=e.slice(-2);return b?"other":f&&1==g||1==h?"one":f&&2==g||2==h?"two":f&&(3==g||4==g)||3==h||4==h?"few":"other"},hu:function(a,b){return b?1==a||5==a?"one":"other":1==a?"one":"other"},hy:function(a,b){return b?1==a?"one":"other":a>=0&&2>a?"one":"other"},id:d[0],ig:d[0],ii:d[0],"in":d[0],io:d[3],is:function(a,b){var c=String(a).split("."),d=c[0],e=Number(c[0])==a,f=d.slice(-1),g=d.slice(-2);return b?"other":e&&1==f&&11!=g||!e?"one":"other"},it:function(a,b){var c=String(a).split("."),d=!c[1];return b?11==a||8==a||80==a||800==a?"many":"other":1==a&&d?"one":"other"},iu:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},iw:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1],f=Number(c[0])==a,g=f&&c[0].slice(-1);return b?"other":1==a&&e?"one":2==d&&e?"two":e&&(0>a||a>10)&&f&&0==g?"many":"other"},ja:d[0],jbo:d[0],jgo:d[1],ji:d[3],jmc:d[1],jv:d[0],jw:d[0],ka:function(a,b){var c=String(a).split("."),d=c[0],e=d.slice(-2);return b?1==d?"one":0==d||e>=2&&20>=e||40==e||60==e||80==e?"many":"other":1==a?"one":"other"},kab:function(a,b){return b?"other":a>=0&&2>a?"one":"other"},kaj:d[1],kcg:d[1],kde:d[0],kea:d[0],kk:function(a,b){var c=String(a).split("."),d=Number(c[0])==a,e=d&&c[0].slice(-1);return b?6==e||9==e||d&&0==e&&0!=a?"many":"other":1==a?"one":"other"},kkj:d[1],kl:d[1],km:d[0],kn:function(a,b){return b?"other":a>=0&&1>=a?"one":"other"},ko:d[0],ks:d[1],ksb:d[1],ksh:function(a,b){return b?"other":0==a?"zero":1==a?"one":"other"},ku:d[1],kw:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},ky:d[1],lag:function(a,b){var c=String(a).split("."),d=c[0];return b?"other":0==a?"zero":0!=d&&1!=d||0==a?"other":"one"},lb:d[1],lg:d[1],lkt:d[0],ln:d[2],lo:function(a,b){return b&&1==a?"one":"other"},lt:function(a,b){var c=String(a).split("."),d=c[1]||"",e=Number(c[0])==a,f=e&&c[0].slice(-1),g=e&&c[0].slice(-2);return b?"other":1==f&&(11>g||g>19)?"one":f>=2&&9>=f&&(11>g||g>19)?"few":0!=d?"many":"other"},lv:function(a,b){var c=String(a).split("."),d=c[1]||"",e=d.length,f=Number(c[0])==a,g=f&&c[0].slice(-1),h=f&&c[0].slice(-2),i=d.slice(-2),j=d.slice(-1);return b?"other":f&&0==g||h>=11&&19>=h||2==e&&i>=11&&19>=i?"zero":1==g&&11!=h||2==e&&1==j&&11!=i||2!=e&&1==j?"one":"other"},mas:d[1],mg:d[2],mgo:d[1],mk:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-1),h=d.slice(-2),i=e.slice(-1);return b?1==g&&11!=h?"one":2==g&&12!=h?"two":7!=g&&8!=g||17==h||18==h?"other":"many":f&&1==g||1==i?"one":"other"},ml:d[1],mn:d[1],mo:function(a,b){var c=String(a).split("."),d=!c[1],e=Number(c[0])==a,f=e&&c[0].slice(-2);return b?1==a?"one":"other":1==a&&d?"one":!d||0==a||1!=a&&f>=1&&19>=f?"few":"other"},mr:function(a,b){return b?1==a?"one":2==a||3==a?"two":4==a?"few":"other":a>=0&&1>=a?"one":"other"},ms:function(a,b){return b&&1==a?"one":"other"},mt:function(a,b){var c=String(a).split("."),d=Number(c[0])==a,e=d&&c[0].slice(-2);return b?"other":1==a?"one":0==a||e>=2&&10>=e?"few":e>=11&&19>=e?"many":"other"},my:d[0],nah:d[1],naq:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},nb:d[1],nd:d[1],ne:function(a,b){var c=String(a).split("."),d=Number(c[0])==a;return b?d&&a>=1&&4>=a?"one":"other":1==a?"one":"other"},nl:d[3],nn:d[1],nnh:d[1],no:d[1],nqo:d[0],nr:d[1],nso:d[2],ny:d[1],nyn:d[1],om:d[1],or:function(a,b){var c=String(a).split("."),d=Number(c[0])==a;return b?1==a||5==a||d&&a>=7&&9>=a?"one":2==a||3==a?"two":4==a?"few":6==a?"many":"other":1==a?"one":"other"},os:d[1],pa:d[2],pap:d[1],pl:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1],f=d.slice(-1),g=d.slice(-2);return b?"other":1==a&&e?"one":e&&f>=2&&4>=f&&(12>g||g>14)?"few":e&&1!=d&&(0==f||1==f)||e&&f>=5&&9>=f||e&&g>=12&&14>=g?"many":"other"},prg:function(a,b){var c=String(a).split("."),d=c[1]||"",e=d.length,f=Number(c[0])==a,g=f&&c[0].slice(-1),h=f&&c[0].slice(-2),i=d.slice(-2),j=d.slice(-1);return b?"other":f&&0==g||h>=11&&19>=h||2==e&&i>=11&&19>=i?"zero":1==g&&11!=h||2==e&&1==j&&11!=i||2!=e&&1==j?"one":"other"},ps:d[1],pt:function(a,b){var c=String(a).split("."),d=c[0];return b?"other":0==d||1==d?"one":"other"},"pt-PT":d[3],rm:d[1],ro:function(a,b){var c=String(a).split("."),d=!c[1],e=Number(c[0])==a,f=e&&c[0].slice(-2);return b?1==a?"one":"other":1==a&&d?"one":!d||0==a||1!=a&&f>=1&&19>=f?"few":"other"},rof:d[1],root:d[0],ru:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1],f=d.slice(-1),g=d.slice(-2);return b?"other":e&&1==f&&11!=g?"one":e&&f>=2&&4>=f&&(12>g||g>14)?"few":e&&0==f||e&&f>=5&&9>=f||e&&g>=11&&14>=g?"many":"other"},rwk:d[1],sah:d[0],saq:d[1],sd:d[1],sdh:d[1],se:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},seh:d[1],ses:d[0],sg:d[0],sh:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-1),h=d.slice(-2),i=e.slice(-1),j=e.slice(-2);return b?"other":f&&1==g&&11!=h||1==i&&11!=j?"one":f&&g>=2&&4>=g&&(12>h||h>14)||i>=2&&4>=i&&(12>j||j>14)?"few":"other"},shi:function(a,b){var c=String(a).split("."),d=Number(c[0])==a;return b?"other":a>=0&&1>=a?"one":d&&a>=2&&10>=a?"few":"other"},si:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"";return b?"other":0==a||1==a||0==d&&1==e?"one":"other"},sk:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1];return b?"other":1==a&&e?"one":d>=2&&4>=d&&e?"few":e?"other":"many"},sl:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1],f=d.slice(-2);return b?"other":e&&1==f?"one":e&&2==f?"two":e&&(3==f||4==f)||!e?"few":"other"},sma:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},smi:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},smj:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},smn:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},sms:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},sn:d[1],so:d[1],sq:function(a,b){var c=String(a).split("."),d=Number(c[0])==a,e=d&&c[0].slice(-1),f=d&&c[0].slice(-2);return b?1==a?"one":4==e&&14!=f?"many":"other":1==a?"one":"other"},sr:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-1),h=d.slice(-2),i=e.slice(-1),j=e.slice(-2);return b?"other":f&&1==g&&11!=h||1==i&&11!=j?"one":f&&g>=2&&4>=g&&(12>h||h>14)||i>=2&&4>=i&&(12>j||j>14)?"few":"other"},ss:d[1],ssy:d[1],st:d[1],sv:function(a,b){var c=String(a).split("."),d=!c[1],e=Number(c[0])==a,f=e&&c[0].slice(-1),g=e&&c[0].slice(-2);return b?1!=f&&2!=f||11==g||12==g?"other":"one":1==a&&d?"one":"other"},sw:d[3],syr:d[1],ta:d[1],te:d[1],teo:d[1],th:d[0],ti:d[2],tig:d[1],tk:function(a,b){var c=String(a).split("."),d=Number(c[0])==a,e=d&&c[0].slice(-1);return b?6==e||9==e||10==a?"few":"other":1==a?"one":"other"},tl:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-1),h=e.slice(-1);return b?1==a?"one":"other":f&&(1==d||2==d||3==d)||f&&4!=g&&6!=g&&9!=g||!f&&4!=h&&6!=h&&9!=h?"one":"other"},tn:d[1],to:d[0],tr:d[1],ts:d[1],tzm:function(a,b){var c=String(a).split("."),d=Number(c[0])==a;return b?"other":0==a||1==a||d&&a>=11&&99>=a?"one":"other"},ug:d[1],uk:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1],f=Number(c[0])==a,g=f&&c[0].slice(-1),h=f&&c[0].slice(-2),i=d.slice(-1),j=d.slice(-2);return b?3==g&&13!=h?"few":"other":e&&1==i&&11!=j?"one":e&&i>=2&&4>=i&&(12>j||j>14)?"few":e&&0==i||e&&i>=5&&9>=i||e&&j>=11&&14>=j?"many":"other"},ur:d[3],uz:d[1],ve:d[1],vi:function(a,b){return b&&1==a?"one":"other"},vo:d[1],vun:d[1],wa:d[2],wae:d[1],wo:d[0],xh:d[1],xog:d[1],yi:d[3],yo:d[0],yue:d[0],zh:d[0],zu:function(a,b){return b?"other":a>=0&&1>=a?"one":"other"}})},{}],52:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.prependListener=k,n.prependOnceListener=k,n.listeners=function(a){return[]},n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],53:[function(a,b,c){b.exports=a("./reserved-words")},{"./reserved-words":54}],54:[function(a,b,c){function d(){var a=Array.prototype.map.call(arguments,function(a){return"string"==typeof a?a:Object.keys(a).join(" ")}).join(" ");return a.split(/\s+/).reduce(function(a,b){return a[b]=!0,a},{})}var e=a("assert"),f={es3:3,es5:5,es2015:6,es7:7,es6:6,"default":5,next:6},g=c.KEYWORDS={};c.check=function(a,b,c){b=b||f["default"];var d=f[b]||b;return c&&d>=5&&(d+="-strict"),e(g[d],"Unknown dialect"),g[d].hasOwnProperty(a)},g[3]=d("break    else       new     var","case     finally    return  void","catch    for        switch  while","continue function   this    with","default  if         throw","delete   in         try","do       instanceof typeof","abstract enum       int        short","boolean  export     interface  static","byte     extends    long       super","char     final      native     synchronized","class    float      package    throws","const    goto       private    transient","debugger implements protected  volatile","double   import     public","null true false"),g[5]=d("break    do       instanceof typeof","case     else     new        var","catch    finally  return     void","continue for      switch     while","debugger function this       with","default  if       throw","delete   in       try","class enum extends super","const export import","null true false"),g["5-strict"]=d(g[5],"implements let     private   public yield","interface  package protected static"),g[6]=d("break    do       in         typeof","case     else     instanceof var","catch    export   new        void","class    extends  return     while","const    finally  super      with","continue for      switch     yield","debugger function this","default  if       throw","delete   import   try","enum await","null true false"),g["6-strict"]=d(g[6],"let static","implements package protected","interface private public")},{assert:43}],55:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],56:[function(a,b,c){b.exports=function(a){return a&&"object"==typeof a&&"function"==typeof a.copy&&"function"==typeof a.fill&&"function"==typeof a.readUInt8}},{}],57:[function(a,b,c){(function(b,d){function e(a,b){var d={seen:[],stylize:g};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),p(b)?d.showHidden=b:b&&c._extend(d,b),v(d.showHidden)&&(d.showHidden=!1),v(d.depth)&&(d.depth=2),v(d.colors)&&(d.colors=!1),v(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=f),i(d,a,d.depth)}function f(a,b){var c=e.styles[b];return c?"["+e.colors[c][0]+"m"+a+"["+e.colors[c][1]+"m":a}function g(a,b){return a}function h(a){var b={};return a.forEach(function(a,c){b[a]=!0}),b}function i(a,b,d){if(a.customInspect&&b&&A(b.inspect)&&b.inspect!==c.inspect&&(!b.constructor||b.constructor.prototype!==b)){var e=b.inspect(d,a);return t(e)||(e=i(a,e,d)),e}var f=j(a,b);if(f)return f;var g=Object.keys(b),p=h(g);if(a.showHidden&&(g=Object.getOwnPropertyNames(b)),z(b)&&(g.indexOf("message")>=0||g.indexOf("description")>=0))return k(b);if(0===g.length){if(A(b)){var q=b.name?": "+b.name:"";return a.stylize("[Function"+q+"]","special")}if(w(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(y(b))return a.stylize(Date.prototype.toString.call(b),"date");if(z(b))return k(b)}var r="",s=!1,u=["{","}"];if(o(b)&&(s=!0,u=["[","]"]),A(b)){var v=b.name?": "+b.name:"";r=" [Function"+v+"]"}if(w(b)&&(r=" "+RegExp.prototype.toString.call(b)),y(b)&&(r=" "+Date.prototype.toUTCString.call(b)),z(b)&&(r=" "+k(b)),0===g.length&&(!s||0==b.length))return u[0]+r+u[1];if(0>d)return w(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);var x;return x=s?l(a,b,d,p,g):g.map(function(c){return m(a,b,d,p,c,s)}),a.seen.pop(),n(x,r,u)}function j(a,b){if(v(b))return a.stylize("undefined","undefined");if(t(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}return s(b)?a.stylize(""+b,"number"):p(b)?a.stylize(""+b,"boolean"):q(b)?a.stylize("null","null"):void 0}function k(a){return"["+Error.prototype.toString.call(a)+"]"}function l(a,b,c,d,e){for(var f=[],g=0,h=b.length;h>g;++g)F(b,String(g))?f.push(m(a,b,c,d,String(g),!0)):f.push("");return e.forEach(function(e){e.match(/^\d+$/)||f.push(m(a,b,c,d,e,!0))}),f}function m(a,b,c,d,e,f){var g,h,j;if(j=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},j.get?h=j.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):j.set&&(h=a.stylize("[Setter]","special")),F(d,e)||(g="["+e+"]"),h||(a.seen.indexOf(j.value)<0?(h=q(c)?i(a,j.value,null):i(a,j.value,c-1),h.indexOf("\n")>-1&&(h=f?h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special")),v(g)){if(f&&e.match(/^\d+$/))return h;g=JSON.stringify(""+e),g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+h}function n(a,b,c){var d=0,e=a.reduce(function(a,b){return d++,b.indexOf("\n")>=0&&d++,a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0);return e>60?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function o(a){return Array.isArray(a)}function p(a){return"boolean"==typeof a}function q(a){return null===a}function r(a){return null==a}function s(a){return"number"==typeof a}function t(a){return"string"==typeof a}function u(a){return"symbol"==typeof a}function v(a){return void 0===a}function w(a){return x(a)&&"[object RegExp]"===C(a)}function x(a){return"object"==typeof a&&null!==a}function y(a){return x(a)&&"[object Date]"===C(a)}function z(a){return x(a)&&("[object Error]"===C(a)||a instanceof Error)}function A(a){return"function"==typeof a}function B(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||"undefined"==typeof a}function C(a){return Object.prototype.toString.call(a)}function D(a){return 10>a?"0"+a.toString(10):a.toString(10)}function E(){var a=new Date,b=[D(a.getHours()),D(a.getMinutes()),D(a.getSeconds())].join(":");return[a.getDate(),J[a.getMonth()],b].join(" ")}function F(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var G=/%[sdj%]/g;c.format=function(a){if(!t(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(e(arguments[c]));return b.join(" ")}for(var c=1,d=arguments,f=d.length,g=String(a).replace(G,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++])}catch(b){return"[Circular]"}default:return a}}),h=d[c];f>c;h=d[++c])g+=q(h)||!x(h)?" "+h:" "+e(h);return g},c.deprecate=function(a,e){function f(){if(!g){if(b.throwDeprecation)throw new Error(e);b.traceDeprecation?console.trace(e):console.error(e),g=!0}return a.apply(this,arguments)}if(v(d.process))return function(){return c.deprecate(a,e).apply(this,arguments)};if(b.noDeprecation===!0)return a;var g=!1;return f};var H,I={};c.debuglog=function(a){if(v(H)&&(H=b.env.NODE_DEBUG||""),a=a.toUpperCase(),!I[a])if(new RegExp("\\b"+a+"\\b","i").test(H)){var d=b.pid;I[a]=function(){var b=c.format.apply(c,arguments);console.error("%s %d: %s",a,d,b)}}else I[a]=function(){};return I[a]},c.inspect=e,e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},c.isArray=o,c.isBoolean=p,c.isNull=q,c.isNullOrUndefined=r,c.isNumber=s,c.isString=t,c.isSymbol=u,c.isUndefined=v,c.isRegExp=w,c.isObject=x,c.isDate=y,c.isError=z,c.isFunction=A,c.isPrimitive=B,c.isBuffer=a("./support/isBuffer");var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];c.log=function(){console.log("%s - %s",E(),c.format.apply(c,arguments))},c.inherits=a("inherits"),c._extend=function(a,b){if(!b||!x(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":56,_process:52,inherits:55}],58:[function(a,b,c){"use strict";b.exports=[{id:"xa",name:"Abkhazia, Georgia"},{id:"af",name:"Afghanistan"},{id:"al",name:"Albania"},{id:"dz",name:"Algeria"},{id:"as",name:"American Samoa"},{id:"ad",name:"Andorra"},{id:"ao",name:"Angola"},{id:"ai",name:"Anguilla"},{id:"aq",name:"Antarctica"},{id:"ag",name:"Antigua & Barbuda"},{id:"ar",name:"Argentina"},{id:"am",name:"Armenia"},{id:"aw",name:"Aruba"},{id:"au",name:"Australia"},{id:"at",name:"Austria"},{id:"az",name:"Azerbaijan"},{id:"bs",name:"Bahamas"},{id:"bh",name:"Bahrain"},{id:"bd",name:"Bangladesh"},{id:"bb",name:"Barbados"},{id:"by",name:"Belarus"},{id:"be",name:"Belgium"},{id:"bz",name:"Belize"},{id:"bj",name:"Benin"},{id:"bm",name:"Bermuda"},{id:"bt",name:"Bhutan"},{id:"bo",name:"Bolivia"},{id:"bq",name:"Bonaire St Eustatius and Saba"},{id:"ba",name:"Bosnia and Herzegovina"},{id:"bw",name:"Botswana"},{id:"bv",name:"Bouvet Island"},{id:"br",name:"Brazil"},{id:"io",name:"British Indian Ocean Territory"},{id:"bn",name:"Brunei Darussalam"},{id:"bg",name:"Bulgaria"},{id:"bf",name:"Burkina Faso"},{id:"bi",name:"Burundi"},{id:"kh",name:"Cambodia"},{id:"cm",name:"Cameroon"},{id:"ca",name:"Canada"},{id:"cv",name:"Cape Verde"},{id:"ky",name:"Cayman Islands"},{id:"cf",name:"Central Africa Republic"},{id:"td",name:"Chad"},{id:"cl",name:"Chile"},{id:"cn",name:"China"},{id:"cx",name:"Christmas Island"},{id:"cc",name:"Cocos (K) I."},{id:"co",name:"Colombia"},{id:"km",name:"Comoros"},{id:"cg",name:"Congo"},{id:"ck",name:"Cook Islands"},{id:"cr",name:"Costa Rica"},{id:"ci",name:"Cote D'Ivoire"},{id:"hr",name:"Croatia"},{id:"cw",name:"Curaçao"},{id:"cy",name:"Cyprus"},{id:"cz",name:"Czech Republic"},{id:"cd",name:"Democratic Republic of the Congo"},{id:"dk",name:"Denmark"},{id:"dj",name:"Djibouti"},{id:"dm",name:"Dominica"},{id:"do",name:"Dominican Republic"},{id:"tl",name:"East Timor"},{id:"ec",name:"Ecuador"},{id:"eg",name:"Egypt"},{id:"sv",name:"El Salvador"},{id:"gq",name:"Equitorial Guinea"},{id:"er",name:"Eritrea"},{id:"ee",name:"Estonia"},{id:"et",name:"Ethiopia"},{id:"fk",name:"Falkland Islands (Malvinas)"},{id:"fo",name:"Faroe Islands"},{id:"fj",name:"Fiji"},{id:"fi",name:"Finland"},{id:"fr",name:"France"},{id:"gf",name:"French Guiana"},{id:"pf",name:"French Polynesia"},{id:"tf",name:"French Southern Territories"},{id:"ga",name:"Gabon"},{id:"gm",name:"Gambia"},{id:"ge",name:"Georgia"},{id:"de",name:"Germany"},{id:"gh",name:"Ghana"},{id:"gi",name:"Gibraltar"},{id:"gr",name:"Greece"},{id:"gl",name:"Greenland"},{id:"gd",name:"Grenada"},{id:"gp",name:"Guadeloupe"},{id:"gu",name:"Guam"},{id:"gt",name:"Guatemala"},{id:"gg",name:"Guernsey"},{id:"gn",name:"Guinea"},{id:"gw",name:"Guinea-Bissau"},{id:"gy",name:"Guyana"},{id:"ht",name:"Haiti"},{id:"hm",name:"Heard and McDonald Islands"},{id:"hn",name:"Honduras"},{id:"hk",name:"Hong Kong"},{id:"hu",name:"Hungary"},{id:"is",name:"Iceland"},{id:"in",name:"India"},{id:"id",name:"Indonesia"},{id:"ir",name:"Iran"},{id:"iq",name:"Iraq"},{id:"ie",name:"Ireland"},{id:"im",name:"Isle of Man"},{id:"il",name:"Israel"},{id:"it",name:"Italy"},{id:"jm",name:"Jamaica"},{id:"jp",name:"Japan"},{id:"je",name:"Jersey"},{id:"jo",name:"Jordan"},{id:"kz",name:"Kazakhstan"},{id:"ke",name:"Kenya"},{id:"ki",name:"Kiribati"},{id:"xk",name:"Kosovo"},{id:"kw",name:"Kuwait"},{id:"kg",name:"Kyrgyzstan"},{id:"la",name:"Laos"},{id:"lv",name:"Latvia"},{id:"lb",name:"Lebanon"},{id:"ls",name:"Lesotho"},{id:"lr",name:"Liberia"},{id:"ly",name:"Libya"},{id:"li",name:"Liechtenstein"},{id:"lt",name:"Lithuania"},{id:"lu",name:"Luxembourg"},{id:"mo",name:"Macao"},{id:"mk",name:"Macedonia"},{id:"mg",name:"Madagascar"},{id:"mw",name:"Malawi"},{id:"my",name:"Malaysia"},{id:"mv",name:"Maldives"},{id:"ml",name:"Mali"},{id:"mt",name:"Malta"},{id:"mh",name:"Marshall Islands"},{id:"mq",name:"Martinique"},{id:"mr",name:"Mauritania"},{id:"mu",name:"Mauritius"},{id:"yt",name:"Mayotte"},{id:"mx",name:"Mexico"},{id:"fm",name:"Micronesia"},{id:"md",name:"Moldova"},{id:"mc",name:"Monaco"},{id:"mn",name:"Mongolia"},{id:"me",name:"Montenegro"},{id:"ms",name:"Montserrat"},{id:"ma",name:"Morocco"},{id:"mz",name:"Mozambique"},{id:"mm",name:"Myanmar"},{id:"na",name:"Namibia"},{id:"nr",name:"Nauru"},{id:"np",name:"Nepal"},{id:"nl",name:"Netherlands"},{id:"nc",name:"New Caledonia"},{id:"nz",name:"New Zealand"},{id:"ni",name:"Nicaragua"},{id:"ne",name:"Niger"},{id:"ng",name:"Nigeria"},{id:"nu",name:"Niue"},{id:"nf",name:"Norfolk Island"},{id:"kp",name:"North Korea"},{id:"mp",name:"Northern Mariana Islands"},{id:"no",name:"Norway"},{id:"om",name:"Oman"},{id:"pk",name:"Pakistan"},{id:"pw",name:"Palau"},{id:"ps",name:"Palestinian Territory"},{id:"pa",name:"Panama"},{id:"pg",name:"Papua New Guinea"},{id:"py",name:"Paraguay"},{id:"pe",name:"Peru"},{id:"ph",name:"Philippines"},{id:"pn",name:"Pitcairn"},{id:"pl",name:"Poland"},{id:"pt",name:"Portugal"},{id:"pr",name:"Puerto Rico"},{id:"qa",name:"Qatar"},{id:"re",name:"Reunion"},{id:"ro",name:"Romania"},{id:"ru",name:"Russia"},{id:"rw",name:"Rwanda"},{id:"bl",name:"Saint Barthelemy"},{id:"kn",name:"Saint Kitts and Nevis"},{id:"lc",name:"Saint Lucia"},{id:"mf",name:"Saint Martin"},{id:"vc",name:"Saint Vincent & Grenadines"},{id:"ws",name:"Samoa"},{id:"sm",name:"San Marino"},{id:"sa",name:"Saudi Arabia"},{id:"sn",name:"Senegal"},{id:"rs",name:"Serbia"},{id:"sc",name:"Seychelles"},{id:"sl",name:"Sierra Leone"},{id:"sg",name:"Singapore"},{id:"sx",name:"Sint Maarten"},{id:"sk",name:"Slovakia"},{id:"si",name:"Slovenia"},{id:"sb",name:"Solomon Islands"},{id:"so",name:"Somalia"},{id:"za",name:"South Africa"},{id:"gs",name:"South Georgia and the South Sandwich Islands"},{id:"kr",name:"South Korea"},{id:"es",name:"Spain"},{id:"lk",name:"Sri Lanka"},{id:"sh",name:"St. Helena"},{id:"pm",name:"St. Pierre and Miquelon"},{id:"sd",name:"Sudan"},{id:"sr",name:"Suriname"},{id:"sj",name:"Svalbard & Jan Mayen"},{id:"sz",name:"Swaziland"},{id:"se",name:"Sweden"},{id:"ch",name:"Switzerland"},{id:"sy",name:"Syria"},{id:"st",name:"São Tomé and Príncipe"},{id:"tw",name:"Taiwan"},{id:"tj",name:"Tajikistan"},{id:"tz",name:"Tanzania"},{id:"th",name:"Thailand"},{id:"tg",name:"Togo"},{id:"tk",name:"Tokelau"},{id:"to",name:"Tonga"},{id:"tt",name:"Trinidad and Tobago"},{id:"tn",name:"Tunisia"},{id:"tr",name:"Turkey"},{id:"tm",name:"Turkmenistan"},{id:"tc",name:"Turks & Caicos Islands"},{id:"tv",name:"Tuvalu"},{id:"vg",name:"U.K. Virgin Islands"},{id:"vi",name:"U.S. Virgin Islands"},{id:"us",name:"U.S.A."},{id:"ug",name:"Uganda"},{id:"ua",name:"Ukraine"},{id:"ae",name:"United Arab Emirates"},{id:"gb",name:"United Kingdom"},{id:"um",name:"United States Minor Outlying Islands"},{id:"uy",name:"Uruguay"},{id:"uz",name:"Uzbekistan"},{id:"vu",name:"Vanuatu"},{id:"va",name:"Vatican City"},{id:"ve",name:"Venezuela"},{id:"vn",name:"Vietnam"},{id:"wf",name:"Wallis and Futuna"},{id:"ye",name:"Yemen"},{id:"zm",name:"Zambia"},{id:"zw",name:"Zimbabwe"}]},{}],59:[function(a,b,c){"use strict";b.exports=[{value:"aparthotel",label:"Aparthotel",translationId:"select.type.APARTHOTEL"},{value:"apartment",label:"Apartment",translationId:"select.type.APARTMENT"},{value:"bed-and-breakfast",label:"Bed and breakfast",translationId:"select.type.BED_AND_BREAKFAST"},{value:"boat",label:"Boat",translationId:"select.type.BOAT"},{value:"campsite",label:"Campsite",translationId:"select.type.CAMPSITE"},{value:"chalet",label:"Chalet",translationId:"select.type.CHALET"},{value:"country-house",label:"Country house",translationId:"select.type.COUNTRY_HOUSE"},{value:"farm-stay",label:"Farm stay",translationId:"select.type.FARM_STAY"},{value:"guest-house",label:"Guest house",translationId:"select.type.GUEST_HOUSE"},{value:"vacation-rental",label:"vacation-rental",translationId:"select.type.VACATION_RENTAL"},{value:"holiday-home",label:"Holiday home",translationId:"select.type.HOLIDAY_HOME"},{value:"holiday-park",label:"Holiday park",translationId:"select.type.HOLIDAY_PARK"},{value:"hostel",label:"Hostel",translationId:"select.type.HOSTEL"},{value:"hotel",label:"Hotel",translationId:"select.type.HOTEL"},{value:"inns",label:"Inns",translationId:"select.type.INNS"},{value:"lodge",label:"Lodge",
translationId:"select.type.LODGE"},{value:"motel",label:"Motel",translationId:"select.type.MOTEL"},{value:"resort",label:"Resort",translationId:"select.type.RESORT"},{value:"riad",label:"Riad",translationId:"select.type.RIAD"},{value:"ryokan",label:"Ryokan",translationId:"select.type.RYOKAN"},{value:"luxury-tent",label:"Luxury tent",translationId:"select.type.LUXURY_TENT"},{value:"villa",label:"Villa",translationId:"select.type.VILLA"},{value:"other",label:"Other",translationId:"select.type.OTHER"}]},{}],60:[function(a,b,c){"use strict";b.exports={reserved:{text:"Reserved",value:"Reserved"},checkedIn:{text:"Checked In",value:"CheckedIn"},checkedOut:{text:"Checked Out",value:"CheckedOut"},notAvailable:{text:"Not Available",value:"NotAvailable"},synced:{text:"Synced",value:"Synced"},cancelled:{text:"Cancelled",value:"Cancelled"}}},{}],61:[function(a,b,c){"use strict";b.exports={encodeQueryString:function(a){if(!a)return"";for(var b=[],c=Object.keys(a).sort(),d=0;d<c.length;d++){var e=c[d],f=[];"[object Array]"===Object.prototype.toString.call(a[e])?f=a[e]:f.push(a[e]);for(var g=0;g<f.length;g++)b.push(encodeURIComponent(e)+"="+encodeURIComponent(f[g]))}return b.join("&")},parseQueryString:function(a){"?"===a.charAt(0)&&(a=a.substring(1));for(var b=a.split("&"),c={},d=0;d<b.length;d++){var e=b[d].split("="),f=e[0]&&decodeURIComponent(e[0]),g=e[1]&&decodeURIComponent(e[1]);"undefined"!=typeof c[f]?("string"==typeof c[f]&&(c[f]=[c[f]]),c[f].push(g)):c[f]=g}return c}}},{}],62:[function(a,b,c){b.exports=function(a){"use strict";return/^\/\//.test(a)?["http:"+a+"**","https:"+a+"**"]:[a+"**"]}},{}]},{},[14]),function(){function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}return a}()({1:[function(a,b,c){!function(){"use strict";function a(a,b,c){var d={"x-wix-instance":c.Utils.getInstance()};return a(b.apiUrl+"/room-amenities",{},{query:{method:"GET",isArray:!0,headers:d},save:{method:"POST",headers:d}})}a.$inject=["$resource","clientConfig","$wix"],angular.module("hotel.common").factory("amenitiesApi",a)}()},{}],2:[function(a,b,c){"use strict";angular.module("hotel.common").factory("translationsAdapter",function(){return{arrayToDict:function(a){var b={};return angular.forEach(a,function(a){var c=a.key,d=a.type;c&&d&&angular.forEach(a,function(a,e){"key"!==e&&"type"!==e&&(b[d]||(b[d]={}),b[d][c]||(b[d][c]={}),b[d][c][e]=a)})}),b},dictToArray:function(a){var b=[];return angular.forEach(a,function(a,c){angular.forEach(a,function(a,d){var e={};e.key=d,e.type=c,angular.forEach(a,function(a,b){e[b]=a}),b.push(e)})}),b}}})},{}],3:[function(a,b,c){"use strict";angular.module("hotel.common").factory("translationsApi",["$resource","clientConfig","$wix",function(a,b,c){var d={"x-wix-instance":c.Utils.getInstance()},e=b.apiUrl,f=a(e+"/localizations/languages/:langId/:action",null,{query:{method:"GET",headers:d,isArray:!0},remove:{method:"DELETE",headers:d},update:{method:"POST",headers:d}}),g=a(e+"/localizations",null,{get:{method:"GET",headers:d,isArray:!1},update:{method:"PUT",headers:d,isArray:!0}});return{languages:f,translations:g}}])},{}],4:[function(a,b,c){a("./script-loader.js"),a("./api/translations-api.js"),a("./api/translations-adapter.srvc.js"),a("./api/amenities-api.srvc.js"),a("./form/regexp.js"),a("./form/focus-on.dir.js"),a("./form/trigger.dir.js"),a("./currency/currency.fltr.js"),a("./currency/currencies.list.js"),a("./currency/currency-helpers.js"),a("./form/errors.dir.js")},{"./api/amenities-api.srvc.js":1,"./api/translations-adapter.srvc.js":2,"./api/translations-api.js":3,"./currency/currencies.list.js":5,"./currency/currency-helpers.js":6,"./currency/currency.fltr.js":7,"./form/errors.dir.js":8,"./form/focus-on.dir.js":9,"./form/regexp.js":10,"./form/trigger.dir.js":11,"./script-loader.js":12}],5:[function(a,b,c){"use strict";angular.module("hotel.common").constant("currenciesList",a("../../src/constants/currencies"))},{"../../src/constants/currencies":13}],6:[function(a,b,c){angular.module("hotel.common").factory("currencyHelpers",["currenciesList",function(a){"use strict";function b(b){if(b){var c=a[b];return c?0===c.decimals:null}return null}return{isZeroDecimal:b}}])},{}],7:[function(a,b,c){angular.module("hotel.common").filter("currency",function(){"use strict";return a("../../src/currency").format})},{"../../src/currency":14}],8:[function(a,b,c){!function(){"use strict";function a(){return{restrict:"E",priority:1,transclude:!0,template:'<ng-messages for="field.$error" ng-show="field.$dirty || isSubmitted()" ng-transclude></ng-messages>',scope:{},require:"^form",link:function(a,b,c,d){a.$parent.$watch(c["for"],function(b){a.field=b}),a.isSubmitted=function(){for(var a=d.$$parentForm,b=d.$submitted;a&&!b;)b=a.$submitted,a=a.$$parentForm;return b}}}}angular.module("hotel.common").directive("errors",a)}()},{}],9:[function(a,b,c){!function(){"use strict";var a=angular.module("hotel.common");a.directive("focusOn",["$parse",function(a){return{restrict:"A",link:function(b,c,d){var e=[];d.$observe("focusOn",function(c){e=a(c)(b),e&&e.constructor!==Array&&(e=[e])}),b.$on("focus-on",function(a,b){e.indexOf(b)>-1&&(c[0].focus(),c.triggerHandler("focus"))})}}}]),a.factory("focus",["$rootScope","$timeout",function(a,b){return function(c,d){return d=d||a,b(function(){return d.$broadcast("focus-on",c)})}}])}()},{}],10:[function(a,b,c){"use strict";angular.module("hotel.common").constant("regexConst",{email:/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/i,phone:/^[0-9\(\)\-\/\+\s]+$/i})},{}],11:[function(a,b,c){!function(){"use strict";var a=angular.module("hotel.common");a.directive("triggerOn",["$parse",function(a){return{restrict:"A",link:function(b,c,d){var e=[],f=[],g=!1,h={};d.$observe("triggerOn",function(c){var d,f;for(e=a(c)(b),e&&e.constructor!==Array&&(e=[e]),f=e.length-1;f>-1;f--)e[f].constructor===Array&&(d=e.splice(f,1)[0],h[d[0]]=d[1])}),d.$observe("triggerHandler",function(c){f=a(c)(b),f&&f.constructor!==Array&&(f=[f])}),d.$observe("triggerBubble",function(){g=!0}),b.$on("trigger-on",function(a,b){var d=g?"trigger":"triggerHandler";if(e.indexOf(b)>-1){var i,j;for(i=0,j=f.length;j>i;i++)c[d](f[i])}h[b]&&c[d](h[b])})}}}]),a.factory("trigger",["$rootScope","$timeout",function(a,b){return function(c,d){return d=d||a,b(function(){return d.$broadcast("trigger-on",c)})}}])}()},{}],12:[function(a,b,c){!function(){"use strict";function a(a,b,c,d){function e(e,g){function h(){a[g]?(b.cancel(k),i()):k=b(h,d)}function i(){return j.resolve(a[g]),j.promise}var j=c.defer();if(a[g])return i(a[g]);var k=b(h,d);return f(e),j.promise}function f(a){var b=g.createElement("script");b.src=a;var c=g.body||g.documentElement;return c.appendChild(b),b}var g=a.document;return{load:e}}a.$inject=["$window","$timeout","$q","scriptLoaderInterval"],angular.module("hotel.common").constant("scriptLoaderInterval",50).factory("scriptLoader",a)}()},{}],13:[function(a,b,c){"use strict";b.exports={AUD:{decimals:2,label:"Australian Dollar",symbol:"A$"},BRL:{decimals:2,label:"Brazilian Real",symbol:"R$"},CAD:{decimals:2,label:"Canadian Dollar",symbol:"C$"},DKK:{decimals:2,label:"Danish Krone",symbol:"kr.",after:!0},EUR:{decimals:2,label:"Euro",symbol:"€"},HKD:{decimals:2,label:"Hong Kong Dollar",symbol:"HK$"},JPY:{decimals:0,label:"Japanese Yen",symbol:"¥"},MYR:{decimals:2,label:"Malaysian Ringgit",symbol:"RM"},NOK:{decimals:2,label:"Norwegian Krone",symbol:"kr",after:!0},NZD:{decimals:2,label:"New Zealand Dollar",symbol:"NZ$"},PLN:{decimals:2,label:"Polish Złoty",symbol:"zł",after:!0},GBP:{decimals:2,label:"British Pound",symbol:"£"},SEK:{decimals:2,label:"Swedish Krona",symbol:"kr",after:!0},CHF:{decimals:2,label:"Swiss Franc",symbol:"Fr."},THB:{decimals:2,label:"Thai Baht",symbol:"฿"},USD:{decimals:2,label:"United States Dollar",symbol:"$"},INR:{decimals:2,label:"Indian Rupee",symbol:"Rs"},UZS:{decimals:2,label:"Uzbekistani Som",symbol:"UZS",after:!0},VEF:{decimals:2,label:"Venezuelan Bolívar",symbol:"Bs"},ILS:{decimals:2,label:"Israeli New Sheqel",symbol:"₪"},ZAR:{decimals:2,label:"South African Rand",symbol:"R"},MXN:{decimals:2,label:"Mexican Peso",symbol:"Mex$"},RUB:{decimals:2,label:"Russian Ruble",symbol:"руб",after:!0},UAH:{decimals:2,label:"Ukrainian Hryvnia",symbol:"грн",after:!0},CLP:{decimals:0,label:"Chilean Peso",symbol:"CLP",after:!0},TWD:{decimals:2,label:"New Taiwan Dollar",symbol:"NT$"},ISK:{decimals:0,label:"Icelandic Króna",symbol:"Íkr",after:!0},CZK:{decimals:2,label:"Czech Koruna",symbol:"Kč",after:!0},HUF:{decimals:2,label:"Hungarian Forint",symbol:"Ft",after:!0},PHP:{decimals:2,label:"Philippine Peso",symbol:"₱",after:!0},SGD:{decimals:2,label:"Singapore Dollar",symbol:"S$"},TRY:{decimals:2,label:"Turkish Lira",symbol:"₺",after:!0},COP:{decimals:2,label:"Colombian Peso",symbol:"Col$"},ARS:{decimals:2,label:"Argentine Peso",symbol:"ARS",after:!0},KRW:{decimals:0,label:"South Korean Won",symbol:"₩"},PEN:{decimals:2,label:"Peruvian Nuevo Sol",symbol:"S/."},UYU:{decimals:2,label:"Uruguayan Peso",symbol:"$U"},PYG:{decimals:0,label:"Paraguayan Guaraní",symbol:"₲",after:!0},BOB:{decimals:2,label:"Bolivian Boliviano",symbol:"Bs.",after:!0},PAB:{decimals:2,label:"Panamanian Balboa",symbol:"B/."},CRC:{decimals:2,label:"Costa Rican Colón",symbol:"₡"},IDR:{decimals:2,label:"Indonesian Rupiah",symbol:"Rp"},NGN:{decimals:2,label:"Nigerian Naira",symbol:"₦"},OMR:{decimals:3,label:"Omani Rial",symbol:"ر.ع."},KES:{decimals:2,label:"Kenyan Shilling",symbol:"KSh"},BGN:{decimals:2,label:"Bulgarian Lev",symbol:"лв."},TOP:{decimals:2,label:"Tongan Paʻanga",symbol:"T$"},AED:{decimals:2,label:"United Arab Emirates Dirham",symbol:"د.إ"},VND:{decimals:0,label:"Vietnamese Dong",symbol:"₫"},SBD:{decimals:2,label:"Solomon Islands Dollar",symbol:"SI$"},GHS:{decimals:2,label:"Ghanaian Cedi",symbol:"GH₵"},AFN:{decimals:2,label:"Afghan Afghani",symbol:"AFN",after:!0},DZD:{decimals:2,label:"Algerian Dinar",symbol:"DZD",after:!0},AMD:{decimals:2,label:"Armenian Dram",symbol:"AMD",after:!0},AWG:{decimals:2,label:"Aruban Guilder",symbol:"AWG",after:!0},AZN:{decimals:2,label:"Azerbaijan Manat",symbol:"AZN",after:!0},BSD:{decimals:2,label:"Bahamian Dollar",symbol:"BSD",after:!0},BHD:{decimals:2,label:"Bahraini Dinar",symbol:"BHD",after:!0},BBD:{decimals:2,label:"Barbados Dollar",symbol:"BBD",after:!0},BYR:{decimals:2,label:"Belarussian Ruble",symbol:"BYR",after:!0},BZD:{decimals:2,label:"Belize Dollar",symbol:"BZD",after:!0},BMD:{decimals:2,label:"Bermudian Dollar",symbol:"BMD",after:!0},BND:{decimals:2,label:"Brunei Dollar",symbol:"BND",after:!0},BIF:{decimals:2,label:"Burundi Franc",symbol:"BIF",after:!0},CVE:{decimals:2,label:"Cape Verde Escudo",symbol:"CVE",after:!0},KYD:{decimals:2,label:"Cayman Islands Dollar",symbol:"KYD",after:!0},GHC:{decimals:2,label:"Cedi",symbol:"GHC",after:!0},XOF:{decimals:2,label:"CFA Franc BCEAO",symbol:"XOF",after:!0},XAF:{decimals:2,label:"CFA Franc BEAC",symbol:"XAF",after:!0},XPF:{decimals:2,label:"CFP Franc",symbol:"XPF",after:!0},KMF:{decimals:2,label:"Comoro Franc",symbol:"KMF",after:!0},BAM:{decimals:2,label:"Convertible Mark",symbol:"BAM",after:!0},NIO:{decimals:2,label:"Cordoba Oro",symbol:"NIO",after:!0},HRK:{decimals:2,label:"Croatian Kuna",symbol:"HRK",after:!0},GMD:{decimals:2,label:"Dalasi",symbol:"GMD",after:!0},DJF:{decimals:2,label:"Djibouti Franc",symbol:"DJF",after:!0},STD:{decimals:2,label:"Dobra",symbol:"STD",after:!0},DOP:{decimals:2,label:"Dominican Peso",symbol:"DOP",after:!0},XCD:{decimals:2,label:"East Carribbean Dollar",symbol:"XCD",after:!0},EGP:{decimals:2,label:"Egyptian Pound",symbol:"EGP",after:!0},ETB:{decimals:2,label:"Ethiopian Birr",symbol:"ETB",after:!0},FKP:{decimals:2,label:"Falkland Islands Pound",symbol:"FKP",after:!0},FJD:{decimals:2,label:"Fiji Dollar",symbol:"FJD",after:!0},CDF:{decimals:2,label:"Franc Congolais",symbol:"CDF",after:!0},GIP:{decimals:2,label:"Gibraltar Pound",symbol:"GIP",after:!0},HTG:{decimals:2,label:"Gourde",symbol:"HTG",after:!0},GNF:{decimals:2,label:"Guinea Franc",symbol:"GNF",after:!0},GYD:{decimals:2,label:"Guyana Dollar",symbol:"GYD",after:!0},JMD:{decimals:2,label:"Jamaican Dollar",symbol:"JMD",after:!0},JOD:{decimals:2,label:"Jordanian Dinar",symbol:"JOD",after:!0},PGK:{decimals:2,label:"Kina",symbol:"PGK",after:!0},LAK:{decimals:2,label:"Kip",symbol:"LAK",after:!0},KWD:{decimals:2,label:"Kuwaiti Dinar",symbol:"KWD",after:!0},MWK:{decimals:2,label:"Kwacha",symbol:"MWK",after:!0},ZMK:{decimals:2,label:"Kwacha",symbol:"ZMK",after:!0},AOA:{decimals:2,label:"Kwanza",symbol:"AOA",after:!0},MMK:{decimals:2,label:"Kyat",symbol:"MMK",after:!0},GEL:{decimals:2,label:"Lari",symbol:"GEL",after:!0},LBP:{decimals:2,label:"Lebanese Pound",symbol:"LBP",after:!0},ALL:{decimals:2,label:"Lek",symbol:"ALL",after:!0},HNL:{decimals:2,label:"Lempira",symbol:"HNL",after:!0},SLL:{decimals:2,label:"Leone",symbol:"SLL",after:!0},ROL:{decimals:2,label:"Leu",symbol:"ROL",after:!0},LRD:{decimals:2,label:"Liberian Dollar",symbol:"LRD",after:!0},LYD:{decimals:2,label:"Libyan dinar",symbol:"LYD",after:!0},SZL:{decimals:2,label:"Lilangeni",symbol:"SZL",after:!0},LSL:{decimals:2,label:"Loti",symbol:"LSL",after:!0},MKD:{decimals:2,label:"Macedonian Denar",symbol:"MKD",after:!0},MGA:{decimals:2,label:"Malagasy Ariary",symbol:"MGA",after:!0},TMM:{decimals:2,label:"Manat",symbol:"TMM",after:!0},MUR:{decimals:2,label:"Mauritius Rupee",symbol:"MUR",after:!0},MZM:{decimals:2,label:"Metical",symbol:"MZM",after:!0},MDL:{decimals:2,label:"Moldovan Leu",symbol:"MDL",after:!0},MAD:{decimals:2,label:"Moroccan Dirham",symbol:"MAD",after:!0},MZN:{decimals:2,label:"Mozambican Metical",symbol:"MZN",after:!0},ERN:{decimals:2,label:"Nakfa",symbol:"ERN",after:!0},NAD:{decimals:2,label:"Namibian Dollar",symbol:"NAD",after:!0},NPR:{decimals:2,label:"Nepalese Rupee",symbol:"NPR",after:!0},ANG:{decimals:2,label:"Netherlands Antillan Guilder",symbol:"ANG",after:!0},BTN:{decimals:2,label:"Ngultrum",symbol:"BTN",after:!0},MRO:{decimals:2,label:"Ouguiya",symbol:"MRO",after:!0},PKR:{decimals:2,label:"Pakistan Rupee",symbol:"PKR",after:!0},MOP:{decimals:2,label:"Pataca",symbol:"MOP",after:!0},BWP:{decimals:2,label:"Pula",symbol:"BWP",after:!0},QAR:{decimals:2,label:"Qatari Rial",symbol:"QAR",after:!0},GTQ:{decimals:2,label:"Quetzal",symbol:"GTQ",after:!0},KHR:{decimals:2,label:"Riel",symbol:"KHR",after:!0},RON:{decimals:2,label:"Romanian Lei",symbol:"RON",after:!0},MVR:{decimals:2,label:"Rufiyaa",symbol:"MVR",after:!0},RWF:{decimals:2,label:"Rwanda Franc",symbol:"RWF",after:!0},SHP:{decimals:2,label:"Saint Helena Pound",symbol:"SHP",after:!0},SAR:{decimals:2,label:"Saudi Riyal",symbol:"SAR",after:!0},RSD:{decimals:2,label:"Serbian Dinar",symbol:"RSD",after:!0},SCR:{decimals:2,label:"Seychelles Rupee",symbol:"SCR",after:!0},KGS:{decimals:2,label:"Som",symbol:"KGS",after:!0},SOS:{decimals:2,label:"Somali Shilling",symbol:"SOS",after:!0},TJS:{decimals:2,label:"Somoni",symbol:"TJS",after:!0},LKR:{decimals:2,label:"Sri Lanka Rupee",symbol:"LKR",after:!0},SRD:{decimals:2,label:"Surinamese Dollar",symbol:"SRD",after:!0},BDT:{decimals:2,label:"Taka",symbol:"BDT",after:!0},WST:{decimals:2,label:"Tala",symbol:"WST",after:!0},TZS:{decimals:2,label:"Tanzanian Shilling",symbol:"TZS",after:!0},KZT:{decimals:2,label:"Tenge",symbol:"KZT",after:!0},TTD:{decimals:2,label:"Trinidad and Tobago Dollar",symbol:"TTD",after:!0},TND:{decimals:2,label:"Tunisian Dinar",symbol:"TND",after:!0},TMT:{decimals:2,label:"Turkmenistani Manat",symbol:"TMT",after:!0},UGX:{decimals:2,label:"Uganda Shilling",symbol:"UGX",after:!0},VUV:{decimals:2,label:"Vatu",symbol:"VUV",after:!0},YER:{decimals:2,label:"Yemeni Rial",symbol:"YER",after:!0},CNY:{decimals:2,label:"Yuan Renminbi",symbol:"CNY",after:!0}}},{}],14:[function(a,b,c){"use strict";function d(a){return"number"==typeof a&&!isNaN(a)&&isFinite(a)}function e(a,b){var c,e,g,h,i=f[b],j=parseFloat(a);return d(j)&&i?(g=j.toFixed(0),h=j.toFixed(i.decimals),parseFloat(g)===parseFloat(h)&&(h=g),c=i.after?"":i.symbol,e=i.after?" "+i.symbol:"",c+h+e):a}var f=a("./constants/currencies");b.exports={list:f,format:e}},{"./constants/currencies":13}]},{},[4]),function(){function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}return a}()({1:[function(a,b,c){angular.module("hotel.datepicker",["hotel.translate"]),a("./datepicker/wix-calendar.dir.js"),a("./datepicker/wix-calendar.ctrl.js"),a("./datepicker/debounce.srvc.js"),a("./datepicker/calendar.tpl.js"),a("./datepicker/calendar-day.srvc.js"),a("./datepicker/calendar-common.srvc.js"),a("./datepicker/day-button-aria.dir.js")},{"./datepicker/calendar-common.srvc.js":2,"./datepicker/calendar-day.srvc.js":3,"./datepicker/calendar.tpl.js":5,"./datepicker/day-button-aria.dir.js":6,"./datepicker/debounce.srvc.js":7,"./datepicker/wix-calendar.ctrl.js":8,"./datepicker/wix-calendar.dir.js":9}],2:[function(a,b,c){angular.module("hotel.common").factory("$calendarCommon",["XDate",function(b){"use strict";return a("../../src/datepicker/common")(b)}])},{"../../src/datepicker/common":10}],3:[function(a,b,c){!function(){"use strict";function a(a){function b(a,b){return b&&e.sameDate(b,a)}function c(a,b){return b&&e.sameDate(b,a)}function d(a,d,f,g,h,i,j,k){var l=e.sameMonth(d,a),m=h||l,n=!f||e.isGTE(a,f)&&(!g||e.isLTE(a,g)),o=n&&m&&l;return{"current-month":l,visible:m,selectable:i&&o,selected:b(a,j),focused:c(a,k)}}var e=a;return function(a,b){return{ymd:a.toString("yyyyMMdd"),label:a.getDate(),props:d(a,b.current,b.min,b.max,b.showOtherMonthDays,b.interactive,b.selected,b.focused),date:a}}}a.$inject=["$calendarCommon"],angular.module("hotel.common").factory("calendarDay",a)}()},{}],4:[function(a,b,c){b.exports='<div\n  class="calendar"\n  tabindex="{{ calendar.getTabindex() }}"\n  ng-focus="calendar.onFocus($event)"\n  ng-keydown="calendar.onKeydown($event)">\n  <div class="title" ng-bind="title" aria-live="polite"></div>\n  <nav role="presentation">\n    <button\n      aria-label="{{ \'calendar.PREVIOUS_MONTH\' | translate }}"\n      tabindex="{{ calendar.getInnerTabindex() }}"\n      type="button"\n      class="navigate-left"\n      ng-click="calendar.previous()"></button>\n    <button\n      aria-label="{{ \'calendar.NEXT_MONTH\' | translate }}"\n      tabindex="{{ calendar.getInnerTabindex() }}"\n      type="button"\n      class="navigate-right"\n      ng-click="calendar.next()"></button>\n  </nav>\n  <div class="body">\n    <table role="presentation">\n      <thead ng-if="labels">\n        <tr class="week-days" role="presentation">\n          <th ng-repeat="label in labels" role="presentation">\n            <span aria-label="{{ label.long }}">{{ label.short }}</span>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr role="presentation" ng-if="calendar.haveSpace" class="spacer"></tr>\n        <tr role="presentation" ng-repeat="row in rows">\n          <td role="presentation" ng-repeat="day in row track by day.ymd" ng-class="day.props" class="s-separator">\n            <button\n              day-button-aria="day"\n              tabindex="-1"\n              type="button"\n              ng-click="calendar.select($event, day)"\n              ng-disabled="!day.props.selectable"\n              ng-if="day.props.visible">\n              <span>&nbsp;{{ day.label }}&nbsp;</span>\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <button ng-if="calendar.hasClose" class="close" ng-click="calendar.close()">\n    <span class="s-field">&times;</span>\n  </button>\n</div>\n'},{}],5:[function(a,b,c){"use strict";angular.module("hotel.common").run(["$templateCache",function(b){b.put("templates/calendar.html",a("./calendar.html"))}])},{"./calendar.html":4}],6:[function(a,b,c){!function(){"use strict";function a(a,b){var c=b("xdate");return{restrict:"A",link:function(b,d,e){b.$watch(function(){return b.$eval(e.dayButtonAria)},function(b){var e="";b&&b.props&&b.props.booked&&(e=a.instant("calendar.day.NOT_AVAILABLE")+", "),d.attr("aria-label",e+c(b.date,"d, dddd MMMM yyyy"))},!0)}}}a.$inject=["$translate","$filter"],angular.module("hotel.datepicker").directive("dayButtonAria",a)}()},{}],7:[function(a,b,c){"use strict";angular.module("hotel.common").factory("debounce",["$timeout",function(a){return function(b,c){var d;return function(){if(!d){var e=arguments;d=a(function(){b.apply(b,e),d=null},c)}}}}])},{}],8:[function(a,b,c){!function(){"use strict";function a(a,g,h,i,j,k,l,m){function n(a,b){var c=angular.isFunction(g.markDate)?g.markDate:function(){return{}},d=l(a,angular.extend({},C,b||{}));return angular.extend(d.props,c({date:d})),d}function o(){g.$emit("calendar:close",h.name)}function p(a,b){g.date=C.selected=a,g.$emit("calendar:select",{date:a,name:h.name,origin:b}),m.log(h.bi,{date:a.toString("yyyy-MM-dd")}),g.whenSelect()}function q(a){var b={39:1,37:-1,40:7,38:-7}[a],c=0>b?-1:1;b&&(r(C.focused.clone().addDays(b),c),w())}function r(a,b){var c=0,d=C.focused.clone(),e=a;for(C.min&&B.isLTE(e,C.min)&&(e=C.min.clone());!n(e,{current:e}).props.selectable;)if(e.addDays(b),c++>99){e=d;break}C.focused=e,C.current=e.clone()}function s(){var b,c=[".focused button",".selected button",".selectable button"];if(z()){for(var d=0;d<c.length;d++)if(b=a[0].querySelector(c[d])){b.focus();break}}else y()?a[0].querySelector(".navigate-left").focus():x()?a[0].querySelector(".navigate-right").focus():A()&&a[0].querySelector(".close").focus()}function t(){C.current.addMonths(1,!0),g.$emit("calendar:changeMonth",{date:C.current.clone()})}function u(){C.current.addMonths(-1,!0),g.$emit("calendar:changeMonth",{date:C.current.clone()})}function v(a,b){for(var c=[];b&&a.length;)c.push(a.splice(0,b));return c}function w(){g.title=C.current.toString("MMMM yyyy"),g.labels=C.weekdays(),g.rows=C.rows(),setTimeout(s)}function x(){return D===e}function y(){return D===d}function z(){return D===c}function A(){return D===f}var B=i,C=this,D=b;this.interactive=!0,this.firstDayOfWeek=0,this.showOtherMonthDays=!1,this.selected=null,this.current=new j(j.now(),!0),this.focused=this.current.clone().clearTime().setDate(1),this.min=null,this.max=null,this.hasClose=!1,h.$observe("interactive",function(a){C.interactive=g.$eval(a),w()}),h.$observe("firstDayOfWeek",function(a){C.firstDayOfWeek=+g.$eval(a)||0,w()}),h.$observe("redrawTrigger",w),h.$observe("showOtherMonthDays",function(a){C.showOtherMonthDays=g.$eval(a),w()}),h.$observe("min",function(a){var b=+g.$eval(a)||0;C.min=new j(b,!0),(b>C.current.getTime()||!C.selected&&b)&&(C.current=C.min.clone()),b>C.focused.getTime()&&(C.focused=C.min.clone()),w()}),h.$observe("haveSpace",function(a){C.haveSpace=""===a||"true"===a}),h.$observe("hasClose",function(a){C.hasClose=""===a||"true"===a}),k.$on("$translateChangeSuccess",w),this.weekdays=function(){return B.weekdays(this.firstDayOfWeek,"both")},this.rows=function(){var a=B.page(this.current,this.firstDayOfWeek);return v(a,7).map(function(a){return a.map(n)})},g.$watch("date",function(a){null!==a&&void 0!==a?(C.selected=new j(a,!0),C.current=C.selected.clone(),C.focused=C.selected.clone()):C.selected=null,w()}),this.draw=w,this.onFocus=function(){D=c,s()},this.select=function(a,b){var c=a.originalEvent;c&&6===c.mozInputSource||p(b.date,"pointer")},this.next=function(){t(),w()},this.previous=function(){u(),w()},this.getTabindex=function(){return C.interactive?0:void 0},this.getInnerTabindex=function(){return C.interactive?-1:0},this.onKeydown=function(a){if(!C.interactive)return!1;var g=a.which;switch(g){case 9:z()?D=C.hasClose?f:d:y()?D=e:x()?D=c:A()&&(D=d),s();break;case 27:o(),document.activeElement.blur(),D=b;break;case 32:case 13:z()?(p(C.focused.clone(),"keyboard"),setTimeout(s)):x()?(t(),r(C.current.clone().setDate(1),1),w()):y()?(u(),r(C.current.clone().setDate(1),-1),w()):A()&&o();break;case 39:case 37:case 40:case 38:z()&&q(g)}return a.preventDefault(),!1},this.close=o,D=c,s()}a.$inject=["$element","$scope","$attrs","$calendarCommon","XDate","$rootScope","calendarDay","bi"];var b=1,c=2,d=3,e=4,f=5;angular.module("hotel.common").controller("WixCalendarCtrl",a)}()},{}],9:[function(a,b,c){!function(){"use strict";function a(){return{restrict:"EA",replace:!0,templateUrl:"templates/calendar.html",scope:{date:"=",whenSelect:"&",markDate:"&",min:"@",max:"@",redrawTrigger:"@",showOtherMonthDays:"@",haveSpace:"@"},controller:"WixCalendarCtrl",controllerAs:"calendar"}}angular.module("hotel.datepicker").directive("wixCalendar",a)}()},{}],10:[function(a,b,c){"use strict";b.exports=function(a){function b(b,c){for(var d=[],e=+b,f=+c;f>=e;e=new a(e,!0).addDays(1).getTime())d.push(new a(e,!0));return d}function c(b){for(var c=a.locales[a.defaultLocale],d=[],e=b,f=e+7;f>e;e++)d.push({"long":c.dayNames[e%7],"short":c.dayNamesShort[e%7]});return d}function d(a,b){return b=b||"short",c(a).map(function(a){return b in a?a[b]:a})}function e(a,b,c){return h(a,b)&&i(a,c)}function f(b,c){return b instanceof a&&c instanceof a&&b.getFullYear()===c.getFullYear()&&b.getMonth()===c.getMonth()}function g(b,c){return b instanceof a&&c instanceof a&&b.getFullYear()===c.getFullYear()&&b.getMonth()===c.getMonth()&&b.getDate()===c.getDate()}function h(a,b){return b.diffDays(a)>-1}function i(a,b){return a.diffDays(b)>-1}function j(c){var d=c.getFullYear(),e=c.getMonth(),f=new Date(d,e+1,0).getDate(),g=new a(d,e,1,0,0,0,!0),h=new a(d,e,f,0,0,0,!0);return b(g,h)}function k(a,c){var d=j(a),e=[],f=[],g=(7+c)%7||7,k=(g+6)%7;c=c||0;var l=d[0].clone();l.getDay()!==g&&l.addDays(-(l.getDay()+7-g)%7);var m=d[d.length-1].clone(),n=m.getDay();return n!==k&&m.addDays((k+7-n)%7),i(l,d[0])&&(e=b(l,d[0])),h(m,d[d.length-1])&&(f=b(d[d.length-1],m)),e.concat(d.slice(1,d.length-1),f)}return{fromTo:b,weekdays:d,between:e,sameMonth:f,sameDate:g,isGTE:h,isLTE:i,month:j,page:k}}},{}]},{},[1]),function(){"use strict";function a(a,b){if(void 0===window.fedopsAppName)throw new Error("FedOps MUST BE RUNNING!");"string"==typeof window.fedopsAppName?b.setAppName(window.fedopsAppName):b.setDisableAutoLoadFinish(),a.decorator("$window",["$delegate",function(a){var b=a;return b["goto"]=function(a){b.location.replace(a)},b}])}a.$inject=["$provide","fedopsLoggerProvider"],angular.module("hotel",["ngResource","pascalprecht.translate","fedops","ngRaven"]).config(a)}(),angular.module("booking",["hotel","hotel.datepicker","hotel.state","ui.router","ngSanitize"]).config(["$stateProvider",function(a){a.state("accessDenied",{errorState:!0,templateUrl:"views/denied.html"}).state("fatalError",{errorState:!0,templateUrl:"views/error.html"})}]).run(["$rootScope","$state",function(a,b){a.$on("$hotelsAccessException",function(){b.go("accessDenied")}),a.$on("$hotelsFatalException",function(){b.go("fatalError")})}]).run(["$wix","Raven",function(a,b){b.setUserContext({id:a.Extensions.getUid()||a.Utils.getInstance()})}]).run(["$rootScope","$location","$wix","$state","refresher","$window","hotelState",function(a,b,c,d,e,f,g){d.getByAlias=function(a){for(var b=d.get(),c=null,e=0;e<b.length;e++)b[e].alias===a&&(c=b[e]);return c};var h=!0;a.$on("$stateChangeSuccess",function(e,f,g,i){var j=b.url().replace(/^\//g,"");d.current.noPush||(h?h=!1:c.pushState(j));var k=c.Utils.getSectionUrl()||"";if(-1===k.indexOf("#!")&&(k=(c.Utils.getSectionUrl()||"").replace(/\?.*$/,"")),"/"!==k.charAt(k.length-1)&&(k+="/"),-1===k.indexOf("#!")){j=encodeURIComponent(j).replace(/\%2F/g,"/");var l=(c.Utils.getSectionUrl()||"").match(/\?.*$/,"");l&&l[0]&&(j+=l[0].replace(/\/$/,""))}a.returnURL=k+j,d.previous=i}),a.demo=function(){return 0===g.roomCount&&c.Extensions.inTemplate()},window.jasmine||window.scenario||d.current.modal||e.watchForChange(function(){f.location.reload()})}]),angular.module("hotel").directive("bindHtmlUnsafe",function(){return function(a,b,c){b.addClass("ng-binding").data("$binding",c.bindHtmlUnsafe),a.$watch(c.bindHtmlUnsafe,function(a){b.html(a||"")})}}),angular.module("hotel").factory("$position",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!==a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}},positionElements:function(a,b,c,d){var e,f,g,h,i=c.split("-"),j=i[0],k=i[1]||"center";e=d?this.offset(a):this.position(a),f=b.prop("offsetWidth"),g=b.prop("offsetHeight");var l={center:function(){return e.left+e.width/2-f/2},left:function(){return e.left},right:function(){return e.left+e.width}},m={center:function(){return e.top+e.height/2-g/2},top:function(){return e.top},bottom:function(){return e.top+e.height}};switch(j){case"right":h={top:m[k](),left:l[j]()};break;case"left":h={top:m[k](),left:e.left-f};break;case"bottom":h={top:m[j](),left:l[k]()};break;default:h={top:e.top-g,left:l[k]()}}return h}}}]),angular.module("hotel").provider("$tooltip",function(){function a(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}var b={placement:"top",animation:!0,popupDelay:0},c={mouseenter:"mouseleave",click:"click",focus:"blur"},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(e,f,g,h,i,j,k){return function(e,l,m){function n(a){var b=a||o.trigger||m,d=c[b]||b;return{show:b,hide:d}}var o=angular.extend({},b,d),p=a(e),q=k.startSymbol(),r=k.endSymbol(),s="<div "+p+'-popup title="'+q+"tt_title"+r+'" content="'+q+"tt_content"+r+'" placement="'+q+"tt_placement"+r+'" animation="tt_animation" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:!0,compile:function(){var a=f(s);return function(b,c,d){function f(){b.tt_isOpen?m():k()}function k(){(!z||b.$eval(d[l+"Enable"]))&&(b.tt_popupDelay?(w=g(p,b.tt_popupDelay,!1),w.then(function(a){a()})):p()())}function m(){b.$apply(function(){q()})}function p(){return b.tt_content?(r(),v&&g.cancel(v),u.css({top:0,left:0,display:"block"}),x?i.find("body").append(u):c.after(u),A(),b.tt_isOpen=!0,b.$digest(),A):angular.noop}function q(){b.tt_isOpen=!1,g.cancel(w),b.tt_animation?v=g(s,500):s()}function r(){u&&s(),u=a(b,function(){}),b.$digest()}function s(){u&&(u.remove(),u=null)}function t(a){a.split(/ +/).filter(function(a){return a}).forEach(function(a){E(a,!0)})}var u,v,w,x=angular.isDefined(o.appendToBody)?o.appendToBody:!1,y=n(void 0),z=angular.isDefined(d[l+"Enable"]),A=function(){var a=j.positionElements(c,u,b.tt_placement,x);a.top+="px",a.left+="px",u.css(a)};b.tt_isOpen=!1,d.$observe(e,function(a){b.tt_content=a,!a&&b.tt_isOpen&&q()}),d.$observe(l+"Title",function(a){b.tt_title=a});
var B=function(a){b.tt_placement=angular.isDefined(a)?a:o.placement};d.$observe(l+"Placement",B),B();var C=function(a){var c=parseInt(a,10);b.tt_popupDelay=isNaN(c)?o.popupDelay:c};d.$observe(l+"PopupDelay",C),C();var D=function(){c.unbind(y.show,k),c.unbind(y.hide,m)},E=function(a,b){b||D(),y=n(a),y.show===y.hide?c.bind(y.show,f):(c.bind(y.show,k),c.bind(y.hide,m))};d.$observe(l+"Trigger",E),d.$observe(l+"Triggers",t),E();var F=b.$eval(d[l+"Animation"]);b.tt_animation=angular.isDefined(F)?!!F:o.animation,d.$observe(l+"AppendToBody",function(a){x=angular.isDefined(a)?h(a)(b):x}),x&&b.$on("$locationChangeSuccess",function(){b.tt_isOpen&&q()}),b.$on("$destroy",function(){g.cancel(v),g.cancel(w),D(),s()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(a){return a("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(a){return a("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("hotel").directive("googleMap",["$window","$wix",function(a,b){return{restrict:"A",link:function(c,d,e){var f=a.google;e.$observe("coords",function(a){var e=c.$eval(a),g=15,h=new f.maps.Map(d[0],{zoom:g,center:e,disableDefaultUI:!0});h.setOptions({zoomControl:!0,draggable:!1,scrollwheel:!1,navigationControl:!1,mapTypeControl:!1,scaleControl:!1,disableDoubleClickZoom:!0,mapTypeId:f.maps.MapTypeId.ROADMAP});var i="#9dbbdf",j="rgb(157, 186, 223)",k=b.Styles.getStyleParams();k&&(i=k.colors.separatorColor?k.colors.separatorColor.value:b.Styles.getColorByreference("tolor-6").value,k.colors.buttonColor?j=k.colors.buttonColor.value:i=b.Styles.getColorByreference("color-8").value);var l={path:f.maps.SymbolPath.CIRCLE,fillOpacity:.6,fillColor:j,strokeOpacity:1,strokeColor:i,strokeWeight:1,scale:40},m=new f.maps.Marker({icon:l,position:e});m.setMap(h)})}}}]),angular.module("hotel").directive("scrollTop",["$wix",function(a){return{restrict:"A",link:function(){a.getBoundingRectAndOffsets(function(b){b.rect.top<0&&a.scrollTo(b.offsets.x,b.offsets.y)})}}}]),function(){"use strict";var a=angular.module("hotel");a.directive("wixSpinner",["$window","$compile","$parse","$timeout","bi",function(a,b,c,d,e){function f(a){return"number"==typeof a&&!isNaN(a)}return{restrict:"EA",replace:!0,templateUrl:"views/calendar/spinner.html",scope:{ngModel:"=",placeholder:"@",label:"@"},link:function(a,g,h){function i(){var b={value:a.ngModel};return h.biArgs&&(b=angular.extend(b,a.$parent.$eval(h.biArgs))),b}var j=g.parent(),k=g.find(".up"),l=g.find(".down"),m="true"===h.outsideArrows||"outsideArrows"in h,n=-(1/0),o=1/0;m&&(j.append(k.remove()),j.append(l.remove()),k.attr("tabindex","0"),l.attr("tabindex","0"),b(k)(a),b(l)(a)),g.attr("role",h.role||"slider"),a.isNumber=function(){return f(a.ngModel)},h.$observe("max",function(b){void 0!==b&&""!==b&&(o=c(h.max)(a),g.attr("aria-valuemax",o))}),h.$observe("min",function(b){void 0!==b&&""!==b&&(n=c(h.min)(a),g.attr("aria-valuemin",n))}),a.up=function(b){if(b.preventDefault(),f(o)&&a.ngModel<o)a.ngModel++,d(function(){a.$parent.$eval(h.onChange)});else if(void 0===a.ngModel){var c=Math.abs(n)!==1/0&&f(n)?n:0;a.ngModel=c}e.log(h.bi,i())},a.down=function(b){b.preventDefault(),f(n)&&a.ngModel>n&&(a.ngModel--,d(function(){a.$parent.$eval(h.onChange)})),e.log(h.bi,i())},a.isMax=function(){return o<=a.ngModel},a.isMin=function(){return n===a.ngModel||!f(a.ngModel)},g.bind("keydown",function(b){switch(b.keyCode){case 39:case 38:a.up(b);break;case 37:case 40:a.down(b)}a.$digest()})}}}])}(),angular.module("hotel").directive("stickyComponent",["$wix","$document","experiments","$window",function(a,b,c,d){return{restrict:"A",link:function(c,e){function f(){c.$apply(function(){h||(h=e[0].getBoundingClientRect().top);var a=b[0].body.clientHeight-i-35,c=Math.min(g.scrollTop-g.y,a);c=Math.max(c,h),c!==h&&a>c&&(c-=Math.min(115,c-h)),e.css("top",c+"px")})}var g={},h=0,i=e[0].clientHeight;a.addEventListener(a.Events.SCROLL,function(a){g=a,f()}),d.setInterval(function(){e[0].clientHeight!==i&&(i=e[0].clientHeight,f())},500)}}}]),function(){"use strict";function a(a,b){return{restrict:"EA",scope:{ngModel:"=",placeholder:"@",value:"@",min:"@",max:"@",bi:"@",redrawTrigger:"@",showOtherMonthDays:"@",showAvailability:"@",firstDayOfWeek:"@",markDate:"&",wixCalendarButton:"@"},replace:!0,templateUrl:"views/calendar/button.html",controller:"WixCalendarButtonCtrl",compile:function(c){var d=angular.element,e=d(c.children()[0]),f=d(c.children()[1]),g=c.parent();return f.remove(),g.append(f),function(c,d,g,h){h.setPopupElement(f),h.setButtonElement(e),b(f)(c),d.bind("keydown",h.onKeyDown),d.bind("mousedown",h.onMouseDown),f.bind("mousedown",h.onPopupMouseDown),a.bind("mousedown",h.onDocumentMouseDown),c.$on("calendar:select",h.onCalendarSelect),c.$on("calendar:close",h.onCalendarClose)}}}}a.$inject=["$document","$compile"],angular.module("hotel").directive("wixCalendarButton",a)}(),angular.module("hotel").directive("wixSetHeight",["$wix","$parse","$window",function(a,b,c){return function(d,e,f){var g,h=+f.wixSetHeightInterval||500;c.setInterval(function(){var c=b(f.wixSetHeight||"height")({height:e[0].clientHeight});g!==c&&(a.setHeight(c),g=c)},h)}}]),angular.module("hotel").directive("roomsPrice",function(){return{restrict:"A",link:function(a,b){a.$watch(function(){var a=b.text().length;a>9?b.css("font-size","20px"):a>7?b.css("font-size","25px"):a>5?b.css("font-size","30px"):b.css("font-size","35px")})}}}),function(){"use strict";function a(a,b){function c(a,b){"editor"===b?a.addClass("visible"):a.removeClass("visible")}return{template:'<p><span translate="general.DOUBLE_CLICK_MESSAGE"></span></p>',link:function(d,e){var f=a.Utils.getViewMode(),g=b.roomCount||b.settingsOK||b.paymentOK;"site"===f||g?e.remove():(c(e,f),a.addEventListener(a.Events.EDIT_MODE_CHANGE,function(a){c(e,a.editMode)}))}}}a.$inject=["$wix","hotelState"],angular.module("hotel").directive("doubleClickMessage",a)}(),function(){"use strict";function a(a){return{scope:{locale:"@"},link:function(b,c,d){var e="www.youtube.com/embed/",f=a[b.locale||"en"]||a.en,g=e+f,h=angular.element("<iframe />"),i=angular.element("<img />");i.bind("click",function(){c.empty(),c.append(h)}),i.attr({src:"images/settings/hotelsvid-"+d.width+".png","class":"thumbnail"}),h.attr({id:"ytplayer",type:"text/html",src:"//"+g+"?autoplay=true&controls=0&showinfo=0&modestbranding=1&rel=0",frameborder:0}),d.$observe("width",function(a){h[0].setAttribute("width",a)}),d.$observe("height",function(a){h[0].setAttribute("height",a)}),c.append(i)}}}a.$inject=["welcomeVideos"],angular.module("hotel").constant("welcomeVideos",{en:"0STTTvtIxIk",es:"0STTTvtIxIk",pt:"0STTTvtIxIk",fr:"0STTTvtIxIk",ru:"0STTTvtIxIk",de:"0STTTvtIxIk",ja:"0STTTvtIxIk"}).directive("welcomeVideo",a)}(),function(){"use strict";function a(a,b){"site"!==b.Utils.getViewMode()||b.Utils.getDemoMode()||a.log("APP_LOADED")}a.$inject=["bi","$wix"],angular.module("hotel").directive("wixBiAppLoaded",function(){return{controller:a}})}(),function(){"use strict";function a(a,b,c){return{scope:{reservation:"=",onResponse:"=",onClose:"=",onError:"=",onOpen:"="},bindToController:!0,controller:function(){function d(){h.processingPayment=!0}function e(){h.processingPayment=!1}function f(a){switch(a.data.eventType){case"isAlive":h.onOpen();break;case"startPaymentProcessing":d();break;case"paymentComplete":h.onPaymentSuccess(a.data.transactionKey);break;case"paymentError":e(a.data.error)}}var g=document.getElementById("cashier").contentWindow,h=this;b.addEventListener("message",f),h.processingPayment=!1,h.buttonDisabled=!1,h.cashierUrl=c.getUrl(),h.popupClose=function(){h.onClose&&h.onClose()},h.onPaymentSuccess=function(a){h.onResponse({id:a}),h.popupClose()},h.completePayment=function(){h.buttonDisabled=!0,a.startPayment(h.reservation,{paymentMethod:"Cashier"}).$promise.then(function(a){g.postMessage({eventType:"submitPayment",orderId:a.location},"*")})}},controllerAs:"$ctrl",templateUrl:"views/booking/cashier-form.html"}}a.$inject=["api","$window","cashierUrlBuilder"],angular.module("hotel").directive("cashierForm",a)}(),function(){"use strict";function a(a){return{restrict:"A",require:"^form",link:function(b,c,d,e){a.register(e.$name,c[0],e[c.attr("name")])}}}function b(){var a={};return{register:function(b,c,d){a[b]=a[b]||[],a[b].push({element:c,model:d})},focus:function(b){for(var c=a[b]||[],d=0;d<c.length;d++)if(c[d].model.$invalid){c[d].element.focus();break}}}}a.$inject=["focusOnError"],angular.module("booking").factory("focusOnError",b).directive("focusOnError",a)}(),angular.module("rooms",["booking"]).config(["$stateProvider","$urlRouterProvider","$httpProvider","clientConfig","$sceDelegateProvider","resolver","biProvider","pageBiEvents","$translatePartialLoaderProvider","$compileProvider","$urlMatcherFactoryProvider","urlToWhitelistMatchers","$translateProvider","experiments","paymentsConfig",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p={url:"/reservations/:reservationId?instance",templateUrl:"views/booking/reservation.html",controller:"DetailsCtrl",controllerAs:"ctrl",resolve:{reservation:f.startedReservation,hotel:f.hotelInfoPromise,packages:f.packagesPromise,billingSettings:f.paymentInfoPromise}};j.debugInfoEnabled(!1),c.useApplyAsync(!0),c.interceptors.push("globalInterceptor"),g.configure({url:d.biUrl+"/ugc-hotels"}),g.setDefaultParams({_endpoint:"page"}),g.addEvents(h),m.useSanitizeValueStrategy("escaped"),i.addPart("booking"),k.strictMode(!1),e.resourceUrlWhitelist(["self"].concat(l(d.baseUrl)).concat(l(d.staticsUrl)).concat(l(o.cashierCheckoutFormUrl))),b.otherwise("/"),a.state("/",{url:"/?checkIn&checkOut&adults&children",noPush:!0,resolve:{settings:f.modeDispatch}}).state("layout",{"abstract":!0,templateUrl:"views/booking/layout.html",controller:"LayoutCtrl",resolve:{settings:f.pageSettingsPromise,hotelInfo:f.hotelInfoPromise,paymentInfo:f.paymentInfoPromise}}).state("layout.redirect",{noPush:!0,resolve:{dispatch:f.modeDispatch}}).state("layout.terms",{url:"/terms/:roomId",template:'<hotel-policies hotel="$ctrl.hotel" policies="$ctrl.policies" room="$ctrl.room" terms="$ctrl.terms"></hotel-policies>',resolve:{terms:f.termsPromise,hotel:f.hotelInfoPromise,room:f.room,policies:f.hotelPoliciesPromise},controller:["policies","hotel","room","terms",function(a,b,c,d){this.terms=d,this.hotel=b,this.policies=a,this.room=c}],controllerAs:"$ctrl"}).state("layout.demoreservation",{url:"/demo/reservation/:roomId",templateUrl:"views/booking/reservation.html",controller:"DetailsCtrl",controllerAs:"ctrl",params:{searchParams:null},resolve:{packages:f.packagesPromise,reservation:f.demoReservation,hotel:"defaultHotel",paymentGateway:function(){return{init:angular.noop,start:angular.noop}},billingSettings:function(){return{tax:0,currency:"USD",paymentOptions:[{method:"Offline",enabled:!0,configured:!1}]}}}}).state("layout.single",{templateUrl:"views/booking/single.html",controller:"RoomCtrl",url:"/single/?checkIn&checkOut&adults&children",resolve:{room:f.singleRoomPromise,dispatch:f.modeDispatch}}).state("layout.reservation",p).state("layout.widget",{"abstract":!0,templateUrl:"views/booking/widget.html",controller:"WidgetCtrl",controllerAs:"ctrl"}).state("layout.widget.content",{"abstract":!0,controller:"ContentCtrl",templateUrl:"views/booking/content.html"}).state("layout.widget.content.rooms",{templateUrl:"views/booking/rooms.html",url:"/rooms/?checkIn&checkOut&adults&children&roomId",controller:"RoomsCtrl",alias:"rooms",resolve:{dispatch:f.modeDispatch,rooms:f.roomsOrSorry}}).state("layout.widget.content.error",{alias:"sorry",controller:"SorryCtrl",controllerAs:"ctrl",params:{name:null,params:null,checkIn:null,checkOut:null,adults:null,children:null,exception:null},templateUrl:function(a){return"views/booking/errors/"+a.name+".html"},resolve:{hotelInfo:f.hotelInfoPromise}}).state("layout.innerRoom",{url:"/rooms/:roomId?checkIn&checkOut&adults&children&price",templateUrl:"views/booking/single.html",controller:"RoomCtrl",resolve:{room:f.room}}).state("layout.complete",{url:"/complete/:reservationId?confirmationToken",templateUrl:"views/booking/complete.html",controller:"CompleteCtrl",resolve:{hotelInfo:f.hotelInfoPromise,reservation:f.reservation}}).state("layout.democomplete",{url:"/demo/complete/:roomId",params:{searchParams:null,customer:null},templateUrl:"views/booking/complete.html",controller:"CompleteCtrl",resolve:{hotelInfo:"defaultHotel",reservation:f.demoReservation}})}]),angular.module("hotel").factory("datepickerAdapter",["pageWidgetAdapter",function(a){return a}]),angular.module("hotel").controller("LanguagePickerCtrl",["$scope","languages","languageDefinitions",function(a,b,c){a.languageDefinitions=c,a.visible=function(){return a.languages?a.languages.length>1:!1},b.get().then(function(b){a.languages=b})}]),function(){"use strict";function a(){return{restrict:"EA",scope:{ngModel:"="},replace:!0,templateUrl:"components/language-picker/language-picker.html",controller:"LanguagePickerCtrl"}}angular.module("hotel").directive("languagePicker",a)}(),angular.module("hotel").service("languages",["$q","translationsApi","api",function(a,b,c){var d={},e=a.defer();return b.languages.query().$promise.then(function(a){for(var b=0;b<a.length;b++)a[b].enabled&&(d[a[b].lang]=!0);c.getHotel("general-settings").$promise.then(function(a){a.defaultLanguage&&(d[a.defaultLanguage]=!0),e.resolve(Object.keys(d).sort())})}),{get:function(){return e.promise}}}]),["Placeholder","Tooltip","Content","Title","Label"].forEach(function(a){var b="stranslate"+a;angular.module("hotel").directive(b,function(){return{restrict:"A",controller:"StranslateCtrl",controllerAs:b}})}),function(){"use strict";angular.module("hotel").service("stranslateTexts",function(){var a={"default":{}};return{getTexts:function(){return a},updateTexts:function(b){a=angular.extend(a,b)},updateTextsForLang:function(b,c){a[b]||(a[b]=b),a[b]=angular.extend(a[b],c)}}})}(),angular.module("hotel").controller("StranslateCtrl",["$scope","$element","$attrs","useLanguage","$rootScope","$translate","$parse","stranslate","$filter","stranslateTexts",function(a,b,c,d,e,f,g,h,i,j){var k=angular.element(b[0].children[0]),l=this,m=Object.keys(a).reduce(function(b,c){return a[c]===l?c:b}),n={},o=0,p=function(){var a=!1;e.defaultLanguageSelected&&(a=e.defaultLanguageSelected()),h(c[m],n,j.getTexts(),a).then(function(a){var b=m.replace("stranslate","");b?c.$set(b.toLowerCase(),a):(o&&(a=i("truncate")(a,o)),k.text(a))})};c.stranslateValues&&c.$observe("stranslateValues",function(b){b&&a.$watch(b,function(){n=g(b)(a),p()})}),c.stranslateTruncate&&c.$observe("stranslateTruncate",function(b){b&&a.$watch(b,function(){o=g(b)(a),p()})}),d.subscribe(function(){p()}),c.$observe(m,function(a){p()}),a.$on("text:update",function(a,b){void 0!==b[c[m]]&&(k.addClass("selected"),p())}),a.$on("text:focus",function(a,b){b[c[m]]?k.addClass("selected"):k.removeClass("selected")})}]),angular.module("hotel").directive("stranslate",function(){return{restrict:"A",template:'<span class="strans"></span>',controller:"StranslateCtrl",controllerAs:"stranslate"}}),angular.module("hotel").service("stranslate",["$q","$translate","useLanguage",function(a,b,c){var d=function(a,b){if(!a)return!1;var c=a;return Object.keys(b).forEach(function(a){c=c.replace("{"+a+"}",b[a])}),c};return function(e,f,g,h){var i=e.split("|"),j=a.defer(),k=i[0],l=!1;if(g&&g["default"]&&h)for(var m=0;m<i.length;m++){var n=i[m];if(g["default"][n]){k=n,l=!0,j.resolve(d(g["default"][n],f));break}}return l||c.getCurrentLanguagePromise().then(function(a){return b(k,f)}).then(function(a){j.resolve(a)})["catch"](function(){j.resolve(k)}),j.promise}}]),function(){"use strict";function a(a,b,c,d,e){function f(b){return b.translatedName=a.instant("select.country."+b.id),b}var g=this;g.customer={firstName:"",lastName:"",email:"",phone:"",country:"",notes:""},g.phoneRE=c.phone,g.emailRE=c.email,g.countries=d.map(f),b.$on("$translateChangeSuccess",function(){g.countries=e(d.map(f),null,"translatedName")})}function b(){return{restrict:"EA",scope:!0,replace:!0,controller:a,bindToController:{confirmed:"=confirmed",detailsChange:"&detailsChange"},controllerAs:"vm",templateUrl:"components/checkout/guest-details/guest-details.html",link:function(a,b,c,d){a.$watch("vm.customer",function(a){d.detailsChange({$data:a})},!0)}}}a.$inject=["$translate","$rootScope","regexConst","countryDefinitions","localeSortByFilter"],angular.module("booking").directive("guestDetails",b)}(),function(){"use strict";function a(a){var b=this;b.getThumbUrl=a.getThumbUrl,b.packages=b.packages.map(function(a){return a.quantity=a.quantity||0,a})}a.$inject=["linkFormatter"],angular.module("booking").component("packages",{bindings:{packages:"=ngModel",packageChanged:"&"},templateUrl:"components/checkout/packages/packages.html",controller:a})}(),function(){"use strict";function a(a,b){function c(){var b=g.reservation,c=new a(b.checkIn,!0),d=new a(b.checkOut,!0);return Math.floor(c.diffDays(d))||1}function d(){var a=g.packages;return a?a.reduce(function(a,b){return a||b.quantity},!1):!1}function e(){return g.payment.deposit||g.payment.total}function f(){return b.getThumbUrl(g.reservation.room.headerImage,260,180)}var g=this;g.payment=g.reservation.payment,g.getNightsCount=c,g.hasExtras=d,g.getDepositOrTotal=e,g.getRoomImage=f}a.$inject=["XDate","linkFormatter"],angular.module("booking").component("summary",{bindings:{reservation:"=ngModel",packages:"=packages"},templateUrl:"components/checkout/summary/summary.html",controller:a})}(),function(){"use strict";function a(a,b,c,d,e,f){function g(b,c){return a.getThumbUrl(h.reservation.room.headerImage,b,c)}var h=this;h.getThumbUrl=a.getThumbUrl,h.close=function(){b.close()},h.displayCancellationPolicy=function(){return h.policies&&h.policies.cancellationPolicy&&h.policies.cancellationPolicy.body},h.getRoomImage=g,c.translations.get({language:d.getLocale()}).$promise.then(function(a){h.translations=e.arrayToDict(a.content)}),f.log("POLICY_VIEW")}a.$inject=["linkFormatter","$window","translationsApi","localeResolver","translationsAdapter","bi"],angular.module("hotel").component("hotelPolicies",{bindings:{room:"=",hotel:"=",policies:"=",terms:"="},templateUrl:"components/hotel-policies/hotel-policies.html",controller:a})}(),angular.module("hotel").factory("HotelModel",function(){var a=function(a){angular.extend(this,a),this.showMinimumStay=function(){return this.minimumStay&&this.minimumStay>1},this.showMaximumStay=function(){return this.maximumStay&&this.maximumStay<365},this.showTermsSection=function(){return this.showMinimumStay()||this.showMaximumStay()},this.hasTimeSection=function(){return this.checkInTime||this.checkOutTime}};return a}),angular.module("hotel").factory("RoomModel",["amenityDefinitions",function(a){var b=function(b){function c(b){var c=a.reduce(function(a,c){return c.id===b?c.priority:a},!1);return c!==!1?("00000"+c).slice(-5):"x"+b}angular.extend(this,b),this.hasBeds=function(){return this.beds&&this.beds.length},this.hasAmenities=function(){return this.amenities&&this.amenities.length},this.hasSize=function(){return this.size},this.hasProperties=function(){return this.hasBeds()||this.hasSize()||this.maxPersons},this.hasRates=function(){return(this.weeklyPrice||this.monthlyPrice)&&this.price},this.getSortedAmenities=function(){return this.amenities.sort(function(a,b){return c(a).localeCompare(c(b))})}};return b}]),angular.module("hotel").factory("api",["$http","$resource","$wix","clientConfig","experiments","hotelState","demoRooms","url","bedTypes","$q","$timeout","amenityDefinitions","RoomModel","HotelModel",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(){return 0===+f.roomCount}function p(a){return function(b){return"errorMessage"in b||"wixErrorCode"in b?b:a(b)}}function q(a){for(var b=i.map(function(a){return a.value}),c=a&&a.beds,d=c&&c.length||0;d-->0;)-1===b.indexOf(c[d].bedType)&&c.splice(d,1);return a}function r(a){for(var b=a&&a.beds,c=b&&b.length||0;c-->0;)b[c].count||b.splice(c,1);return a}function s(a){return a&&a.checkIn&&a.checkOut&&void 0!==a.adults}var t=c.Utils.getInstance(),u={"X-Wix-Instance":t,"X-Wix-Hotels-User-Lang":h.parseQueryString().userLanguage||""},v={};l.forEach(function(a){v[a.id]=a});var w=p(function(a){return angular.forEach(a,q),angular.forEach(a,r),a}),x=p(function(a){for(var b,c=[],d=0;d<a.length;d++)b=a[d].room,b.price.perNight=a[d].offer.perNight,c.push(b);return c}),y=b(d.apiUrl+"/hotels/:section",null,{get:{method:"GET",headers:u,cache:!0}});y.prototype=angular.extend(y.prototype,new n);var z=b(d.apiUrl+"/reservations/:reservationId/:action",null,{get:{method:"GET",headers:u},save:{method:"POST",headers:u}}),A=a.defaults.transformResponse,B=b(d.apiUrl+"/rooms/:roomId/:action",null,{get:{method:"GET",cache:!0,headers:u,transformResponse:A.concat([r,q])},query:{method:"GET",isArray:!0,cache:!0,headers:u,transformResponse:A.concat([w])},search:{params:{action:"search"},method:"POST",isArray:!0,headers:u,transformResponse:A.concat([x,w])}});return B.prototype=angular.extend(B.prototype,new m),{getRooms:function(a){if(o())return g.all();var b=angular.extend({},a);return delete b.roomId,s(b)?B.search(b):B.query()},getHotel:function(a){return y.get(a?{section:a}:void 0)},getRoom:function(a){return o()?g.one(a):B.get({roomId:a})},calculateRoomPrice:function(a,b){return b.roomId=a,z.save({action:"paymentHint"},b)},paymentHint:function(a,b){return z.save({reservationId:a.reservationId,action:"paymentHint"},b)},applyCoupon:function(a,b){return z.save({reservationId:a.reservationId,action:"applyCoupon"},b)},getOptionalPackages:function(){var a=b(d.apiUrl+"/hotels/reservation-addons/:chargeId",null,{query:{method:"GET",headers:u,isArray:!0}});return a.query({mandatory:!1})},getReservation:function(a,b){return z.get({reservationId:a,confirmationToken:b})},confirmReservation:function(a,b,c){var d=angular.extend({cas:h.parseQueryString().cas},b,c,{userLanguage:h.parseQueryString().userLanguage});return z.save({reservationId:a,action:"confirm"},d)},startPayment:function(a,b){return z.save({reservationId:a.reservationId,action:"start-payment"},b)}}}]),angular.module("hotel").factory("$hotelSettings",["$resource","$wix","clientConfig",function(a,b,c){function d(b,c){var d=angular.extend({get:{method:"GET",headers:g},save:{method:"PUT",headers:g}},c),f=e+"/hotels/:section/:action";return a(f,{section:b},d)}var e=c.apiUrl,f=b.Utils.getInstance(),g={"x-wix-instance":f};return{generalSettings:d("general-settings",{propertyType:{method:"POST",headers:g,params:{action:"property-type"}}}),allSettings:d("")}}]),angular.module("hotel").factory("periodsApi",["$resource","clientConfig","$wix",function(a,b,c){var d={"x-wix-instance":c.Utils.getInstance()},e=a(b.apiUrl+"/reservations/booked-periods",null,{query:{method:"GET",isArray:!0,cache:!0,headers:d}});return e}]),function(){"use strict";function a(a,b,c){var d={"x-wix-instance":c.Utils.getInstance()};return a(b.apiUrl+"/rates/:action",null,{limits:{method:"GET",isArray:!0,cache:!0,headers:d,params:{action:"limits"}}})}a.$inject=["$resource","clientConfig","$wix"],angular.module("hotel").factory("ratesApi",a)}(),angular.module("hotel").factory("settingsApi",["$resource","clientConfig","$cacheFactory","experiments","siteConfig","$wix","bi","hotelState","settingsTransformer","$http",function(a,b,c,d,e,f,g,h,i,j){function k(a,b,c){a.texts&&a[b]&&void 0===a.texts["default"][c]&&(a.texts["default"][c]=a[b])}var l={"x-wix-instance":f.Utils.getInstance()},m=angular.extend,n=f.Utils.getOrigCompId()||f.Utils.getCompId(),o=j.defaults.transformResponse;if(f.Extensions.getDemoMode()){var p=b.apiUrl+"/settings/"+n;c.get("$http").put(p,{})}var q=a(b.apiUrl+"/settings/:compId",{compId:n},{save:{method:"PUT",headers:l},get:{method:"GET",headers:l,cache:!0,transformResponse:o.concat([i.flattenObject,i.convertModeToLayoutMode])}});return{getSettings:function(a,b){var c=b&&{compId:b}||void 0,d=q.get(c),h=this;return d.$promise.then(function(c){var i=!1;if(c.version||(i=!0),a){var j=angular.equals(c,{});m(d,m(a.getDefaults(j),c));var l=a.getBiExtensions?a.getBiExtensions():[],n={};angular.forEach(l,function(a){if(d[a]){var b=d[a];n["_"+a]=b}}),g.extendConstants(n)}if(k(d,"listHeader","header.TITLE"),k(d,"sideTitle","rooms.widget.TITLE"),k(d,"buttonLabel","widget.SEARCH"),k(d,"title","widget.TITLE"),i&&e.isOwner&&!h.settingsSaved&&!f.Extensions.getDemoMode()){var o=angular.fromJson(angular.toJson(d));h.settingsSaved=!0,h.saveSettings(o,b).$promise.then(function(){g.log({_title:"Settings versioned",version:d.version})})}}),d},saveSettings:function(a,b){var c=b&&{compId:b}||void 0;return q.save(c,a)}}}]),angular.module("hotel").service("widgetParams",["$state",function(a){return{getInitialParams:function(){var b=a.params||{};return{checkIn:b.checkIn?+b.checkIn:null,checkOut:b.checkOut?+b.checkOut:null,adults:+b.adults||1,children:+b.children||0}}}}]),angular.module("hotel").service("settingsTransformer",function(){return{flattenObject:function(a){return angular.forEach(a,function(b,c){b&&b.value&&(a[c]=b.value)}),a},convertModeToLayoutMode:function(a){return!a.mode&&!a.searchPosition||a.layoutMode||("single"===a.mode?a.layoutMode="singleListing":"top"===a.searchPosition?a.layoutMode="multiTop":a.layoutMode="multiLeft"),a}}}),angular.module("hotel").service("roomsErrorHandler",["$q",function(a){return function(b){var c=a.defer();return b["catch"](function(a){if(a.data){var b=a.data,d={code:b.wixErrorCode,message:b.errorMessage,params:{},template:"exception"},e=b.wixErrorCode;if(-35021===e)d.message="rooms.error.MINIMUM_STAY",d.params={NIGHTS:b.params.minimumStay},c.resolve(d);else if(-35027===e){var f=b&&b.params&&b.params.maximumStay;d.params={NIGHTS:f},d.message="rooms.error.MAXDAYS",c.resolve(d)}else d.desktopBody=b.errorMessage,d.mobileBody=d.desktopBody,c.resolve(d)}}),c.promise}}]),angular.module("hotel").constant("resolver",{modeDispatch:["settingsApi","$state","pageDefaults","$stateParams","$rootScope","$timeout",function(a,b,c,d,e,f){var g=this.self.name,h=function(a){"singleListing"===a?"layout.single"!==g&&b.go("layout.single",d):"layout.widget.content.rooms"!==g&&b.go("layout.widget.content.rooms",d)};f(function(){if(e.listingMode)h(e.listingMode);else{var b=a.getSettings(c);b.$promise.then(function(){h(b.layoutMode)})}})}],packagesPromise:["api",function(a){return a.getOptionalPackages().$promise}],roomsOrSorry:["$stateParams","api","$state","$rootScope","roomsErrorHandler",function(a,b,c,d,e){var f=b.getRooms(a),g=angular.extend;return f.$promise.then(function(b){0===b.length&&c.go(c.getByAlias("sorry").name,g({name:"sorry",params:""},a))}),e(f.$promise).then(function(b){c.go(c.getByAlias("sorry").name,angular.extend({name:b.template,exception:b},a))}),d.loadingRooms=!0,f.$promise["finally"](function(){d.loadingRooms=!1}),f}],demoReservation:["demoReservation","$stateParams",function(a,b){var c=b.customer?b.customer:{};return a.get(b.roomId,b.searchParams,c)}],rooms:["$stateParams","api",function(a,b){return b.getRooms(a)}],singleRoomPromise:["api","$q",function(a,b){var c=b.defer(),d=a.getRooms();return d.$promise.then(function(a){c.resolve(a[0])}),c.promise}],room:["$stateParams","api",function(a,b){return b.getRoom(a.roomId).$promise}],reservation:["$stateParams","api",function(a,b){return b.getReservation(a.reservationId,a.confirmationToken).$promise}],startedReservation:["$stateParams","api","$state",function(a,b,c){var d=b.getReservation(a.reservationId);return d.$promise.then(function(a){"started"!==a.status.toLowerCase()&&c.go("fatalError")}),d.$promise}],hotel:["api",function(a){return a.getHotel()}],hotelInfo:["api",function(a){return a.getHotel("general-settings")}],paymentInfoPromise:["api",function(a){return a.getHotel("billing-and-payments").$promise}],hotelInfoPromise:["api",function(a){return a.getHotel("general-settings").$promise}],hotelPoliciesPromise:["api",function(a){return a.getHotel("policies").$promise}],pageSettingsPromise:["settingsApi","pageDefaults",function(a,b){return a.getSettings(b).$promise}],termsPromise:["$sce","api",function(a,b){var c=b.getHotel("terms-and-conditions");return c.$promise.then(function(b){b.body=a.trustAsHtml(b.body)}),c.$promise}]}),angular.module("hotel").service("premiumManager",["$injector","experiments","hotelState","$wix","features","clientConfig","siteConfig","$window","$rootScope",function(a,b,c,d,e,f,g,h,i){return{showBadge:function(){var a="editor"===d.Utils.getViewMode()||"preview"===d.Utils.getViewMode(),b=this.canUpgrade()||!e.badgeHidden;return"editor"!==d.Utils.getViewMode()&&b&&(a||!d.Extensions.getDemoMode())},upgradeFromSettings:function(){d.Settings.openBillingPage()},canUpgrade:function(){return!c.upgraded},upgradeFromApp:function(){h.open(f.startPremiumUrl,"_blank"),i.upgradePopup=!1},upgradePopupEnabled:function(){return!!g.metasiteId&&!d.Extensions.getDemoMode()&&this.canUpgrade()&&"preview"===d.Utils.getViewMode()&&"mobile"!==d.Utils.getDeviceType()},showUpgradePopup:function(){this.upgradePopupEnabled()&&(i.upgradePopup=!0)}}}]),angular.module("hotel").factory("$calendar",["XDate",function(a){return{DAY:864e5,now:function(){return a.now()},convertSystemTimestampToUtc:function(b){var c=new a(b);return b-60*c.getTimezoneOffset()*1e3},getNumNights:function(a,b){var c=b-a,d=c/this.DAY;return d||(d=1),Math.max(Math.round(d),1)},midnight:function(b){return b=b||this.now(),new a(b,!0).clearTime().getTime()},tomorrow:function(b){return b="number"==typeof b?b:this.now(),new a(b,!0).addDays(1).getTime()},format:function(b,c){return new a(b,!0).toString(c||"")},isToday:function(b){var c=this.midnight((new a).getTime()),d=this.midnight(b.getTime());return c===d},isPast:function(b){var c=this.midnight((new a).getTime()),d=this.midnight(b.getTime());return c>d}}}]),function(){"use strict";function a(a,b){return{open:function(c){var d=document.getElementsByClassName("reservation")[0],e='<div class="overlay-view"></div>',f='<cashier-form id="cashier-form" on-close="onClose" on-error="onError" on-response="onResponse" on-open="onOpen" reservation="reservation"></cashier-form>',g=angular.element(e),h=angular.element(f);d.appendChild(h[0]),d.appendChild(g[0]);var i=b.$new(!0);i.onClose=function(){g.remove(),h.remove(),c.onClose()},i.onError=c.onError,i.onResponse=c.onResponse,i.onOpen=c.onOpen,i.reservation=c.reservation,a(h)(i)}}}a.$inject=["$compile","$rootScope"],angular.module("hotel").factory("cashierIframe",a)}(),function(){"use strict";function a(a,b,c,d,e,f){function g(a){return i[a]?i[a]:i[a]=h(a)}function h(g){switch(g){case"Stripe":return a.load("https://checkout.stripe.com/checkout.js","StripeCheckout").then(function(){return c});case"PayPal":return b.resolve(d);case"MercadoPago":return a.load("https://secure.mlstatic.com/mptools/render.js","$MPC").then(function(){return e});case"Cash":case"Offline":return b.resolve({init:angular.noop,start:angular.noop});case"Cashier":return b.resolve(f);default:return b.reject("Unknown payment gateway: "+g)}}var i={};return{get:g}}a.$inject=["scriptLoader","$q","stripeGateway","paypalGateway","mercadoPagoGateway","cashierGateway"],angular.module("hotel").factory("paymentGateways",a)}(),function(){"use strict";function a(a,b,c,d,e){function f(b,c,e,f,g){i=b,j=c,k=f,l=g,h||(h=a.StripeCheckout.configure({key:d.stripePublishableKey,token:e}))}function g(){var a=j&&j.room,d=Math.floor((j.checkOut-j.checkIn)/864e5),f="Night(s)",g=b("xdateRange")([j.checkIn,j.checkOut]),k=j&&j.payment,m=k.currency,n=k.deposit||k.total,o=e.isZeroDecimal(k.currency)?1:100;h.open({email:i.customer.email,name:a.name,description:d+" "+f+", "+g,image:i.getThumbUrl(a&&a.headerImage,64,64),allowRememberMe:!1,
currency:m,amount:Math.round(n*o),closed:function(){c.log("STRIPE_POPUP_CLOSE"),l&&l.apply(l,arguments)},opened:function(){c.log("STRIPE_POPUP_VIEW")}})}var h,i,j,k,l;return{init:f,start:g}}a.$inject=["$window","$filter","bi","paymentsConfig","currencyHelpers"],angular.module("hotel").factory("stripeGateway",a)}(),function(){"use strict";function a(a,b){function c(a,b,c,d,j){e=a,f=b,g=d,h=j,i=c}function d(){a.open({reservation:f,onResponse:i,onError:g,onClose:function(){b.log("CASHIER_POPUP_CLOSE"),h&&h()},onOpen:function(){b.log("CASHIER_POPUP_VIEW")}})}var e,f,g,h,i;return{init:c,start:d}}a.$inject=["cashierIframe","bi"],angular.module("hotel").factory("cashierGateway",a)}(),angular.module("hotel").constant("paypalPopupCheckDelay",500),angular.module("hotel").factory("paypalGateway",["$window","$wix","$timeout","clientConfig","paypalPopupCheckDelay",function(a,b,c,d,e){function f(){!i||i.closed?h&&h():c(f,e)}var g,h,i;return{init:function(b,c,d,e,f){h=f,g=c.reservationId,a.paypalCallback=function(a,b){b?e(b):a&&d({id:a})}},start:function(){var h="?reservationId="+g+"&instance="+b.Utils.getInstance(),j=d.baseUrl+"/paypal/start-payment"+h;!i||i.closed?(i=a.open(j,"paypal-start-payment"),c(f,e)):i.focus()}}}]),angular.module("hotel").factory("mercadoPagoGateway",["$window","$timeout","$wix","clientConfig",function(a,b,c,d){function e(){g=b(function(){f&&f.closed?h.onClose&&h.onClose():e()},500)}var f,g,h={};return{init:function(c,d,e,f,i){h.onResponse=e,h.onError=f,h.onClose=i,h.id=d.reservationId,a.paymentCallback=function(a,c){c?f(c):e({id:a}),b.cancel(g)}},start:function(){var b,g,i=h.id;i&&(b="?paymentMethod=MercadoPago&reservationId="+i+"&instance="+c.Utils.getInstance(),g=d.baseUrl+"/payments/start"+b,!f||f.closed?(f=a.open(g,"start-payment"),e()):f.focus())}}}]),angular.module("hotel").factory("demoRooms",["$q","demoData","RoomModel",function(a,b,c){function d(a){for(var b=i.length;b-->0;)if(i[b].roomId===a)return b;return-1}function e(b){var c,e,f=angular.isNumber(b),g=f?b:d(b);return i[g]||(g=Object.keys(i)[0]),c=a.defer(),e={$resolved:!1,$promise:c.promise},h.$promise.then(function(){angular.extend(e,h[g]),e.$resolved=!0,c.resolve(h[g])}),e}function f(){return h}var g=a.defer(),h=[];h.$promise=g.promise,h.$resolved=!1;var i=b.get().rooms;return angular.forEach(i,function(a){a.demo=!0,h.push(new c(a))}),g.resolve(h),h.$resolved=!0,{one:e,all:f}}]),angular.module("hotel").service("unavailablePeriods",["XDate","periodsApi","hotelState","$q",function(a,b,c,d){function e(b){return b.getTime?b:b.length?b[0]:b.date?b.date:new a(b,!0)}function f(a){return a&&!l[a]&&(l[a]=[]),a?l[a]:k}function g(a,g){var i=f(g),j=e(a),l=d.defer();if(c.roomCount>0){var m=j.clone().clearTime().setDate(1),n=m.clone().addDays(-1),o=m.clone().addMonths(2,!0),p={checkIn:+n,checkOut:+o};g&&(p.roomId=g);var q=b.query(p);q.$promise.then(function(a){for(var b=0;b<a.length;b++){for(var c=!1,d=0;d<i.length;d++)if(i[d].from===a[b].from&&i[d].to===a[b].to){c=!0;break}c||i.push(a[b])}l.resolve()})}else h(k),l.resolve();return l.promise}function h(b){for(var c=-3;4>c;c++){var d=new a(a.now(),!0);d.addMonths(c);var e=a.getDaysInMonth(d.getFullYear(),d.getMonth()),f={from:d.setDate(e-5).getTime(!0),to:d.setDate(e-2).getTime(!0)};b.push(f)}return b}function i(a,b,c){return"checkin"===c?b.from<=a&&a<b.to:b.from<a&&a<=b.to}function j(a){return function(b,c){for(var d=f(c),g=e(b),h=0;h<d.length;h++)if(i(g.getTime(!0),d[h],a))return{selectable:!1,booked:!0};return{}}}var k=[],l={};return{markCheckin:j("checkin"),markCheckout:j("checkout"),updatePeriods:g}}]),angular.module("hotel").service("pageWidgetAdapter",["$state","trigger",function(a,b){return{dateSelectEvent:"calendar-button:select",onDateSelected:function(a){return function(b,c){a(c.name,c.date,c.origin)}},toggleCheckin:function(){},toggleCheckout:function(){},openCheckin:function(){b("check-out-set")},openCheckout:function(){b("check-in-set")},closeCheckin:function(){},closeCheckout:function(){},search:function(b){a.go(a.getByAlias("rooms").name,b,{inherit:!1})}}}]),angular.module("booking").factory("linkFormatter",["$location","appDefaults","$wix","$state","localeResolver","urlBuilder",function(a,b,c,d,e,f){function g(d,e,f){var g,h;return d=d||b.defaultSingleRoomImage,g=h=c.Utils.Media.getResizedImageUrl(d,e,f),"https"===a.protocol()&&(h=g.replace(/^http:\/\//,"https://ssl")),h}function h(){var a=i(),b=f.forUrl(a).addParameter("userLanguage",e.getLocale()).build();return b}function i(){return f.withFixedPath()}function j(a,b){return k(a,b,h)}function k(a,b,c){return['class= "'+(b&&b.cssClass||"terms")+'"','href="'+m("layout.terms",{roomId:a},c)+'"','target="_blank"',b&&b.origin?"wix-bi-args=\"{origin: '"+b.origin+"'}\"":"",'wix-bi="POLICY_LINK"'].join(" ")}function l(a){return a.replace("/?","?")}function m(a,b,c){var e=c().replace(/#.*$/g,d.href(a,b));return l(e)}return{getFullStateUrl:m,getThumbUrl:g,policiesLinkAttributes:j}}]),angular.module("hotel").factory("localeResolver",["url","siteState","resolver",function(a,b,c){function d(){var c=a.parseQueryString()&&a.parseQueryString().userLanguage;if(c)return c;var d=b.get("userLanguage");return d||g()}function e(){return c.pageSettingsPromise()}function f(){return c.hotelInfoPromise()}function g(){return f().defaultLanguage||e().lang.toLowerCase()}return{getLocale:d}}]),angular.module("hotel").factory("cashierUrlBuilder",["url","paymentsConfig","siteConfig","$wix","localeResolver",function(a,b,c,d,e){function f(b,c){var d=a.encodeQueryString({externalSubmitButton:!0,visitorId:b(),appInstanceId:c()});return d}function g(b){var c=a.encodeQueryString({uoulang:b()});return c}function h(){return e.getLocale()}function i(a){var c=-1===b.cashierCheckoutFormUrl.indexOf("?")?"?":"&";return b.cashierCheckoutFormUrl+c+a}function j(){return c.visitorId}function k(){return d.Utils.getInstanceId()}function l(){var a=i(g(h))+"#?"+f(j,k);return a}return{getUrl:l}}]),angular.module("hotel").factory("urlBuilder",["$window",function(a){function b(){var b,d=a.location.href;return b=-1!==d.indexOf("index.html")?c(d,"/index.html"):-1!==d.indexOf("mobile.html")?c(d,"/mobile.html"):c(d,"")}function c(b,c){return b.replace(a.location.pathname,c)}function d(a){return{addParameter:function(b,c){return d(e(a,b,c))},build:function(){return a}}}function e(a,b,c){var d={},e=document.createElement("a");e.href=a;for(var f=e.search.split(/\?|&/),g=0;g<f.length;g++)if(f[g]){var h=f[g].split("=");d[h[0]]=h[1]}d[b]=c;var i=[];Object.keys(d).forEach(function(a){i.push(a+"="+d[a])});var j=a.split("#"),k=j.length>1?"#"+j[1]:"";return""===e.search?j[0]+"?"+i.join("&")+k:j[0].replace(e.search,"?"+i.join("&"))+k}return{appendParameter:e,forUrl:d,withFixedPath:b}}]),angular.module("hotel").constant("pageBiEvents",{APP_LOADED:{_title:"Application Loaded",evid:211},WIDGET_VIEW:{_title:"Widget_View"},LIST_VIEW:{_title:"Rooms List_View"},SET_CHECK_IN:{_title:"Set Check-in"},SET_CHECK_OUT:{_title:"Set Check-out"},SET_ADULTS:{_title:"Set adults"},SET_KIDS:{_title:"Set kids"},SEARCH:{evid:200,origin:"hotels-page",_title:"Search Dates_Click"},CHANGE_SEARCH:{evid:201,_title:"Change Search_Click"},CLEAR_SEARCH:{evid:202,_title:"Clear Search_Click"},ROOM_VIEW:{_title:"Room_View"},SINGLE_VIEW:{_title:"Single_Room_View"},GALLERY_THUMBNAIL:{_title:"Photo thumbnail_Click"},GALLERY_NEXT:{_title:"Next image_Click"},ROOM_CLOSE:{title:"Room modal_Close"},ROOM_DETAILS:{_title:"More info_Click",evid:203},BOOK_NOW:{_title:"Book now_Click",evid:204},BOOK_NOW_HOVER:{_title:"Book now_Hover",evid:209},BOOK_NOW_UOU:{_title:"UoU Book now_Click",evid:210},CHECK_DATES:{_title:"Check dates_Click"},SORRY_VIEW:{_title:"Sorry no dates_View"},TEMPLATE_WELCOME_VIDEO_OPEN:{_title:"Template Welcome Video_Click"},CHECKOUT_VIEW:{_title:"Check out page_View"},FIRST_NAME_FOCUS:{_title:"First name_Focus"},LAST_NAME_FOCUS:{_title:"Last name_Focus"},PHONE_FOCUS:{_title:"Phone_Focus"},COUNTRY_FOCUS:{_title:"Country_Focus"},EMAIL_FOCUS:{_title:"Email_Focus"},SPECIAL_REQUESTS_FOCUS:{_title:"Special requests_Focus"},STRIPE_POPUP_VIEW:{_title:"Stripe popup_View"},STRIPE_POPUP_CLOSE:{_title:"Stripe popoup_Close"},CASHIER_POPUP_VIEW:{_title:"Cashier popup_View"},CASHIER_POPUP_CLOSE:{_title:"Cashier popup_Close"},PAYMENT_CONFIRMED:{_title:"Payment confirmed"},PAYMENT_FAILED:{_title:"Payment failed"},PAY_NOW:{evid:205,_title:"Pay now_Click"},POLICY_LINK:{_title:"Reservation Policy_Click",evid:206},CHARGES_VIEW:{_title:"Charges Popup_View"},ACCEPT_POLICY:{_title:"I agree_Click",evid:207},POLICY_VIEW:{_title:"Reservation policy_View"},CLOSE_CHECKOUT:{_title:"Checkout_Close",evid:208},COMPLETE_VIEW:{_title:"Thank you_View"},PUBLISH_SITE:{_title:"Publish",evid:24},BADGE_CLICK:{_title:"Badge_Click"},UPGRADE_BAR_VIEW:{_title:"App Upgrade Bar_View"},UPGRADE_BAR_CLOSE:{_title:"App Upgrade Bar_Close"},INSTRUCTION_POPUP_VIEW:{_title:"Instruction Popup_View"},INSTRUCTION_POPUP_CLOSE:{_title:"Instruction Popup_Close"},UPGRADE_POPUP_VIEW:{_title:"App Upgrade Popup_View"},UPGRADE_POPUP_CLOSE:{_title:"App Upgrade Popup_Close"},UPGRADE_BUTTON:{evid:169,_title:"Upgrade button_Click"},CHOOSE_LANGUAGE:{_title:"Language_Choose"},TOGGLE_PACKAGE:{_title:"Toggle_Package"},CONTINUE_TO_CHECKOUT:{_title:"Continue_to_Checkout"},BACK_TO_PACKAGES:{_title:"Back_to_Packages"},COUPON_FIELD_FOCUS:{_title:"Coupon field_Focus"},APPLY_COUPON_CODE:{_title:"Apply coupon_Code"}}),angular.module("hotel").factory("addTpaTemplates",["siteConfig",function(a){return{forVisitorsApp:function(){return{intent:"APP_MARKET",compId:"MarketPanel",id:3,cmd:"ADD_APP_TO_SITE",params:{appDefinitionDataObj:{appDefinitionId:a.liveChatAppId,appName:"visitors",type:"tpa"},type:"tpaWidget"}}}}}]),angular.module("hotel").constant("appDefaults",{defaultRoomImage:"fde015_5727dda09b554a2881fdd3e7dcf522d0.png",defaultSingleRoomImage:"fde015_cb4dcccb4258499a894623f5282baa98.png"}),angular.module("hotel").factory("availabilityCalendarDefaults",["$wix",function(a){var b={lang:a.Extensions.getLocale()};return{getDefaults:function(){return b},getBiExtensions:function(){return[]}}}]),angular.module("hotel").factory("bookNowTooltip",["siteConfig","premiumManager","$wix",function(a,b,c){return function(){return b.upgradePopupEnabled()?"":a.isOwner&&b.canUpgrade()?"premium.START2":c.Extensions.getDemoMode()?"booking.info.DEMO_MODE":"preview"===c.Utils.getViewMode()?"booking.info.PREVIEW_MODE":a.isOwner?"booking.info.NOT_CONFIGURED":"booking.info.CONTACT_TO_BOOK"}}]),angular.module("hotel").constant("dateFormats",["d MMM yyyy","d-MMM-yyyy","MMMM d, yyyy","M/d/yyyy","MM/dd/yyyy","MM.dd.yyyy","M.d.yyyy","dd/MM/yyyy","d/M/yyyy","dd.MM.yyyy","d.M.yyyy"]),angular.module("hotel").service("defaultHotel",["HotelModel",function(a){return new a({name:"Paradise",email:"hotels-support@wix.com",phone:"+1-234-5678910",propertyType:"hostel",address:{unformatted:"{}",formatted:"New York, US",address:"40 Hotel Street",zip:4321},timeZone:"",currency:"USD",measureUnit:"ft2",childrenAge:"",checkInTime:"15:00",checkOutTime:"12:00",minimumStay:2,maximumStay:7})}]),angular.module("hotel").factory("demoReservation",["demoRooms",function(a){var b={reservationId:"1ba0c59f-fe63-45c1-b6ca-67a1fa33b661",reservationNo:112233,checkIn:1394009711352,checkOut:1394109711352,adults:2,children:2,status:"STARTED",payment:{currency:"USD",subtotal:100,taxRate:21,tax:21,total:121},customer:{firstName:"Thomas A.",lastName:"Anderson"},$resolved:!0};return{get:function(c,d,e){return angular.extend(b.customer,e),angular.extend(b,d),b.room=a.one(c),b}}}]),angular.module("hotel").factory("pageDefaults",["demoData","$wix",function(a,b){function c(a){var b={};return a&&(b.amenitiesStyle="hollow",b.widgetStyle="collapsed",b.layoutMode="multiTop"),b}return{getBiExtensions:function(){return["widgetStyle","layoutMode"]},getDefaults:function(d){var e={version:3,layoutMode:"multiLeft",lang:b.Extensions.getLocale(),showAmenities:!0,showPrice:!0,showDescription:!0,showSize:!0,showBeds:!0,amenitiesStyle:"full",dateFormat:"d MMM yyyy",showChildren:!0,texts:{"default":{}}};return e=angular.extend(e,c(d)),e=angular.extend(e,a.get().settings)}}}]),angular.module("hotel").factory("searchWidgetDefaults",["dateFormats","$wix",function(a,b){var c={version:1,showChildren:!0,dateFormat:a[0],lang:b.Extensions.getLocale(),texts:{"default":{}}};return{getDefaults:function(){return c},getBiExtensions:function(){return[]}}}]),angular.module("hotel").factory("casa_3DemoData",function(){var a=["fde015_bffe4ddeb91843819a2de0541504da32~mv2_d_5616_3744_s_4_2.jpg","fde015_307e994351e4459bbd9a78209dae30df~mv2_d_4061_3000_s_4_2.jpeg","fde015_6a79de48357043dca1b4727e35dfc960~mv2_d_1920_1280_s_2.jpg"];return{settings:{layoutMode:"bigList",amenitiesStyle:"hollow"},rooms:[{roomId:"demo-casa3-dorm",maxPersons:3,price:{amount:30,currency:"USD"},amenities:["ac","wifi","tv","safe","shower"],beds:[{bedType:"single",count:3}],headerImage:a[0],images:[a[0]],name:"demo.casa3.room0.TITLE",longDesc:"demo.casa3.room0.DESCRIPTION"},{roomId:"demo-casa3-triple",maxPersons:3,price:{amount:50,currency:"USD"},amenities:["ac","wifi","tv","safe","shower"],beds:[{bedType:"single",count:3}],headerImage:a[1],images:[a[1]],name:"demo.casa3.room1.TITLE",longDesc:"demo.casa3.room1.DESCRIPTION"},{roomId:"demo-casa3-double",maxPersons:2,price:{amount:80,currency:"USD"},amenities:["ac","wifi","tv","safe","shower"],beds:[{bedType:"single",count:2}],headerImage:a[2],images:[a[2]],name:"demo.casa3.room2.TITLE",longDesc:"demo.casa3.room2.DESCRIPTION"}]}}),angular.module("hotel").factory("city_apartment_rentalDemoData",["defaultRooms",function(a){var b=["fde015_04e7d28c13324862bb00c6e33ae7c410.jpg","fde015_84e51303207549be8785eb9bea55ed53.jpg","fde015_a7e051d3185443778eb47f087ad3b04a.jpg"],c="USD";return{settings:{layoutMode:"multiLeft",amenitiesStyle:"hollow"},rooms:a.get(c,[[b[0],b[1],b[2]],[b[1],b[0],b[2]],[b[2],b[0],b[1]]])}}]),angular.module("hotel").factory("defaultRooms",function(){var a=[["fde015_6c05c2f649564c37a7b5acfd3a848e5b.jpg","fde015_6bd30a8c8cc5413d92589fc32448616b.jpg","fde015_9695686a834c40bf9d1131b69d139c9e.jpg","fde015_7cd78a40e730438797cd0323bb5cb461.jpg","fde015_de93aa6357c14c439e80f661e7a71e67.jpg"],["fde015_597c7d9710e44a9d91514e0ac84fb653.jpg","fde015_67124b51cac54f47920ff722b68c8f44.jpg","fde015_912b27b14b084e3386bae340d86f5acb.jpg","fde015_7cd78a40e730438797cd0323bb5cb461.jpg","fde015_de93aa6357c14c439e80f661e7a71e67.jpg"],["fde015_6159dcce72024a789a3df21e95e8d495.jpg","fde015_8cd90d98bfff45a5bd398674a76cf507.jpg","fde015_59dd3f1ecc0540e89f57130e9f794c08.jpg","fde015_7cd78a40e730438797cd0323bb5cb461.jpg","fde015_de93aa6357c14c439e80f661e7a71e67.jpg"]];return{get:function(b,c){var d=c||a,e=b||"USD";return[{roomId:"demo-a5f08da5-04af-430c-a9af-ec4abfefa049",noOfRooms:4,maxPersons:2,maxChildren:2,size:260,price:{amount:250,currency:e},amenities:["ac","wifi","phone","tv","safe","kitchen","mini-bar","towels"],beds:[{bedType:"double",count:2}],headerImage:d[0][0],images:d[0],name:"demo.room0.TITLE",shortDesc:"demo.room0.SHORT_DESC",longDesc:"demo.room0.LONG_DESC",displayOrder:1},{roomId:"demo-a5f08da5-04af-430c-a9af-ec4abfefa048",noOfRooms:4,maxPersons:2,maxChildren:2,size:230,price:{amount:150,currency:e},amenities:["ac","wifi","phone","tv","safe","kitchen","mini-bar"],beds:[{bedType:"double",count:1}],headerImage:d[1][0],images:d[1],name:"demo.room1.TITLE",shortDesc:"demo.room1.SHORT_DESC",longDesc:"demo.room1.LONG_DESC",displayOrder:2},{roomId:"demo-a5f08da5-04af-430c-a9af-ec4abfefa047",noOfRooms:4,maxPersons:2,maxChildren:2,size:280,price:{amount:350,currency:e},amenities:["ac","wifi","phone","tv","safe","kitchen","mini-bar","bath","work-space","shower"],beds:[{bedType:"king",count:1}],headerImage:d[2][0],images:d[2],name:"demo.room2.TITLE",shortDesc:"demo.room2.SHORT_DESC",longDesc:"demo.room2.LONG_DESC",displayOrder:3}]}}}),angular.module("hotel").service("demoData",["templateName","$injector",function(a,b){return{get:function(){var c,d=a()+"DemoData";return c=b.has(d)?b.get(d):b.get("multiHotelDemoData")}}}]),angular.module("hotel").factory("glamping_siteDemoData",["defaultRooms",function(a){var b=["fde015_4f949d3c75f4467981c6f290e226ff65.jpg","fde015_490dccf137d84abd875e39584938f85b.jpg","fde015_01a820fcaa264c59b8dde49dbc393ad7.jpg"],c="USD";return{settings:{layoutMode:"multiLeft",amenitiesStyle:"hollow"},rooms:a.get(c,[[b[0],b[1],b[2]],[b[1],b[0],b[2]],[b[2],b[0],b[1]]])}}]),angular.module("hotel").factory("lagunaDemoData",["defaultRooms",function(a){var b=[["fde015_e34a294d19654612a0d79f690554d864.jpg","fde015_5125d7515834466eb1a42712be4555bd.jpg"],["fde015_3250745f037344dd95b7a9f615096962.jpg","fde015_a8c9e63cfbdb4b819e6545c526b9b137.jpg"],["fde015_a08d9728d2674be795facf08fcb2e7e0.jpg","fde015_5125d7515834466eb1a42712be4555bd.jpg"]],c="USD";return{settings:{amenitiesStyle:"hollow"},rooms:a.get(c,b)}}]),angular.module("hotel").factory("modern_hotelDemoData",["defaultRooms",function(a){var b=["fde015_8b0f57d413044f028941c8363a4bbc78.jpg","fde015_358dc9ff9b414c3b8807d96dbf37ba1b.jpg","fde015_742c9acf4a004e6684640ca8d8e28b16.jpg"],c="USD";return{settings:{layoutMode:"multiLeft",amenitiesStyle:"hollow"},rooms:a.get(c,[[b[0],b[1],b[2]],[b[1],b[0],b[2]],[b[2],b[0],b[1]]])}}]),angular.module("hotel").factory("multiHotelDemoData",["defaultRooms",function(a){return{settings:{amenitiesStyle:"hollow"},rooms:a.get()}}]),angular.module("hotel").factory("retro_hotelDemoData",["defaultRooms",function(a){var b=["fde015_ea2a6a7cb904412c8358ee440dee3091.jpg","fde015_757b779fa540460ea14cd49b3c47eaa4.jpg","fde015_5a0533cd653d417bbba7b6f1a4e23cb2.jpg"],c="USD";return{settings:{layoutMode:"multiLeft",amenitiesStyle:"hollow"},rooms:a.get(c,[[b[0],b[1],b[2]],[b[1],b[0],b[2]],[b[2],b[0],b[1]]])}}]),angular.module("hotel").factory("rio_apartmentDemoData",function(){var a=["fde015_707fc26ce87142bbba41bb07fc236b7c.jpg","fde015_ff31f70ffa3d48a185175f37f1d4a963.jpg","fde015_87c89590824947c89c98af45cc74950e.jpg","fde015_bca38fa7ed974e4fb6a8564d7a909caa.jpg","fde015_db3e0c91ef7b478b8ec4a4b9713afc4f.jpg","fde015_7588713ae082481daa13f0c7f71341d1.jpg"],b="USD";return{settings:{layoutMode:"singleListing",amenitiesStyle:"hollow"},rooms:[{roomId:"demo-rio-aprtment1",noOfRooms:4,maxPersons:2,maxChildren:2,size:260,price:{amount:250,currency:b},amenities:["ac","wifi","safe","shower","bath","kitchen"],beds:[{bedType:"queen",count:1}],headerImage:a[0],images:[a[0],a[1],a[2],a[3],a[4],a[5]],name:"demo.rio.apartment.TITLE",longDesc:"demo.rio.apartment.DESCRIPTION",displayOrder:1}]}}),angular.module("hotel").factory("rio_hostDemoData",function(){var a=["fde015_53eb3665433d4359ab0cd07dbd78a264.jpg","fde015_432b836e2fcb418c8b527bdf9b3db7b2.jpg","fde015_abc30b795c9746888d2ff676977861c1.jpg","fde015_4f7c806728ad44d8b5b0eacfac4c3216.jpg","fde015_6daa38df319d4ce5841b7828d6d32f67.jpg"];return{settings:{layoutMode:"singleListing",amenitiesStyle:"hollow"},rooms:[{roomId:"demo-rio-apartment1",maxPersons:2,maxChildren:0,size:230,price:{amount:150,currency:"USD"},amenities:["ac","wifi","tv","safe","shower","work-space"],beds:[{bedType:"double",count:1}],headerImage:a[0],images:[a[0],a[1],a[2],a[3],a[4]],name:"demo.rio.apartment.TITLE",longDesc:"demo.rio.host.DESC"}]}}),angular.module("hotel").factory("rio_pousadaDemoData",["defaultRooms",function(a){var b=[["fde015_2680fc23224748f0ae8f8bc945daec7e.jpg","fde015_96bcfa867b2b456097203d811a37ece3.jpg","fde015_da32f6b0a8fb41b19e7aab4133e62072.jpg"],["fde015_bec09e6cf745400ab67efa09a247af93.png","fde015_fff73cc83e744a30b0fbc2b061c5d859.jpg","fde015_6887311f0e634bcaacaa382df5f9ba12.jpg"],["fde015_c886ec2a3bd344b5aa0257a45163458f.jpg","fde015_cf452f2e8e0a42ccbaaf7fdb31593385.jpg","fde015_e41781d8564140fe85c32c2fb6d8a597.jpg"]],c=a.get("USD",b);return{settings:{amenitiesStyle:"hollow"},rooms:[angular.extend(c[0],{amenities:["ac","wifi","phone","tv","shower"]}),c[1],c[2]]}}]),angular.module("hotel").factory("tropical_villa_rentalDemoData",["defaultRooms",function(a){var b=[["fde015_f490d21584d74a219510e06621f8cf52.jpg","fde015_f8214662408241e39399b8bbd0b8ba7e.jpg","fde015_b022943424344c50a668f9446c4fb09e.jpg"],[],[]];return{settings:{layoutMode:"singleListing",amenitiesStyle:"hollow"},rooms:[angular.extend(a.get("USD",b)[0],{name:"demo.single.TITLE",shortDesc:"demo.single.DESC",longDesc:"demo.single.DESC"})]}}]),function(){"use strict";function a(a,b,c){function d(){b.attr("aria-expanded",!0),h.addClass("focused"),i.addClass("visible"),i.attr("hidden",null),g()}function e(){b.attr("aria-expanded",!1),h.removeClass("focused"),i.removeClass("visible"),i.attr("hidden","")}function f(){setTimeout(function(){b[0].focus()})}function g(){var a;(a=i.children()[0])&&a.focus()}var h,i;c.$observe("name",function(b){a.name=b}),this.onCalendarSelect=function(b,d){a.$emit("calendar-button:select",{name:c.name,date:d.date,origin:d.origin}),e(),f()},this.onCalendarClose=function(){e(),f()},this.onKeyDown=function(a){var c=a.originalEvent;32!==a.which&&13!==a.which||!c||c.target!==b[0]||setTimeout(d)};var j=!1;this.onMouseDown=function(){i.hasClass("visible")?(b.attr("aria-expanded",!1),i.removeClass("visible"),i.attr("hidden","")):d(),j=!0},this.onPopupMouseDown=function(a){a.stopPropagation()},this.onDocumentMouseDown=function(){j||e(),j=!1},this.setPopupElement=function(a){i=a},this.setButtonElement=function(a){h=a}}a.$inject=["$scope","$element","$attrs"],angular.module("hotel").controller("WixCalendarButtonCtrl",a)}(),angular.module("booking").controller("BookNowCtrl",["$scope","clientConfig","$wix","wixCookie","bookNowTooltip","$state","$rootScope","premiumManager","bi","siteConfig","templateName",function(a,b,c,d,e,f,g,h,i,j,k){a.baseUrl=b.baseUrl,a.instance=c.Utils.getInstance(),a.deviceType=c.Utils.getDeviceType(),a.uid=d.getUid(),a.compId=c.Utils.getCompId(),a.bookNowTooltip=e(),a.sessionToken=0,a.demoBook=function(a,b){if(b.checkIn&&b.checkOut)if(f.current.modal)c.closeWindow({demobook:!0,roomId:a});else{var d=b?b:f.params;f.go("layout.demoreservation",{roomId:a,searchParams:d})}},a.fakeBookNow=function(){g.dummyButtonClicked=!0,h.showUpgradePopup();var b=a.getBookNowBiArgs();i.log("BOOK_NOW_UOU",{can_book:!h.canUpgrade(),is_merchant:j.ownerUserId===c.Extensions.getUid(),mode:b.mode,origin:b.origin,template:k(),visitor_id:j.visitorId})},a.getBookNowBiArgs=function(){var a={};return a.origin="layout.room"===f.current.name?"room-details":"rooms-list",g.demo()?a.mode="template_preview":"site"===c.Utils.getViewMode()?a.mode="live_site":a.mode="site_preview",a},c.Activities.getUserSessionToken(function(b){a.$apply(function(){a.sessionToken=b})})}]),angular.module("booking").controller("CompleteCtrl",["$scope","reservation","hotelInfo","bi","experiments",function(a,b,c,d,e){d.log("COMPLETE_VIEW"),a.experiments=e,a.hotelInfo=c,a.reservation=b,a.getNights=function(){return Math.floor((b.checkOut-b.checkIn)/864e5)},a.getAddress=function(){var a=b.room.address||c.address;if(a){var d=a.address+", "+a.formatted;return d+=a.zip?", "+a.zip:""}return""}}]),angular.module("booking").controller("GalleryCtrl",["$scope","$interval","bi","pageBiEvents","$state",function(a,b,c,d,e){function f(){return a.room&&a.room.images?a.room.images.length:0}a.selected=0,a.getImageHeight=function(a){var b=390;return e.current.modal?b=352:"layout.innerRoom"===e.current.name&&(b=408),a&&(b+="px"),b},a.getImageWidth=function(a){var b=649;return e.current.modal&&(b=668),a&&(b+="px"),b},a.setSelected=function(b){c.log(d.GALLERY_THUMBNAIL),a.selected=b},a.getImageClass=function(b){return a.selected===b?"visible":(a.selected+1)%f()===b?"next":(f()+a.selected-1)%f()===b?"previous":{}},a.hasPrevious=function(){return f()>1},a.hasNext=function(){return f()>1},a.next=function(){c.log(d.GALLERY_NEXT),a.selected<f()-1?a.selected++:a.selected=0},a.previous=function(){a.selected>0?a.selected--:a.selected=f()-1}}]),angular.module("booking").controller("LayoutCtrl",["$location","$rootScope","$scope","$state","$timeout","$window","$wix","XDate","appDefaults","bi","clientConfig","experiments","hotelInfo","hotelState","languages","paymentInfo","premiumManager","settings","siteState","stranslateTexts","translationsAdapter","translationsApi","url","useLanguage",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){function y(a){var b=w.parseQueryString().userLanguage;if(b)return b;var c=s.get("userLanguage");if(g.Extensions.getDemoMode())return g.Extensions.getLocale();if(("site"===g.Utils.getViewMode()||d.current.modal)&&c&&-1!==a.indexOf(c))return c;var e=m.defaultLanguage||r.lang.toLowerCase();return s.set("userLanguage",e),e}function z(a){var e=a.settings,f=!1,g=D();e.layoutMode!==g&&(g=e.layoutMode,f=!0),c.$apply(function(){c.settings=e,c.settings.$resolved=!0,f&&(b.listingMode=g,d.go("layout.redirect",{},{inherit:!1}))})}var A,B;c.settings=r,c.experiments=l,c.hotel=m,c.premiumManager=q,b.$state=d,t.updateTexts(r.texts);var C=function(){for(var a=0;a<p.paymentOptions.length;a++){var b=p.paymentOptions[a];if(b.enabled)return b.method}}();c.offlinePayment=!!{Cash:!0,Offline:!0}[C]||0===n.roomCount,c.newWidgetStyle=function(){var a=c.settings;return a.widgetStyle||"bigList"===a.layoutMode||"singleListing"===a.layoutMode||"layout.innerRoom"===d.current.name},c.searchOnTop=function(){return"multiTop"===c.settings.layoutMode||"bigList"===c.settings.layoutMode},o.get().then(function(a){b.language=y(a)}),b.defaultLanguageSelected=function(){return!b.language||m.defaultLanguage===b.language||!m.defaultLanguage},b.$watch("language",function(a){if(a){var c=a.toLowerCase();x(c),x.getCurrentLanguagePromise().then(function(){b.languageResolved=!0}),s.set("userLanguage",c),s.save(),c!==m.defaultLanguage&&m.defaultLanguage?v.translations.get({language:c}).$promise.then(function(a){b.translations=u.arrayToDict(a.content)}):b.translations={}}}),c.getThumbUrl=function(b,d,e){if(!b&&!c.settings.$resolved)return"";b||(b=i.defaultSingleRoomImage);var f=g.Utils.Media.getResizedImageUrl(b,d,e),h=f;return"https"===a.protocol()&&(h=f.replace(/^http:\/\//,"https://ssl")),h},c.getMode=function(){return g.Utils.getViewMode()},c.close=function(){f.close()},c.getFullStateUrl=function(b,c){var e=a.absUrl().replace(/#.*$/g,d.href(b,c));return e},c.goToHomePage=function(){g.getSiteInfo(function(a){f.parent.location=a.baseUrl+"#"})},"true"!==w.parseQueryString().noCancel&&(c.closeModal=function(){f.location=k.returnUrl}),c.closeModalAndNavigate=function(a){d.go(a)},c.canBook=function(){return("site"===g.Utils.getViewMode()||"standalone"===g.Utils.getViewMode())&&n.upgraded&&n.roomCount>0&&n.settingsOK&&n.paymentOK};var D=function(){return c.settings.layoutMode};b.listingMode=D(),g.addEventListener(g.Events.SETTINGS_UPDATED,function(a){switch(a.action){case"timer":A=a.time,e.cancel(B),B=e(function(){var a=Date.now()-A;A&&a>1500&&(A=0,d.go("layout.redirect"))},2e3);break;case"navigate":e.cancel(B),d.go(a.destination,a.args);break;case"update-text":t.updateTextsForLang(a.lang,a.text),b.$broadcast("text:update",a.text);break;case"change-lang":f.location.reload();break;case"focus-text":if(b.loadingRooms="checking"===a.state,b.widgetError="exception"===a.state?a.stateValues:void 0,c.offlinePayment="reservation-offline"===a.state,"results"===a.state||"checking"===a.state){var g=new h(!0).getTime();d.params.checkIn=g,d.params.checkOut=g+172800}else d.params={};b.$broadcast("text:focus",a.text);break;case"update-settings":z(a)}}),g.addEventListener(g.Events.EDIT_MODE_CHANGE,function(a){("preview"===a.editMode||"editor"===a.editMode)&&(m.defaultLanguage&&(b.language=m.defaultLanguage),d.go("layout.redirect",{},{inherit:!1}),b.instructionsPopup=!1),e(function(){})}),g.addEventListener(g.Events.STATE_CHANGED,function(a){""===a.newState&&d.go("layout.redirect",{},{inherit:!1})}),g.addEventListener(g.Events.SITE_PUBLISHED,function(){j.log("PUBLISH_SITE",{},k.biUrl+"/dash-hotels")})}]),angular.module("booking").controller("DetailsCtrl",["$calendar","$filter","$rootScope","$scope","$state","$stateParams","$translate","$window","api","bi","clientConfig","countryDefinitions","experiments","packages","paymentGateways","regexConst","reservation","billingSettings","$timeout","linkFormatter","hotelState","focusOnError",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){function w(a){var b,c,d=decodeURIComponent(k.returnUrl);if(d.indexOf(":reservationId")>-1)b=d.replace(":reservationId",S),a&&(b=b.replace(":confirmationToken",a));else if(-1===d.indexOf("#")){c=x(k.returnUrl);var e=k.returnUrl.match(/\?.*$/,"");b=[c,"/complete/",S].join("")+encodeURIComponent(a?"?confirmationToken="+a:""),e&&e[0]&&(b+=e[0])}else c=x(d),b=[c,"/complete/",S].join("")+(a?"?confirmationToken="+a:"");return b}function x(a){var b=a.match(/^(?:.*)(\/(?:rooms|single).*$)/)||[];return a.replace(b[1],"")}function y(){d.nights=a.getNumNights(q.checkIn,q.checkOut),n&&0!==n.length||(Q.showForm=!0),n.forEach(function(a){a.quantity=0}),d.packages=n,Q.paymentMethods.length>=1&&(Q.paymentMethod=Q.paymentMethods[0].method,o.get(D(Q.paymentMethod)).then(z)),d.$watch(function(){return Q.paymentMethod},function(a){d.processing=!0,o.get(D(a)).then(function(a){z(a),d.processing=!1})})}function z(a){R=a,R.init(d,q,J,H,I)}function A(){return r.paymentOptions.filter(function(a){return a.enabled}).sort(B)}function B(a,b){var c={PayPal:1,Stripe:2,MercadoPago:3,Cash:4},d=c[a.method]||1/0,e=c[b.method]||1/0;return d-e}function C(a){return a.translatedName=g.instant("select.country."+a.id),a}function D(a){return m.UseCashierForStripe&&"Stripe"===a?"Cashier":a}function E(){["Offline","Cash"].indexOf(Q.paymentMethod)>-1?G():F()}function F(){var a=d.detailsForm;d.confirmed=!0,a.$valid&&(d.processing=!0,m.UseCashierForStripe&&(T=!0),R.start()),K(a)}function G(a){function b(b){L(q,a,function(){var a=b&&b.confirmationToken;h["goto"](w(a))})}function g(a){d.processing=!1,T=!1,a.data&&a.data.errorMessage&&(d.paymentError=a.data.errorMessage,c.error=!1),M(a)}a=a||{},d.confirmed=!0,d.detailsForm.$valid&&(d.processing=!0,T=!0,a.paymentMethod=D(Q.paymentMethod),c.demo()?(L(q,a),e.go("layout.democomplete",{roomId:q.room.roomId,searchParams:f.searchParams,customer:d.customer})):i.confirmReservation(S,d.customer,a).$promise.then(b,g))}function H(a){s(function(){T=d.processing=!1,d.paymentError=a},0)}function I(){T?d.processing=!1:i.getReservation(S).$promise.then(function(a){var b=a.paidStatus||"";({paid:1,deposit:1})[b.toLowerCase()]&&d.confirmReservation()})["finally"](function(){d.processing=!1}),d.$$phase||d.$digest()}function J(a){s(function(){var b={stripeToken:a.id};d.confirmReservation(b)},0)}function K(a){j.log("PAY_NOW",{is_valid:+a.$valid})}function L(a,b,c){j.log("PAYMENT_CONFIRMED",{_currency:a.payment.currency,total:a.payment.total,check_in:a.checkIn,check_out:a.checkOut,adults:a.adults,children:a.children,room_id:a.roomId,method:b.paymentMethod},!1,c)}function M(a){j.log("PAYMENT_FAILED",{reason:a.data&&a.data.errorMessage||"unknown"})}function N(a){d.customer=a}function O(){if(Q.couponCode){d.processing=!0,d.recalculating=!0;var a=i.applyCoupon(d.reservation,{applyDiscountCode:Q.couponCode}).$promise;a.then(function(a){d.reservation.payment=a,d.processing=!1,d.recalculating=!1,Q.couponCodeInvalid=!1},function(){d.processing=!1,d.recalculating=!1,Q.couponCodeInvalid=!0})}}function P(){v.focus(d.detailsForm.$name)}j.log("CHECKOUT_VIEW");var Q=this;Q.paymentMethods=A(),Q.singlePayment=!Q.paymentMethods||1===Q.paymentMethods.length,Q.guestDetailsChange=N,Q.couponCode="",Q.verifyCode=O,Q.couponCodeInvalid=!1,Q.showCoupon=u.hasCoupons===!0,Q.showForm=!1,Q.onSubmit=P,q.children=parseInt(q.children);var R,S=f.reservationId,T=!1,U=b("localeSortBy");q.status&&y(),d.getLinkAttrs=function(a,b){return c.demo()?"":t.policiesLinkAttributes(a,b)};var V=0;d.recalculateReservation=function(a){var b=++V;d.processing=!0,d.recalculating=!0;var c={extras:d.packages,updateOptionalExtras:!0};i.paymentHint(d.reservation,c).$promise.then(function(c){b===V&&(d.reservation.payment=c,d.processing=!1,d.recalculating=!1,a&&(Q.showForm=!0))})},d.hasExtras=function(){
return d.packages?d.packages.reduce(function(a,b){return a||b.quantity},!1):!1},c.$on("$translateChangeSuccess",function(){d.countries=U(l.map(C),null,"translatedName")}),d.customer={},d.other={},d.countries=l.map(C),d.reservation=q,d.confirmed=!1,d.processing=!1,d.paymentError=!1,d.phoneRE=p.phone,d.emailRE=p.email,d.types=["Visa","MasterCard","American Express","JCB","Discover","Diners Club","Other"],d.experiments=m,d.confirm=F,d.confirmReservation=G,Q["continue"]=E,d.termsChange=function(){d.other.terms&&j.log("ACCEPT_POLICY")}}]),angular.module("booking").controller("RoomCtrl",["$scope","$state","room","$wix","bi","pageBiEvents","scriptLoader","bookNowTooltip","$rootScope","api","$timeout","roomsErrorHandler","linkFormatter",function(a,b,c,d,e,f,g,h,i,j,k,l,m){a.room=c,a.bookNowTooltip=h(),a.getLinkAttrs=m.policiesLinkAttributes,c.address&&c.address.location&&g.load("https://maps.googleapis.com/maps/api/js?client=gme-wixcomltd1","google").then(function(){a.location=JSON.parse(c.address.location)}),a.$watch("room.$resolved",function(){if(c.$resolved&&"mobile"===d.Utils.getDeviceType()&&c.images.length>1&&c.images.length<4)for(var a=c.images.length,b=0;a>b;b++)c.images.push(c.images[b])}),a.goCheckDates=function(){e.log(f.CHECK_DATES),d.closeWindow({reason:"check-dates"})},a.goBackToRooms=function(){delete b.params.roomId,b.go("layout.widget.content.rooms",b.params)},a.maxAdults=function(a){a=a||{children:0};var b=Math.max(Math.min(c.maxPersons,c.maxPersons-a.children),0);return b},a.maxChildren=function(a){a=a||{adults:0};var b=Math.max(Math.min(c.maxChildren,c.maxPersons-a.adults),0);return b},a.bookNow=function(d,e){if(a.canBook()&&!i.demo()&&!a.loading&&(d.preventDefault(),d.stopPropagation(),e.checkIn&&e.checkOut)){var f=c.roomId;a.loading=!0,a.widgetError=void 0;var g=j.getRooms(e).$promise;g.then(function(c){for(var g=!1,h=0;h<c.length;h++)if(c[h].roomId===f){g=!0;break}0!==c.length&&g?(b.params=e,k(function(){d.target.click()},0)):(a.widgetError={message:"rooms.error.SORRY",params:{}},a.loading=!1)}),l(g).then(function(b){a.widgetError=b,a.loading=!1})}}}]),angular.module("booking").controller("ContentCtrl",["$scope","$state","$calendar",function(a,b,c){a.state=b,a.getNumNights=function(){return c.getNumNights(b.params.checkIn,b.params.checkOut)}}]),angular.module("booking").controller("RoomsCtrl",["$scope","$rootScope","$state","rooms","$timeout",function(a,b,c,d,e){b.demo()&&c.params.checkIn?e(function(){a.rooms=d},1e3):a.rooms=d,a.openRoomModal=function(a,b){var d=angular.extend(c.params,{roomId:a,price:b});c.go("layout.innerRoom",d)},a.getNumDescriptionChars=function(){var c=b.language,d={bigList:80,multiTop:240,multiLeft:80},e=d[a.settings.layoutMode];return"ja"===c?Math.floor(e/2):e},a.getImageDimensions=function(){return a.settings&&a.settings.layoutMode&&"bigList"===a.settings.layoutMode?{width:587,height:444}:{width:240,height:170}},a.getNumAmenities=function(){return"bigList"===a.settings.layoutMode?6:"multiTop"===a.settings.layoutMode?10:6},a.getHeadingImageUrl=function(b){var c=a.getImageDimensions();return a.getThumbUrl(b,c.width,c.height)},a.$on("$stateChangeSuccess",function(){if(c.params.roomId){var b=c.params.roomId;delete c.params.roomId,a.openRoomModal(b)}})}]),angular.module("booking").controller("SorryCtrl",["$scope","$stateParams",function(a,b){try{angular.extend(a,JSON.parse(b.params))}catch(c){}var d=this;d.exception=b.exception}]),angular.module("booking").controller("TermsCtrl",["$scope","terms","room","$window","bi","policies",function(a,b,c,d,e,f){e.log("POLICY_VIEW"),a.terms=b,a.room=c,a.policies=f,a.close=function(){d.close()},a.showCancellationPolicy=f&&void 0!==f.cancellationPolicy}]),angular.module("hotel").controller("WidgetCtrl",["widgetParams","$scope","$calendar","hotelConfig","XDate","api","unavailablePeriods","datepickerAdapter","$timeout","experiments","ratesApi",function(a,b,c,d,e,f,g,h,i,j,k){function l(){var a=b.getBookingParams();a.checkIn&&a.checkOut&&(b.nights=c.getNumNights(a.checkIn,a.checkOut),b.paymentDetails=b.paymentDetails||{},b.paymentDetails.$resolved=!1,i(function(){var a=b.nights*b.room.price.amount;b.paymentDetails={roomSubtotal:a,taxRate:21,tax:.21*a,total:a+.21*a,currency:b.room.price.currency,$resolved:!0}},500))}function m(){return b.room?b.room.roomId:void 0}function n(){var a=b.getBookingParams();a.checkIn&&a.checkOut&&(b.nights=c.getNumNights(a.checkIn,a.checkOut),b.paymentDetails=b.paymentDetails||{},b.paymentDetails.$resolved=!1,f.calculateRoomPrice(b.room.roomId,a).$promise.then(function(a){b.paymentDetails=a}))}function o(){b.updateCalendar=new e(!0).getTime()}function p(a,b){return new e(a,!0).addDays(b).getTime()}function q(a){for(var c,d=b.hotel.minimumStay||1,e=b.ratesLimits||[],f=0;f<e.length;f++)if(c=e[f],c.starts<=a&&a<=c.ends)return c.stayLimits&&c.stayLimits.minStay||d;return d}function r(a,c,d){"check_in"===a?(b.filters.checkIn=+c,b.filters.checkOut=t(+c),"keyboard"!==d?h.openCheckout(s,b):h.closeCheckin(s,b)):"check_out"===a&&(b.filters.checkOut=+c,b.filters.checkIn||"keyboard"===d?h.closeCheckout(s,b):h.openCheckin(s,b)),b.updateBreakdown&&b.updateBreakdown()}b.unavailablePeriods=g,b.filters={},b.mindate=parseInt(d.minimalTimestamp),b.ratesLimits=k.limits();var s=this;s.toggleCheckIn=function(){h.toggleCheckin(s)},s.toggleCheckOut=function(){h.toggleCheckout(s)},g.updatePeriods(new e(e.now(),!0),m()).then(function(){b.filters=a.getInitialParams(),b.room&&(b.updateBreakdown=b.room.demo?l:n),b.updateBreakdown&&b.updateBreakdown(),o()}),b.getBookingParams=function(){var a=angular.copy(b.filters);return a.checkIn=b.filters.checkIn?c.midnight(+b.filters.checkIn):null,a.checkOut=b.filters.checkOut?c.midnight(+b.filters.checkOut):null,b.settings.showChildren||delete a.children,a},b.validate=function(){return b.filters.checkIn?b.filters.checkOut?!0:(h.openCheckout(s),!1):(h.openCheckin(s),!1)},b.filter=function(){if(b.validate()){var a=b.getBookingParams();h.search(a)}},b.getMinCheckout=function(a){var d=a||b.filters.checkIn||c.midnight();b.hotel=b.hotel||{};for(var e=q(d),f=p(+d,+e);g.markCheckout(f,m()).booked;)f=p(f,1);return f},b.markCheckOutCalendar=function(a){var d={};return c.midnight(b.filters.checkIn)===a.date.getTime()&&(d={marked:!0}),angular.extend(d,g.markCheckout(a,m())),d};var t=function(a){var c=b.getMinCheckout(+a),d=b.filters.checkOut;return d&&c>d&&(d=null),d};b.$on("calendar:changeMonth",function(a,b){g.updatePeriods(b.date,m()).then(o)}),b.$on(h.dateSelectEvent,h.onDateSelected(r))}]),function(){"use strict";function a(a){function b(a,b){var c=a.filter(function(a){return a.id===b});return c.length?c[0]:!1}return function(c){return b(a,c)?c:"custom"}}a.$inject=["amenityDefinitions"],angular.module("booking").filter("amenityIcon",a)}(),function(){"use strict";function a(a,b){function c(a,b){var c=a.filter(function(a){return a.id===b});return c.length?c[0]:!1}function d(b,d){if(c(a,b)){var f=d?"full":"short";return"amenity."+f+"."+b}return c(e,b).name||b}var e=b.query();return d.$stateful=!0,d}a.$inject=["amenityDefinitions","amenitiesApi"],angular.module("booking").filter("amenityName",a)}(),function(){"use strict";function a(){return function(a){var b="select.time.";if("flexible"===a)return b+"FLEXIBLE";var c=a+"";return":"===c.charAt(1)&&(c="0"+c),b+"H"+ +c.substring(0,2)}}angular.module("hotel").filter("hoursTranslationKey",a)}(),function(){"use strict";function a(a,b){return function(c,d,e){function f(a){return e?a[e]:a}var g=c.slice();if(d||(d=b.get("userLanguage")||a.Utils.getLocale()),d&&"en"!==d&&angular.isFunction(String.prototype.localeCompare))try{return g.sort(function(a,b){return f(a).localeCompare(f(b),d)})}catch(h){}return g.sort()}}a.$inject=["$wix","siteState"],angular.module("hotel").filter("localeSortBy",a)}(),angular.module("hotel").filter("truncate",function(){return function(a,b){if("string"!=typeof a)return"";if(a&&a.length<=b)return a;var c=a.substr(0,b),d=c.match(/\s(?!.*\s)/),e="";return e=d?c.substr(0,d.index):c,/[,.;:]$/.test(e)?e.substr(0,e.length-1)+"...":/[?!]$/.test(e)?e+"..":e+"..."}}),angular.module("hotel").filter("xdateRange",["XDate",function(a){var b=function(b){var c=new a(+b[0],!0),d=new a(+b[1],!0);return c.getFullYear()===d.getFullYear()&&c.getMonth()===d.getMonth()?c.toString("MMM d")+"-"+d.toString("d, yyyy"):c.getFullYear()===d.getFullYear()?c.toString("MMM d")+" - "+d.toString("MMM d, yyyy"):c.toString("MMM d, yyyy")+" - "+d.toString("MMM d, yyyy")};return b.$stateful=!0,b}]),angular.module("hotel").run(["$templateCache",function(a){"use strict";a.put("components/language-picker/language-picker.html",'<div class="language-picker s-separator s-background" ng-show="visible()">\n  <wix-svg aria-hidden="true" icon="globe" class="icon"></wix-svg>\n  <select\n    aria-label="{{ \'booking.CHOOSE_LANGUAGE\' | translate }}"\n    ng-model="$root.language"\n    wix-bi="CHOOSE_LANGUAGE"\n    wix-bi-event="change"\n    wix-bi-args="{lang: $root.language}"\n    ng-change="selectLanguage()"\n    ng-options="item as languageDefinitions[item] for item in languages"\n    class="language s-description">\n  </select>\n  <div class="arrow s-background"></div>\n</div>\n'),a.put("components/checkout/guest-details/guest-details.html",'<fieldset ng-class="{confirmed: vm.confirmed}" class="guest-details">\n  <legend><h1 stranslate="reservation.GUEST_DETAILS"></h1></legend>\n  <div class="row">\n    <div class="form-group col-1-2">\n      <label\n        ng-show="!detailsForm.$submitted || detailsForm.firstName.$valid"\n        for="firstName"\n        id="firstName-label"\n        stranslate="reservation.FIRST_NAME"></label>\n      <errors for="detailsForm.firstName" aria-live="polite">\n        <ng-message when="required"><span stranslate="reservation.tooltip.INVALID_NAME"></span></ng-message>\n      </errors>\n      <input\n        focus-on-error\n        type="text"\n        id="firstName"\n        name="firstName"\n        maxlength="40"\n        wix-bi="FIRST_NAME_FOCUS"\n        wix-bi-event="focus"\n        ng-model="vm.customer.firstName"\n        class="form-control"\n        autocomplete=off\n        aria-labelledby="firstName-label"\n        required>\n    </div>\n    <div class="form-group col-1-2">\n      <label\n        ng-show="!detailsForm.$submitted || detailsForm.lastName.$valid"\n        for="lastName"\n        id="lastName-label"\n        stranslate="reservation.LAST_NAME"></label>\n      <errors for="detailsForm.lastName" aria-live="polite">\n        <ng-message when="required"><span stranslate="reservation.tooltip.INVALID_LAST_NAME"></span></ng-message>\n      </errors>\n      <input\n        focus-on-error\n        type="text"\n        id="lastName"\n        name="lastName"\n        maxlength="40"\n        wix-bi="LAST_NAME_FOCUS"\n        wix-bi-event="focus"\n        ng-model="vm.customer.lastName"\n        class="form-control"\n        autocomplete=off\n        aria-labelledby="lastName-label"\n        required>\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-1-2">\n      <label\n        ng-show="!detailsForm.$submitted || detailsForm.email.$valid"\n        for="email"\n        id="email-label"\n        stranslate="reservation.EMAIL_ADDRESS"></label>\n      <errors for="detailsForm.email" aria-live="polite">\n        <ng-message when="required"><span stranslate="reservation.tooltip.INVALID_EMAIL"></span></ng-message>\n        <ng-message when="pattern"><span stranslate="reservation.tooltip.INVALID_EMAIL"></span></ng-message>\n      </errors>\n      <input\n        focus-on-error\n        id="email"\n        name="email"\n        type="email"\n        ng-pattern="vm.emailRE"\n        tooltip-animation="false"\n        ng-model="vm.customer.email"\n        class="form-control"\n        maxlength="80"\n        wix-bi="EMAIL_FOCUS"\n        wix-bi-event="focus"\n        autocomplete=off\n        aria-labelledby="email-label"\n        required>\n    </div>\n    <div class="form-group col-1-2">\n      <label\n        ng-show="!detailsForm.$submitted || detailsForm.phone.$valid"\n        for="phone"\n        id="phone-label"\n        stranslate="reservation.PHONE_NUMBER"></label>\n      <errors for="detailsForm.phone" aria-live="polite">\n        <ng-message when="required"><span stranslate="reservation.tooltip.INVALID_PHONE"></span></ng-message>\n        <ng-message when="pattern"><span stranslate="reservation.tooltip.INVALID_PHONE"></span></ng-message>\n      </errors>\n      <input\n        focus-on-error\n        id="phone"\n        name="phone"\n        type="text"\n        ng-model="vm.customer.phone"\n        ng-pattern="vm.phoneRE"\n        class="form-control"\n        maxlength="40"\n        wix-bi="PHONE_FOCUS"\n        wix-bi-event="focus"\n        autocomplete=off\n        aria-labelledby="phone-label"\n        required>\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-1-2">\n      <div class="dropdown">\n        <label\n          ng-show="!detailsForm.$submitted || detailsForm.country.$valid"\n          for="country"\n          id="country-label"\n          stranslate="reservation.COUNTRY"></label>\n        <errors for="detailsForm.country" aria-live="polite">\n          <ng-message when="required"><span stranslate="reservation.tooltip.SELECT_COUNTRY"></span></ng-message>\n          <ng-message when="pattern"><span stranslate="reservation.tooltip.SELECT_COUNTRY"></span></ng-message>\n        </errors>\n        <div class="select-wrapper" ng-class="{\'ng-invalid\': !vm.customer.country}">\n          <select\n            focus-on-error\n            id="country"\n            name="country"\n            type="text"\n            ng-model="vm.customer.country"\n            ng-class="{empty: !vm.customer.country}"\n            required\n            wix-bi="COUNTRY_FOCUS"\n            wix-bi-event="focus"\n            class="form-control"\n            aria-labelledby="country-label"\n            ng-options="c.id as c.translatedName for c in vm.countries">\n            <option disabled value="" translate="reservation.SELECT_COUNTRY"></option>\n          </select>\n          <i class="icon"></i>\n        </div>\n      </div>\n    </div>\n    <div class="form-group col-1-2">\n      <label\n        for="notes"\n        id="notes-label"\n        stranslate="reservation.SPECIAL_REQUESTS"></label>\n      <textarea\n        id="notes"\n        type="text"\n        rows="3" maxlength="200"\n        ng-model="vm.customer.notes"\n        class="form-control"\n        maxlength="250"\n        wix-bi="SPECIAL_REQUESTS_FOCUS"\n        wix-bi-event="focus"\n        aria-labelledby="notes-label"\n        ></textarea>\n    </div>\n  </div>\n</fieldset>\n\n'),a.put("components/checkout/packages/packages.html",'<div class="packages">\n  <h1 translate="addons.TITLE"></h1>\n  <ul>\n    <li ng-repeat="charge in $ctrl.packages | filter: { mandatory: false }" class="clearfix">\n      <div class="image" ng-if="charge.image">\n        <img role="presentation" ng-src="{{ $ctrl.getThumbUrl(charge.image, 109, 79) }}" alt="" />\n      </div>\n      <div class="text" ng-class="{\'with-image\':charge.image}">\n        <div class="clearfix">\n          <h2 class="title">{{charge.name}}</h2>\n          <h2 class="price">{{charge.price | currency:reservation.payment.currency}}</h2>\n        </div>\n        <p>{{charge.desc}}</p>\n      </div>\n      <div class="action">\n        <span stranslate="addons.QUANTITY" class="quantity"></span>\n        <div wix-spinner\n             bi="TOGGLE_PACKAGE"\n             bi-args="{name: charge.name}"\n             on-change="$ctrl.packageChanged({packages: $ctrl.packages})"\n             min="0"\n             ng-model="charge.quantity"></div>\n      </div>\n    </li>\n  </ul>\n</div>\n'),a.put("components/checkout/summary/summary.html",'<h3 stranslate="reservation.SUMMARY"></h3>\n<div class="room-image">\n  <img ng-src="{{$ctrl.getRoomImage()}}" alt="" width="260" height="180">\n</div>\n<div>\n  <table>\n    <tbody>\n      <tr>\n        <th stranslate="reservation.info.ROOM_TYPE"></th>\n        <td class="value" style="color:red;">TODO</td>\n      </tr>\n      <tr>\n        <th stranslate="reservation.info.DATES"></th>\n        <td class="value" ng-bind="[$ctrl.reservation.checkIn, $ctrl.reservation.checkOut] | xdateRange"></td>\n      </tr>\n      <tr>\n        <th stranslate="reservation.info.NO_OF_NIGHTS"></th>\n        <td class="value" ng-bind="$ctrl.getNightsCount()"></td>\n      </tr>\n      <tr class="separator">\n        <th stranslate="reservation.info.GUESTS"></th>\n        <td class="value">\n          <span ng-bind="$ctrl.reservation.adults"></span>\n          <span stranslate="reservation.info.ADULTS"></span><!--\n          --><span ng-show="$ctrl.reservation.children">\n            <span>,</span>\n            <span ng-bind="$ctrl.reservation.children"></span>\n            <span stranslate="reservation.info.KIDS"></span>\n          </span>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n<div>\n  <div class="" ng-if="false">\n    <div ng-include="\'views/booking/partials/spinner.html\'"></div>\n  </div>\n  <table ng-if="$ctrl.payment.extras.length">\n    <tbody class="separator">\n      <tr ng-if="$ctrl.payment.roomSubtotal">\n        <th style="color:red;">TODO</th>\n        <td class="value" ng-bind="$ctrl.payment.roomSubtotal | currency: $ctrl.payment.currency"></td>\n      </tr>\n      <tr ng-repeat="extra in $ctrl.payment.extras| filter: {mandatory: true}">\n        <th ng-bind="extra.name"></th>\n        <td class="value" ng-bind="extra.subtotal | currency: $ctrl.payment.currency"></td>\n      </tr>\n      <tr ng-if="$ctrl.hasExtras()">\n        <th><span translate="addons.EXTRAS"></span>:</th>\n        <td></td>\n      </tr>\n      <tr ng-repeat="extra in reservation.payment.extras | filter: {mandatory: false}">\n        <th>\n          <span ng-bind="extra.name"></span>\n          <span ng-show="extra.quantity > 1">\n            <span>&times;</span>\n            <span ng-bind="extra.quantity"></span>\n          </span>\n        </th>\n        <td class="value" ng-bind="extra.subtotal | currency: $ctrl.payment.currency"></td>\n      </tr>\n    </tbody>\n  </table>\n  <table>\n    <tbody>\n      <tr>\n        <th stranslate="reservation.info.SUBTOTAL"></th>\n        <td class="value" ng-bind="$ctrl.payment.subtotal | currency: $ctrl.payment.currency"></td>\n      </tr>\n      <tr class="separator">\n        <th stranslate="reservation.info.TAX" stranslate-values="{ TAX: $ctrl.payment.taxRate }"></th>\n        <td class="value" ng-bind="$ctrl.payment.tax | currency: $ctrl.payment.currency"></td>\n      </tr>\n      <tr class="separator" ng-if="$ctrl.payment.deposit">\n        <th stranslate="reservation.info.TOTAL"></th>\n        <td class="value" ng-bind="$ctrl.payment.total | currency: $ctrl.payment.currency"></td>\n      </tr>\n    </tbody>\n    <tfoot>\n      <tr>\n        <th ng-if="$ctrl.payment.deposit" stranslate="reservation.info.DEPOSIT"></th>\n        <th ng-if="!$ctrl.payment.deposit" stranslate="reservation.info.TOTAL"></th>\n        <th class="value" ng-bind="$ctrl.getDepositOrTotal() | currency: $ctrl.payment.currency"></th>\n      </tr>\n    </tfoot>\n  </table>\n</div>\n'),a.put("components/hotel-policies/hotel-policies.html",'<div class="blurred-image" ng-style="{\'background-image\': \'url(\' + $ctrl.getThumbUrl($ctrl.room.headerImage, 295, 172) + \')\'}"></div>\n<div id="terms">\n  <div class="hotel-policy">\n    <h2 ng-bind="$ctrl.translations.policy.reservation.title || $ctrl.terms.title"></h2>\n    <div class="check-in-out">\n      <span>\n        <label stranslate="complete.details.CHECK_IN_TIME"></label>\n        <span translate="{{ $ctrl.hotel.checkInTime | hoursTranslationKey }}"></span>\n      </span>\n      <span class="sep">|</span>\n      <span>\n        <label stranslate="complete.details.CHECK_OUT_TIME"></label>\n        <span translate="{{ $ctrl.hotel.checkOutTime | hoursTranslationKey }}"></span>\n      </span>\n    </div>\n    <div ng-bind-html="($ctrl.translations.policy.reservation.desc || $ctrl.terms.body).toString()"></div>\n  </div>\n  <div class="hotel-policy" ng-if="$ctrl.displayCancellationPolicy()">\n    <h2 ng-bind="$ctrl.translations.policy.cancellation.title || $ctrl.policies.cancellationPolicy.title"></h2>\n    <div ng-bind-html="($ctrl.translations.policy.cancellation.desc || $ctrl.policies.cancellationPolicy.body).toString()"></div>\n  </div>\n  <a class="close" ng-click="$ctrl.close()" aria-label="{{ \'general.CLOSE\' | translate }}">\n    <img role="presentation" src="images/close.png" />\n  </a>\n</div>\n'),a.put("views/booking/partials/badge.html",'<div ng-if="premiumManager.showBadge()" class="badge-container">\n  <a href="http://www.wix.com/web-lp/wix-hotels" target="_blank" class="poweredby" wix-bi="BADGE_CLICK"\n     ng-if="getMode() === \'preview\'"\n     tooltip\n     stranslate-tooltip="rooms.BADGE_TOOLTIP">\n    <div class="image"></div>\n  </a>\n  <a href="http://www.wix.com/web-lp/wix-hotels" target="_blank" class="poweredby" wix-bi="BADGE_CLICK"\n     ng-if="getMode() !== \'preview\'">\n    <div class="image"></div>\n  </a>\n</div>\n'),a.put("views/booking/partials/features.html",'<ul class="features">\n  <li class="accomodates" ng-if="room.maxPersons" ng-show="$state.current.alias != \'rooms\'">\n    <i class="disc"></i>\n    <span stranslate="room.ACCOMMODATES"></span>:\n    <span ng-bind="room.maxPersons"></span>\n  </li>\n  <li class="size" ng-show="room.hasSize() && (settings.showSize || $state.current.alias != \'rooms\')">\n    <i class="disc"></i>\n    <span stranslate="room.SIZE"></span>:\n    <abbr>\n      {{::room.size}}\n      <span\n        stranslate-title="{{ \'room.SIZE_LONG_UNITS_\' + (hotel.measureUnit | uppercase) }}"\n        stranslate="{{ \'room.SIZE_UNITS_\' + (hotel.measureUnit | uppercase) }}"></span>\n    </abbr>\n  </li>\n  <li class="beds" ng-show="room.hasBeds() && (settings.showBeds || $state.current.alias != \'rooms\')")>\n    <i class="disc"></i>\n    <span stranslate="room.BEDS"></span>:\n          <span class="bed" ng-repeat="bed in room.beds">\n            <span stranslate="{{ \'room.BED_TYPE_\' + (bed.bedType | uppercase)}}" stranslate-values="{COUNT: bed.count}"></span>{{ $last ? \'\' : \', \'}}\n          </span>\n  </li>\n</ul>'),a.put("views/booking/partials/gallery.html",'<div class="gallery" ng-controller="GalleryCtrl">\n  <div class="preview-container" ng-style="{width: getImageWidth(true), height: getImageHeight(true)}">\n    <div class="preview single" ng-show="!room.images.length" ng-style="{width: getImageWidth(true), height: getImageHeight(true)}">\n      <img ng-src="{{ getThumbUrl(room.headerImage, getImageWidth(), getImageHeight()) }}" alt="">\n    </div>\n    <div class="preview image" ng-repeat="picture in room.images track by $index" ng-class="getImageClass($index)" ng-style="{width: getImageWidth(true), height: getImageHeight(true)}">\n      <img ng-src="{{ getThumbUrl(picture, getImageWidth(), getImageHeight()) }}" alt="">\n    </div>\n    <button aria-label="{{ \'room.gallery.PREV\' | translate }}" class="navigate left" ng-click="previous()" ng-show="hasPrevious()"></button>\n    <button aria-label="{{ \'room.gallery.NEXT\' | translate }}" class="navigate right" ng-click="next()" ng-show="hasNext()"></button>\n  </div>\n  <div class="thumbnails" ng-show="room.images.length > 1" ng-style="{width: getImageWidth(true)}">\n    <button\n      aria-label="{{ \'room.gallery.THUMBNAIL\' | translate }}"\n      class="thumbnail" ng-repeat="picture in room.images track by $index"\n      ng-click="setSelected($index)" ng-class="{selected: selected == $index, \'s-separator\': selected == $index}">\n      <img style="width:58px;height:48px;" ng-src="{{ getThumbUrl(picture, 58, 48) }}" alt="">\n    </button>\n  </div>\n</div>\n'),a.put("views/booking/partials/spinner.html",'<div class="fancy-spinner">\n  <div class="bar1"></div>\n  <div class="bar2"></div>\n  <div class="bar3"></div>\n  <div class="bar4"></div>\n  <div class="bar5"></div>\n  <div class="bar6"></div>\n  <div class="bar7"></div>\n  <div class="bar8"></div>\n  <div class="bar9"></div>\n  <div class="bar10"></div>\n  <div class="bar11"></div>\n  <div class="bar12"></div>\n</div>\n'),a.put("views/booking/partials/widget.html",'<ul\n  role="presentation"\n  class="search-widget clearfix"\n  ng-class="{\'nokids\': !settings.showChildren || room.maxChildren === 0}"\n  >\n  <li class="check-in" role="presentation">\n    <label id="check-in-label" for="check-in" stranslate="rooms.widget.CHECK_IN"></label>\n    <div\n      id="check-in"\n      wix-calendar-button="{{settings.dateFormat}}"\n      tabindex="0"\n      class="s-field s-separator"\n      trigger-on="[\'check-dates\', \'check-out-set\']"\n      trigger-handler="[\'mousedown\', \'focus\']"\n      trigger-bubble\n      name="check_in"\n      bi="SET_CHECK_IN"\n      min="{{ mindate }}"\n      mark-date="unavailablePeriods.markCheckin(date, room.roomId)"\n      stranslate-placeholder="{{ newWidgetStyle() ? \'rooms.widget.CHECK_IN\' : \'DD MM YYYY\' }}"\n      redraw-trigger="{{updateCalendar}}"\n      ng-model="filters.checkIn"\n      aria-labelledby="check-in-label"\n      ></div>\n  </li>\n  <li class="check-out" role="presentation">\n    <label id="check-out-label" for="check-out" stranslate="rooms.widget.CHECK_OUT"></label>\n    <div\n      id="check-out"\n      wix-calendar-button="{{settings.dateFormat}}"\n      tabindex="0"\n      class="s-field s-separator"\n      mark-date="unavailablePeriods.markCheckout(date, room.roomId)"\n      trigger-on="\'check-in-set\'"\n      trigger-handler="[\'mousedown\', \'focus\']"\n      trigger-bubble\n      name="check_out"\n      bi="SET_CHECK_OUT"\n      min="{{ getMinCheckout() }}"\n      stranslate-placeholder="{{ newWidgetStyle() ? \'rooms.widget.CHECK_OUT\' : \'DD MM YYYY\' }}"\n      redraw-trigger="{{updateCalendar}}"\n      ng-model="filters.checkOut"\n      aria-labelledby="check-out-label"\n      >\n    </div>\n  </li>\n  <li class="adults" role="presentation">\n    <label id="adults-label" for="adults" stranslate="reservation.info.ADULTS"></label>\n    <div\n      id="adults"\n      wix-spinner\n      tabindex="0"\n      class="s-separator s-field"\n      bi="SET_ADULTS"\n      on-change="updateBreakdown()"\n      ng-model="filters.adults"\n      stranslate-label="{{ newWidgetStyle() ? \'reservation.info.ADULTS\' : \'\'}}"\n      min="1"\n      max="{{maxAdults(filters)}}"\n      placeholder="Not set"\n      aria-labelledby="adults-label"\n      ></div>\n  </li>\n  <li class="children" ng-show="settings.showChildren && room.maxChildren !== 0" role="presentation">\n    <label id="children-label" for="children" stranslate="reservation.info.KIDS"></label>\n    <div\n      id="children"\n      wix-spinner\n      tabindex="0"\n      class="s-separator s-field"\n      bi="SET_KIDS"\n      on-change="updateBreakdown()"\n      ng-model="filters.children"\n      stranslate-label="{{ newWidgetStyle() ? \'reservation.info.KIDS\' : \'\' }}"\n      min="0"\n      max="{{maxChildren(filters)}}"\n      placeholder="Not set"\n      aria-labelledby="children-label"\n      ></div>\n  </li>\n  <li class="search-btn" role="presentation">\n    <button\n      ng-click="filter()"\n      type="submit"\n      class="search"\n      wix-bi="SEARCH"\n      wix-bi-args="getBookingParams()"\n      ng-class="{ \'s-button\': !$state.params.checkIn || newWidgetStyle(), \'s-button-inverse\': $state.params.checkIn && !newWidgetStyle() }">\n      <span ng-show="!$state.params.checkIn" stranslate="rooms.widget.SEARCH"></span>\n      <span ng-show="$state.params.checkIn" stranslate="rooms.widget.SEARCH_AFTER"></span>\n    </button>\n  </li>\n</ul>\n'),a.put("views/booking/widget.html",'<div class="top-head s-background s-separator" ng-if="searchOnTop()">\n  <h2 class="s-title" stranslate="header.TITLE"></h2>\n  <language-picker></language-picker>\n</div>\n\n<section class="side-bar s-separator" ng-class="{\'s-background2\': !searchOnTop(), \'s-background\': searchOnTop()}" wix-bi="LIST_VIEW" wix-bi-event="init" aria-describedby="widget-title">\n  <div class="widget" ng-class="{nospaces: settings.widgetStyle}">\n    <h3 id="widget-title" class="s-title s-separator">\n      <span ng-show="$state.params.checkIn" stranslate="rooms.widget.TITLE_AFTER"></span>\n      <span ng-show="!$state.params.checkIn" stranslate="rooms.widget.TITLE"></span>\n    </h3>\n\n    <div class="search main-widget">\n      <form method="get" accept-charset="utf-8" class="searchform s-separator" ng-include="\'views/booking/partials/widget.html\'">\n      </form>\n    </div>\n  </div>\n  <div role="presentation" ng-include="\'views/booking/partials/badge.html\'"></div>\n</section>\n\n<main ui-view id="content" class="s-background"></main>\n'),a.put("views/booking/booknow.html",'<span ng-controller="BookNowCtrl">\n  <form action="{{baseUrl + \'/reservation.html\'}}" method="post" target="_parent" ng-if="canBook()">\n    <input type="hidden" name="roomId" value="{{room.roomId}}" />\n    <input type="hidden" name="checkIn" value="{{$state.params.checkIn}}" />\n    <input type="hidden" name="checkOut" value="{{$state.params.checkOut}}" />\n    <input type="hidden" name="children" value="{{$state.params.children ? $state.params.children : 0}}" />\n    <input type="hidden" name="adults" value="{{$state.params.adults}}" />\n    <input type="hidden" name="instance" value="{{instance}}"/>\n    <input type="hidden" name="returnURL" value="{{returnURL}}"/>\n    <input type="hidden" name="sessionToken" value="{{sessionToken}}"/>\n    <input type="hidden" name="deviceType" value="{{deviceType}}"/>\n    <input type="hidden" name="userLanguage" value="{{language}}"/>\n    <input type="hidden" name="uid" value="{{uid}}"/>\n    <input type="hidden" name="compId" value="{{compId}}">\n    <button\n      class="fancy-btn s-button button"\n      type="submit"\n      wix-bi="BOOK_NOW"\n      wix-bi-args="getBookNowBiArgs()"\n      stranslate="booking.BOOK_NOW"\n    ></button>\n  </form>\n  <button\n    class="fancy-btn s-button button"\n    tooltip\n    stranslate="booking.BOOK_NOW"\n    stranslate-tooltip="{{ bookNowTooltip }}"\n    tooltip-triggers="focus mouseenter"\n    tooltip-placement="left"\n    ng-if="!canBook() && !demo()"\n    wix-bi="BOOK_NOW_HOVER"\n    wix-bi-event="mouseover"\n    wix-bi-args="getBookNowBiArgs()"\n    ng-click="fakeBookNow()"\n  ></button>\n  <button\n    class="fancy-btn s-button button"\n    ng-if="demo()"\n    wix-bi="BOOK_NOW"\n    wix-bi-args="getBookNowBiArgs()"\n    stranslate="booking.BOOK_NOW"\n    ng-click="demoBook(room.roomId, getBookingParams() || $state.params)"\n  ></button>\n</span>\n'),a.put("views/booking/rooms.html",'<div role="alert" class="loader s-separator" ng-if="!rooms.$resolved || loadingRooms">\n  <p stranslate="rooms.CHECKING_YOUR_DATES"></p>\n  <div ng-include="\'views/booking/partials/spinner.html\'"></div>\n</div>\n\n<div class="horizontal-list s-separator" ng-show="!loadingRooms" scroll-top>\n  <ul class="list">\n    <li ng-repeat="room in rooms | orderBy: [\'displayOrder\', \'price.perNight || price.amount\']"\n        class="room s-separator" ng-class="visibilityClasses">\n      <div class="container s-separator">\n        <div class="image"\n             aria-hidden="true"\n             ng-click="openRoomModal(room.roomId, room.price.perNight)"\n             wix-bi="ROOM_DETAILS"\n             wix-bi-args="{ origin: \'room-image\' }"\n             ng-style="{width: getImageDimensions().width + \'px\', height: getImageDimensions().height + \'px\'}">\n          <img role="presentation" ng-src="{{getHeadingImageUrl(room.headerImage)}}" alt="" class="thumbnail">\n          <span class="more" stranslate="room.MORE_INFO"></span>\n        </div>\n        <div class="info">\n          <div class="description">\n            <h3>\n              <a\n                ng-click="openRoomModal(room.roomId, room.price.perNight)"\n                wix-bi="ROOM_DETAILS"\n                wix-bi-args="{ origin: \'room-title\' }"\n                href=""\n                class="s-title"\n                stranslate="{{translations.room[room.roomId].title || room.name}}"></a>\n            </h3>\n            <p class="text" ng-if="settings.showDescription"\n               stranslate="{{translations.room[room.roomId].desc || room.shortDesc || room.longDesc}}" stranslate-truncate="getNumDescriptionChars()"></p>\n            <div ng-include="\'views/booking/partials/features.html\'"></div>\n\n          </div>\n\n          <ul class="amenities s-separator" ng-if="room.hasAmenities() && settings.showAmenities">\n            <li ng-repeat="amenity in room.getSortedAmenities() | limitTo:getNumAmenities()">\n              <div tooltip-placement="top"\n                   class="amenity"\n                   tooltip\n                   style="position: absolute"\n                   stranslate-tooltip="{{ amenity | amenityName }}"\n                   stranslate="{{ amenity | amenityName }}">\n              </div>\n              <wix-svg icon="{{ settings.amenitiesStyle + \'-\' + (amenity | amenityIcon) }}"></wix-svg>\n            </li>\n          </ul>\n\n          <div class="more-info s-button-color" stranslate="room.MORE_INFO"\n               ng-click="openRoomModal(room.roomId, room.pricePerNight)"\n               ng-show="$state.params.checkIn && settings.layoutMode === \'bigList\'"\n               wix-bi="ROOM_DETAILS"\n               wix-bi-args="{ origin: \'more-info\' }"\n            ></div>\n\n          <div class="s-separator price s-title" ng-style="{\'visibility\': (settings.showPrice || $state.params.checkIn) ? \'visible\' : \'hidden\'}">\n            <span class="from" ng-hide="room.price.perNight" stranslate="room.price.FROM"></span>\n            <span class="value" rooms-price>{{ (room.price.perNight || room.price.amount) | currency:room.price.currency }}</span>\n            <span class="from" ng-show="room.price.perNight" stranslate="room.price.PER_NIGHT"></span>\n          </div>\n\n          <div class="bottom">\n            <button ng-click="openRoomModal(room.roomId, room.pricePerNight)"\n                    class="fancy-btn s-button" ng-show="!$state.params.checkIn"\n                    wix-bi="ROOM_DETAILS"\n                    wix-bi-args="{ origin: \'more-info\' }"\n                    stranslate="room.MORE_INFO"></button>\n            <span class="booknow"\n                  ng-include="\'views/booking/booknow.html\'"\n                  ng-show="$state.params.checkIn"></span>\n          </div>\n        </div>\n      </div>\n    </li>\n  </ul>\n</div>\n'),
a.put("views/booking/single.html",'<div id="singleroom" class="s-background clearfix" wix-bi="SINGLE_VIEW" wix-bi-event="init" scroll-top>\n  <language-picker></language-picker>\n\n  <div class="widget s-separator s-background2 breakdown-widget" ng-controller="WidgetCtrl as ctrl" sticky-component ng-init="updateRoomPrice(room.roomId)">\n    <div class="heading s-separator">\n      <span class="price-prefix" stranslate="room.price.FROM"></span><br>\n      <span class="price">{{ paymentDetails.perNight || room.price.amount | currency:room.price.currency }}</span><br>\n      <span class="price-postfix" stranslate="room.price.PER_NIGHT"></span>\n    </div>\n    <div class="single-widget">\n      <div class="search">\n        <form method="get" accept-charset="utf-8" class="searchform" ng-include="\'views/booking/partials/widget.html\'">\n        </form>\n      </div>\n    </div>\n    <div ng-if="paymentDetails" class="breakdown s-field s-separator">\n      <div class="cover s-field" ng-hide="paymentDetails.$resolved">\n        <div ng-include="\'views/booking/partials/spinner.html\'" ></div>\n      </div>\n      <table>\n        <tr class="nights">\n          <td>\n            <span stranslate="header.NIGHTS" class="nightstrans"></span> &times;\n            <span ng-bind="nights"></span>\n          </td>\n          <td ng-bind="paymentDetails.roomSubtotal | currency:paymentDetails.currency"></td>\n        </tr>\n        <tr ng-repeat="charge in paymentDetails.extras">\n          <td ng-bind="charge.name"></td>\n          <td class="price" ng-bind="charge.subtotal | currency:paymentDetails.currency"></td>\n        </tr>\n        <tr class="tax" ng-if="paymentDetails.tax">\n          <td stranslate="reservation.info.TAX" stranslate-values="{ TAX: paymentDetails.taxRate }"></td>\n          <td ng-bind="paymentDetails.tax | currency:paymentDetails.currency"></td>\n        </tr>\n        <tr class="total">\n          <td stranslate="reservation.info.TOTAL"></td>\n          <td ng-bind="paymentDetails.total | currency:paymentDetails.currency"></td>\n        </tr>\n      </table>\n    </div>\n    <div class="booknow" ng-include="\'views/booking/booknow.html\'" ng-click="validate();bookNow($event, getBookingParams())" ng-show="!loading"></div>\n    <button\n      stranslate="rooms.CHECKING_YOUR_DATES"\n      disabled\n      ng-show="loading"\n      class="fancy-btn s-button button"\n      ></button>\n    <div ng-show="widgetError" class="widget-error" tooltip-popup is-open="true" stranslate-content="{{widgetError.message}}" stranslate-values="{{widgetError.params}}" placement="bottom"></div>\n  </div>\n\n  <div class="singleroom clearfix">\n    <header role="presentation">\n      <button\n        aria-label="{{ \'general.BACK_TO_ROOMS\' | translate }}"\n        class="room-back clearfix s-separator"\n        ng-click="goBackToRooms()"\n        ng-if="\'layout.innerRoom\' | isState">\n        <wix-svg icon="room-back" class="icon s-button-color"></wix-svg>\n      </button>\n      <h2 class="s-title">\n        <span stranslate="{{translations.room[room.roomId].title || room.name}}"></span>\n      </h2>\n    </header>\n\n    <div ng-include="\'views/booking/partials/gallery.html\'"></div>\n\n    <div>\n      <div class="content-block properties s-separator clearfix" ng-if="room.hasProperties()">\n        <h3 class="s-description"><span stranslate="room.PROPERTIES"></span>:</h3>\n        <div ng-include="\'views/booking/partials/features.html\'"></div>\n      </div>\n\n      <div class="content-block s-separator description s-description" ng-if="translations.room[room.roomId].desc || room.longDesc">\n        <h3 class="s-description"><span stranslate="room.MORE_INFO"></span>:</h3>\n        <p stranslate="{{ translations.room[room.roomId].desc || room.longDesc }}"></p>\n      </div>\n\n      <div class="content-block amenities s-separator clearfix" ng-if="room.hasAmenities()">\n        <h3 class="s-description">\n          <span stranslate="room.AMENITIES"></span>:\n        </h3>\n        <ul class="clearfix">\n          <li ng-repeat="amenity in room.getSortedAmenities()" class="amenity" aria-label="{{ amenity | amenityName | translate }}">\n            <div class="icon">\n              <wix-svg icon="{{settings.amenitiesStyle + \'-\' + (amenity | amenityIcon )}}" class="s-description"></wix-svg>\n            </div>\n            <span class="amenity-text" stranslate="{{ amenity | amenityName }}"></span>\n          </li>\n        </ul>\n      </div>\n\n      <div class="content-block s-separator terms clearfix" ng-if="hotel.hasTimeSection()">\n        <h3 class="s-description"><span stranslate="room.TIMES"></span>:</h3>\n        <ul class="features">\n          <li ng-if="hotel.checkInTime">\n            <span stranslate="rooms.widget.CHECK_IN"></span>:\n            <span stranslate="{{ hotel.checkInTime | hoursTranslationKey }}"></span>\n          </li>\n          <li ng-if="hotel.checkOutTime">\n            <span stranslate="rooms.widget.CHECK_OUT"></span>:\n            <span stranslate="{{ hotel.checkOutTime | hoursTranslationKey }}"></span>\n          </li>\n        </ul>\n      </div>\n\n      <div class="content-block s-separator clearfix rates" ng-if="room.hasRates()">\n        <h3 class="s-description"><span stranslate="room.RATES"></span>:</h3>\n        <ul class="features">\n          <li ng-if="room.price">\n            <span stranslate="room.DAILY"></span>:\n            <span stranslate="room.price.FROM"></span>\n            <span stranslate="{{ room.price.amount | currency:room.price.currency }}"></span>\n          </li>\n          <li ng-if="room.weeklyPrice">\n            <span stranslate="room.WEEKLY"></span>:\n            <span stranslate="room.price.FROM"></span>\n            <span stranslate="{{ room.weeklyPrice | currency:room.price.currency }}"></span>\n          </li>\n          <li ng-if="room.monthlyPrice">\n            <span stranslate="room.MONTHLY"></span>:\n            <span stranslate="room.price.FROM"></span>\n            <span stranslate="{{ room.monthlyPrice | currency:room.price.currency }}"></span>\n          </li>\n        </ul>\n      </div>\n\n      <div class="content-block s-separator tac clearfix">\n        <h3 class="s-description"><span stranslate="room.TERMS"></span>:</h3>\n        <ul class="features">\n          <li ng-if="hotel.showTermsSection()">\n            <div>\n              <div class="min-stay" ng-if="hotel.showMinimumStay()">\n                <span stranslate="room.MINIMUM"></span>:\n                <span ng-bind="hotel.minimumStay"></span>\n              </div>\n              <div class="max-stay" ng-if="hotel.showMaximumStay()">\n                <span stranslate="room.MAXIMUM"></span>:\n                <span ng-bind="hotel.maximumStay"></span>\n              </div>\n            </div>\n          </li>\n          <li class="policy-link">\n             <span translate="room.POLICIES_LINK_TEXT"\n                   translate-values="{ ATTRS: getLinkAttrs(room.roomId, { cssClass: \'policies\', origin: \'room page\' }) }"\n                   translate-compile>\n             </span>\n          </li>\n        </ul>\n      </div>\n\n      <div class="content-block s-separator clearfix" ng-if="location">\n        <div class="map" google-map coords="{{room.address.pin || location.geometry.location}}"></div>\n      </div>\n    </div>\n  </div>\n\n</div>\n'),a.put("views/booking/content.html",'<div class="rooms">\n  <div class="clearfix content-head">\n    <h2 class="s-title static-header" ng-if="!$state.params.checkIn" stranslate="header.TITLE"></h2>\n    <h2 class="s-title resultbar s-separator" ng-if="$state.params.checkIn">\n      <span stranslate="header.AVAILABLE_ROOMS"></span>\n      <strong>\n        {{ [state.params.checkIn, state.params.checkOut] | xdateRange }} |\n        {{getNumNights()}} <span stranslate="header.NIGHTS"></span>\n      </strong>\n      <a ui-sref="layout.widget.content.rooms"\n         ui-sref-opts="{inherit:false}"\n         class="back s-button-color" wix-bi="CLEAR_SEARCH"\n         stranslate="header.CLEAR"></a>\n    </h2>\n    <language-picker ng-if="!searchOnTop()"></language-picker>\n  </div>\n  <div ui-view class="content-body"></div>\n</div>\n'),a.put("views/booking/layout.html",'<div wix-bi-app-loaded wix-set-height class="layout" ng-class="[settings.layoutMode]">\n  <div ng-if="$root.error" ng-include="\'views/alert.html\'"></div>\n  <div class="setup-stripe" double-click-message></div>\n  <div class="upgradePopup" ng-if="upgradePopup" wix-bi="UPGRADE_POPUP_VIEW" wix-bi-event="init" ng-class="{\'modal\': $state.current.modal}">\n    <div ng-click="$root.upgradePopup=false" class="close" wix-bi="UPGRADE_POPUP_CLOSE"></div>\n    <div class="image"></div>\n    <h1 translate="popup.upgrade.TITLE"></h1>\n    <p translate="popup.upgrade.BODY"></p>\n    <h3 translate="popup.upgrade.FOOTER"></h3>\n    <button translate="popup.upgrade.BUTTON" wix-bi="UPGRADE_BUTTON" wix-bi-args="{origin: \'preview-popup\'}" ng-click="premiumManager.upgradeFromApp();"></button>\n  </div>\n  <div autoscroll="false"\n       id="hotel-container"\n       ng-if="settings.$resolved && $root.languageResolved"\n       class="hotel-container s-separator"\n'+"       ng-class=\"{'room-modal': $state.current.modal, notdemo: !$state.is('layout.demoreservation'), demo: $state.is('layout.demoreservation'), 'instruction-height': $root.instructionsPopup}\"\n       ui-view></div>\n  <div ng-hide=\"settings.$resolved\">\n    <!--Loading...-->\n  </div>\n</div>\n"),a.put("views/calendar/button.html",'<div\n  role="button"\n  aria-expanded="false"\n  aria-describedby="{{ name + \'-value\' }} calendar-button-help">\n  <div class="calendar-button s-separator s-field">\n    <wix-svg class="icon" icon="calendar"></wix-svg>\n    <span class="placeholder s-field" ng-if="!ngModel">{{ placeholder }}</span>\n    <span\n      id="{{ name + \'-value\' }}"\n      class="value"\n      ng-if="ngModel"\n      ng-bind="ngModel | xdate:(wixCalendarButton || \'MMMM d, yyyy\')"></span>\n  </div>\n  <div\n    class="calendar-popup s-field s-separator"\n    role="dialog"\n    aria-label="{{ \'general.CALENDAR\' | translate }}"\n    hidden>\n    <div wix-calendar\n         name="{{ name }}"\n         show-availability="{{ showAvailability }}"\n         min="{{ min }}"\n         max="{{ max }}" date="ngModel"\n         month="{{ month }}"\n         redraw-trigger="{{redrawTrigger}}"\n         bi="{{bi}}"\n         first-day-of-week="{{ firstDayOfWeek }}"\n         mark-date="markDate(date)"\n         show-other-month-days="{{ showOtherMonthDays }}">\n    </div>\n  </div>\n  <div hidden id="calendar-button-help" translate="calendar.HELP"></div>\n</div>\n'),a.put("views/calendar/spinner.html",'<div class="spinner" aria-valuenow="{{ ngModel }}" aria-valuetext="{{ ngModel }}">\n  <span ng-show="isNumber()" class="value">{{ ngModel }}</span>\n  <span ng-hide="isNumber()" class="placeholder">{{ placeholder }}</span>\n  <span class="label" ng-bind="label"></span>\n  <a\n    role="button"\n    tabindex="-1" href="#" ng-disabled="isMax()" ng-click="up($event)" class="up"\n    aria-label="{{ \'spinner.INCREASE\' | translate }}"></a>\n  <a\n    role="button"\n    tabindex="-1" href="#" ng-disabled="isMin()" ng-click="down($event)" class="down"\n    aria-label="{{ \'spinner.DECREMENT\' | translate }}"></a>\n</div>\n'),a.put("views/alert.html",'<alert type="\'danger\'"\n       close="$root.error = false"\n       ng-show="error"\n       class="alert alert-danger clearfix">\n    <span ng-show="!error.message" class="nonwix">Oops... An error {{error.status}} has occured</span>\n    <span ng-show="error.message">\n      Error: {{error.message}}\n    </span>\n  <a ng-click="$root.error = false" href="">Close</a>\n</alert>'),a.put("template/tooltip/tooltip-popup.html",'<div aria-live="polite" class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow fill"></div>\n  <div class="tooltip-arrow stroke"></div>\n  <div class="tooltip-inner s-field s-separator" ng-bind="content"></div>\n</div>\n')}]);